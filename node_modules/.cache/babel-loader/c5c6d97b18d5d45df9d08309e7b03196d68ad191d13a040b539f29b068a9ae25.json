{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.string.italics.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar QuickPickItemElementRenderer_1;\nimport * as dom from '../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { WorkbenchObjectTree } from '../../list/browser/listService.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { OS, isMacintosh } from '../../../base/common/platform.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { quickInputButtonToAction } from './quickInputUtils.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { RenderIndentGuides } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nvar $ = dom.$;\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n  QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n  QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n  QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n  QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n  QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n  QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n  QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n  QuickInputListFocus[QuickInputListFocus[\"NextSeparator\"] = 8] = \"NextSeparator\";\n  QuickInputListFocus[QuickInputListFocus[\"PreviousSeparator\"] = 9] = \"PreviousSeparator\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nvar BaseQuickPickItemElement = /*#__PURE__*/function () {\n  function BaseQuickPickItemElement(index, hasCheckbox, mainItem) {\n    var _this = this;\n    _classCallCheck(this, BaseQuickPickItemElement);\n    this.index = index;\n    this.hasCheckbox = hasCheckbox;\n    this._hidden = false;\n    this._init = new Lazy(function () {\n      var _a;\n      var saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : '';\n      var saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n      var saneAriaLabel = mainItem.ariaLabel || [saneLabel, _this.saneDescription, _this.saneDetail].map(function (s) {\n        return getCodiconAriaLabel(s);\n      }).filter(function (s) {\n        return !!s;\n      }).join(', ');\n      return {\n        saneLabel: saneLabel,\n        saneSortLabel: saneSortLabel,\n        saneAriaLabel: saneAriaLabel\n      };\n    });\n    this._saneDescription = mainItem.description;\n    this._saneTooltip = mainItem.tooltip;\n  }\n  // #region Lazy Getters\n  return _createClass(BaseQuickPickItemElement, [{\n    key: \"saneLabel\",\n    get: function get() {\n      return this._init.value.saneLabel;\n    }\n  }, {\n    key: \"saneSortLabel\",\n    get: function get() {\n      return this._init.value.saneSortLabel;\n    }\n  }, {\n    key: \"saneAriaLabel\",\n    get: function get() {\n      return this._init.value.saneAriaLabel;\n    }\n  }, {\n    key: \"element\",\n    get: function get() {\n      return this._element;\n    },\n    set: function set(value) {\n      this._element = value;\n    }\n  }, {\n    key: \"hidden\",\n    get: function get() {\n      return this._hidden;\n    },\n    set: function set(value) {\n      this._hidden = value;\n    }\n  }, {\n    key: \"saneDescription\",\n    get: function get() {\n      return this._saneDescription;\n    },\n    set: function set(value) {\n      this._saneDescription = value;\n    }\n  }, {\n    key: \"saneDetail\",\n    get: function get() {\n      return this._saneDetail;\n    },\n    set: function set(value) {\n      this._saneDetail = value;\n    }\n  }, {\n    key: \"saneTooltip\",\n    get: function get() {\n      return this._saneTooltip;\n    },\n    set: function set(value) {\n      this._saneTooltip = value;\n    }\n  }, {\n    key: \"labelHighlights\",\n    get: function get() {\n      return this._labelHighlights;\n    },\n    set: function set(value) {\n      this._labelHighlights = value;\n    }\n  }, {\n    key: \"descriptionHighlights\",\n    get: function get() {\n      return this._descriptionHighlights;\n    },\n    set: function set(value) {\n      this._descriptionHighlights = value;\n    }\n  }, {\n    key: \"detailHighlights\",\n    get: function get() {\n      return this._detailHighlights;\n    },\n    set: function set(value) {\n      this._detailHighlights = value;\n    }\n  }]);\n}();\nvar QuickPickItemElement = /*#__PURE__*/function (_BaseQuickPickItemEle) {\n  function QuickPickItemElement(index, hasCheckbox, fireButtonTriggered, _onChecked, item, _separator) {\n    var _this2;\n    _classCallCheck(this, QuickPickItemElement);\n    var _a, _b, _c;\n    _this2 = _callSuper(this, QuickPickItemElement, [index, hasCheckbox, item]);\n    _this2.fireButtonTriggered = fireButtonTriggered;\n    _this2._onChecked = _onChecked;\n    _this2.item = item;\n    _this2._separator = _separator;\n    _this2._checked = false;\n    _this2.onChecked = hasCheckbox ? Event.map(Event.filter(_this2._onChecked.event, function (e) {\n      return e.element === _this2;\n    }), function (e) {\n      return e.checked;\n    }) : Event.None;\n    _this2._saneDetail = item.detail;\n    _this2._labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n    _this2._descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n    _this2._detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n    return _this2;\n  }\n  _inherits(QuickPickItemElement, _BaseQuickPickItemEle);\n  return _createClass(QuickPickItemElement, [{\n    key: \"separator\",\n    get: function get() {\n      return this._separator;\n    },\n    set: function set(value) {\n      this._separator = value;\n    }\n  }, {\n    key: \"checked\",\n    get: function get() {\n      return this._checked;\n    },\n    set: function set(value) {\n      if (value !== this._checked) {\n        this._checked = value;\n        this._onChecked.fire({\n          element: this,\n          checked: value\n        });\n      }\n    }\n  }, {\n    key: \"checkboxDisabled\",\n    get: function get() {\n      return !!this.item.disabled;\n    }\n  }]);\n}(BaseQuickPickItemElement);\nvar QuickPickSeparatorFocusReason;\n(function (QuickPickSeparatorFocusReason) {\n  /**\n   * No item is hovered or active\n   */\n  QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"NONE\"] = 0] = \"NONE\";\n  /**\n   * Some item within this section is hovered\n   */\n  QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"MOUSE_HOVER\"] = 1] = \"MOUSE_HOVER\";\n  /**\n   * Some item within this section is active\n   */\n  QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"ACTIVE_ITEM\"] = 2] = \"ACTIVE_ITEM\";\n})(QuickPickSeparatorFocusReason || (QuickPickSeparatorFocusReason = {}));\nvar QuickPickSeparatorElement = /*#__PURE__*/function (_BaseQuickPickItemEle2) {\n  function QuickPickSeparatorElement(index, fireSeparatorButtonTriggered, separator) {\n    var _this3;\n    _classCallCheck(this, QuickPickSeparatorElement);\n    _this3 = _callSuper(this, QuickPickSeparatorElement, [index, false, separator]);\n    _this3.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;\n    _this3.separator = separator;\n    _this3.children = new Array();\n    /**\n     * If this item is >0, it means that there is some item in the list that is either:\n     * * hovered over\n     * * active\n     */\n    _this3.focusInsideSeparator = QuickPickSeparatorFocusReason.NONE;\n    return _this3;\n  }\n  _inherits(QuickPickSeparatorElement, _BaseQuickPickItemEle2);\n  return _createClass(QuickPickSeparatorElement);\n}(BaseQuickPickItemElement);\nvar QuickInputItemDelegate = /*#__PURE__*/function () {\n  function QuickInputItemDelegate() {\n    _classCallCheck(this, QuickInputItemDelegate);\n  }\n  return _createClass(QuickInputItemDelegate, [{\n    key: \"getHeight\",\n    value: function getHeight(element) {\n      if (element instanceof QuickPickSeparatorElement) {\n        return 30;\n      }\n      return element.saneDetail ? 44 : 22;\n    }\n  }, {\n    key: \"getTemplateId\",\n    value: function getTemplateId(element) {\n      if (element instanceof QuickPickItemElement) {\n        return QuickPickItemElementRenderer.ID;\n      } else {\n        return QuickPickSeparatorElementRenderer.ID;\n      }\n    }\n  }]);\n}();\nvar QuickInputAccessibilityProvider = /*#__PURE__*/function () {\n  function QuickInputAccessibilityProvider() {\n    _classCallCheck(this, QuickInputAccessibilityProvider);\n  }\n  return _createClass(QuickInputAccessibilityProvider, [{\n    key: \"getWidgetAriaLabel\",\n    value: function getWidgetAriaLabel() {\n      return localize('quickInput', \"Quick Input\");\n    }\n  }, {\n    key: \"getAriaLabel\",\n    value: function getAriaLabel(element) {\n      var _a;\n      return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label) ? \"\".concat(element.saneAriaLabel, \", \").concat(element.separator.label) : element.saneAriaLabel;\n    }\n  }, {\n    key: \"getWidgetRole\",\n    value: function getWidgetRole() {\n      return 'listbox';\n    }\n  }, {\n    key: \"getRole\",\n    value: function getRole(element) {\n      return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n  }, {\n    key: \"isChecked\",\n    value: function isChecked(element) {\n      if (!element.hasCheckbox || !(element instanceof QuickPickItemElement)) {\n        return undefined;\n      }\n      return {\n        value: element.checked,\n        onDidChange: element.onChecked\n      };\n    }\n  }]);\n}();\nvar BaseQuickInputListRenderer = /*#__PURE__*/function () {\n  function BaseQuickInputListRenderer(hoverDelegate) {\n    _classCallCheck(this, BaseQuickInputListRenderer);\n    this.hoverDelegate = hoverDelegate;\n  }\n  // TODO: only do the common stuff here and have a subclass handle their specific stuff\n  return _createClass(BaseQuickInputListRenderer, [{\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      var data = Object.create(null);\n      data.toDisposeElement = new DisposableStore();\n      data.toDisposeTemplate = new DisposableStore();\n      data.entry = dom.append(container, $('.quick-input-list-entry'));\n      // Checkbox\n      var label = dom.append(data.entry, $('label.quick-input-list-label'));\n      data.toDisposeTemplate.add(dom.addStandardDisposableListener(label, dom.EventType.CLICK, function (e) {\n        if (!data.checkbox.offsetParent) {\n          // If checkbox not visible:\n          e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n        }\n      }));\n      data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n      data.checkbox.type = 'checkbox';\n      // Rows\n      var rows = dom.append(label, $('.quick-input-list-rows'));\n      var row1 = dom.append(rows, $('.quick-input-list-row'));\n      var row2 = dom.append(rows, $('.quick-input-list-row'));\n      // Label\n      data.label = new IconLabel(row1, {\n        supportHighlights: true,\n        supportDescriptionHighlights: true,\n        supportIcons: true,\n        hoverDelegate: this.hoverDelegate\n      });\n      data.toDisposeTemplate.add(data.label);\n      data.icon = dom.prepend(data.label.element, $('.quick-input-list-icon'));\n      // Keybinding\n      var keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n      data.keybinding = new KeybindingLabel(keybindingContainer, OS);\n      data.toDisposeTemplate.add(data.keybinding);\n      // Detail\n      var detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n      data.detail = new IconLabel(detailContainer, {\n        supportHighlights: true,\n        supportIcons: true,\n        hoverDelegate: this.hoverDelegate\n      });\n      data.toDisposeTemplate.add(data.detail);\n      // Separator\n      data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n      // Actions\n      data.actionBar = new ActionBar(data.entry, this.hoverDelegate ? {\n        hoverDelegate: this.hoverDelegate\n      } : undefined);\n      data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n      data.toDisposeTemplate.add(data.actionBar);\n      return data;\n    }\n  }, {\n    key: \"disposeTemplate\",\n    value: function disposeTemplate(data) {\n      data.toDisposeElement.dispose();\n      data.toDisposeTemplate.dispose();\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(_element, _index, data) {\n      data.toDisposeElement.clear();\n      data.actionBar.clear();\n    }\n  }]);\n}();\nvar QuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = /*#__PURE__*/function (_BaseQuickInputListRe) {\n  function QuickPickItemElementRenderer(hoverDelegate, themeService) {\n    var _this4;\n    _classCallCheck(this, QuickPickItemElementRenderer);\n    _this4 = _callSuper(this, QuickPickItemElementRenderer, [hoverDelegate]);\n    _this4.themeService = themeService;\n    // Follow what we do in the separator renderer\n    _this4._itemsWithSeparatorsFrequency = new Map();\n    return _this4;\n  }\n  _inherits(QuickPickItemElementRenderer, _BaseQuickInputListRe);\n  return _createClass(QuickPickItemElementRenderer, [{\n    key: \"templateId\",\n    get: function get() {\n      return QuickPickItemElementRenderer_1.ID;\n    }\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      var data = _get(_getPrototypeOf(QuickPickItemElementRenderer.prototype), \"renderTemplate\", this).call(this, container);\n      data.toDisposeTemplate.add(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, function (e) {\n        data.element.checked = data.checkbox.checked;\n      }));\n      return data;\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(node, index, data) {\n      var _a, _b, _c;\n      var element = node.element;\n      data.element = element;\n      element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n      var mainItem = element.item;\n      data.checkbox.checked = element.checked;\n      data.toDisposeElement.add(element.onChecked(function (checked) {\n        return data.checkbox.checked = checked;\n      }));\n      data.checkbox.disabled = element.checkboxDisabled;\n      var labelHighlights = element.labelHighlights,\n        descriptionHighlights = element.descriptionHighlights,\n        detailHighlights = element.detailHighlights;\n      // Icon\n      if (mainItem.iconPath) {\n        var icon = isDark(this.themeService.getColorTheme().type) ? mainItem.iconPath.dark : (_b = mainItem.iconPath.light) !== null && _b !== void 0 ? _b : mainItem.iconPath.dark;\n        var iconUrl = URI.revive(icon);\n        data.icon.className = 'quick-input-list-icon';\n        data.icon.style.backgroundImage = dom.asCSSUrl(iconUrl);\n      } else {\n        data.icon.style.backgroundImage = '';\n        data.icon.className = mainItem.iconClass ? \"quick-input-list-icon \".concat(mainItem.iconClass) : '';\n      }\n      // Label\n      var descriptionTitle;\n      // if we have a tooltip, that will be the hover,\n      // with the saneDescription as fallback if it\n      // is defined\n      if (!element.saneTooltip && element.saneDescription) {\n        descriptionTitle = {\n          markdown: {\n            value: element.saneDescription,\n            supportThemeIcons: true\n          },\n          markdownNotSupportedFallback: element.saneDescription\n        };\n      }\n      var options = {\n        matches: labelHighlights || [],\n        // If we have a tooltip, we want that to be shown and not any other hover\n        descriptionTitle: descriptionTitle,\n        descriptionMatches: descriptionHighlights || [],\n        labelEscapeNewLines: true\n      };\n      options.extraClasses = mainItem.iconClasses;\n      options.italic = mainItem.italic;\n      options.strikethrough = mainItem.strikethrough;\n      data.entry.classList.remove('quick-input-list-separator-as-item');\n      data.label.setLabel(element.saneLabel, element.saneDescription, options);\n      // Keybinding\n      data.keybinding.set(mainItem.keybinding);\n      // Detail\n      if (element.saneDetail) {\n        var title;\n        // If we have a tooltip, we want that to be shown and not any other hover\n        if (!element.saneTooltip) {\n          title = {\n            markdown: {\n              value: element.saneDetail,\n              supportThemeIcons: true\n            },\n            markdownNotSupportedFallback: element.saneDetail\n          };\n        }\n        data.detail.element.style.display = '';\n        data.detail.setLabel(element.saneDetail, undefined, {\n          matches: detailHighlights,\n          title: title,\n          labelEscapeNewLines: true\n        });\n      } else {\n        data.detail.element.style.display = 'none';\n      }\n      // Separator\n      if ((_c = element.separator) === null || _c === void 0 ? void 0 : _c.label) {\n        data.separator.textContent = element.separator.label;\n        data.separator.style.display = '';\n        this.addItemWithSeparator(element);\n      } else {\n        data.separator.style.display = 'none';\n      }\n      data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n      // Actions\n      var buttons = mainItem.buttons;\n      if (buttons && buttons.length) {\n        data.actionBar.push(buttons.map(function (button, index) {\n          return quickInputButtonToAction(button, \"id-\".concat(index), function () {\n            return element.fireButtonTriggered({\n              button: button,\n              item: element.item\n            });\n          });\n        }), {\n          icon: true,\n          label: false\n        });\n        data.entry.classList.add('has-actions');\n      } else {\n        data.entry.classList.remove('has-actions');\n      }\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(element, _index, data) {\n      this.removeItemWithSeparator(element.element);\n      _get(_getPrototypeOf(QuickPickItemElementRenderer.prototype), \"disposeElement\", this).call(this, element, _index, data);\n    }\n  }, {\n    key: \"isItemWithSeparatorVisible\",\n    value: function isItemWithSeparatorVisible(item) {\n      return this._itemsWithSeparatorsFrequency.has(item);\n    }\n  }, {\n    key: \"addItemWithSeparator\",\n    value: function addItemWithSeparator(item) {\n      this._itemsWithSeparatorsFrequency.set(item, (this._itemsWithSeparatorsFrequency.get(item) || 0) + 1);\n    }\n  }, {\n    key: \"removeItemWithSeparator\",\n    value: function removeItemWithSeparator(item) {\n      var frequency = this._itemsWithSeparatorsFrequency.get(item) || 0;\n      if (frequency > 1) {\n        this._itemsWithSeparatorsFrequency.set(item, frequency - 1);\n      } else {\n        this._itemsWithSeparatorsFrequency[\"delete\"](item);\n      }\n    }\n  }]);\n}(BaseQuickInputListRenderer);\nQuickPickItemElementRenderer.ID = 'quickpickitem';\nQuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = __decorate([__param(1, IThemeService)], QuickPickItemElementRenderer);\nvar QuickPickSeparatorElementRenderer = /*#__PURE__*/function (_BaseQuickInputListRe2) {\n  function QuickPickSeparatorElementRenderer() {\n    var _this5;\n    _classCallCheck(this, QuickPickSeparatorElementRenderer);\n    _this5 = _callSuper(this, QuickPickSeparatorElementRenderer, arguments);\n    // This is a frequency map because sticky scroll re-uses the same renderer to render a second\n    // instance of the same separator.\n    _this5._visibleSeparatorsFrequency = new Map();\n    return _this5;\n  }\n  _inherits(QuickPickSeparatorElementRenderer, _BaseQuickInputListRe2);\n  return _createClass(QuickPickSeparatorElementRenderer, [{\n    key: \"templateId\",\n    get: function get() {\n      return QuickPickSeparatorElementRenderer.ID;\n    }\n  }, {\n    key: \"visibleSeparators\",\n    get: function get() {\n      return _toConsumableArray(this._visibleSeparatorsFrequency.keys());\n    }\n  }, {\n    key: \"isSeparatorVisible\",\n    value: function isSeparatorVisible(separator) {\n      return this._visibleSeparatorsFrequency.has(separator);\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(node, index, data) {\n      var _a;\n      var element = node.element;\n      data.element = element;\n      element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n      element.element.classList.toggle('focus-inside', !!element.focusInsideSeparator);\n      var mainItem = element.separator;\n      var labelHighlights = element.labelHighlights,\n        descriptionHighlights = element.descriptionHighlights,\n        detailHighlights = element.detailHighlights;\n      // Icon\n      data.icon.style.backgroundImage = '';\n      data.icon.className = '';\n      // Label\n      var descriptionTitle;\n      // if we have a tooltip, that will be the hover,\n      // with the saneDescription as fallback if it\n      // is defined\n      if (!element.saneTooltip && element.saneDescription) {\n        descriptionTitle = {\n          markdown: {\n            value: element.saneDescription,\n            supportThemeIcons: true\n          },\n          markdownNotSupportedFallback: element.saneDescription\n        };\n      }\n      var options = {\n        matches: labelHighlights || [],\n        // If we have a tooltip, we want that to be shown and not any other hover\n        descriptionTitle: descriptionTitle,\n        descriptionMatches: descriptionHighlights || [],\n        labelEscapeNewLines: true\n      };\n      data.entry.classList.add('quick-input-list-separator-as-item');\n      data.label.setLabel(element.saneLabel, element.saneDescription, options);\n      // Detail\n      if (element.saneDetail) {\n        var title;\n        // If we have a tooltip, we want that to be shown and not any other hover\n        if (!element.saneTooltip) {\n          title = {\n            markdown: {\n              value: element.saneDetail,\n              supportThemeIcons: true\n            },\n            markdownNotSupportedFallback: element.saneDetail\n          };\n        }\n        data.detail.element.style.display = '';\n        data.detail.setLabel(element.saneDetail, undefined, {\n          matches: detailHighlights,\n          title: title,\n          labelEscapeNewLines: true\n        });\n      } else {\n        data.detail.element.style.display = 'none';\n      }\n      // Separator\n      data.separator.style.display = 'none';\n      data.entry.classList.add('quick-input-list-separator-border');\n      // Actions\n      var buttons = mainItem.buttons;\n      if (buttons && buttons.length) {\n        data.actionBar.push(buttons.map(function (button, index) {\n          return quickInputButtonToAction(button, \"id-\".concat(index), function () {\n            return element.fireSeparatorButtonTriggered({\n              button: button,\n              separator: element.separator\n            });\n          });\n        }), {\n          icon: true,\n          label: false\n        });\n        data.entry.classList.add('has-actions');\n      } else {\n        data.entry.classList.remove('has-actions');\n      }\n      this.addSeparator(element);\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(element, _index, data) {\n      var _a;\n      this.removeSeparator(element.element);\n      if (!this.isSeparatorVisible(element.element)) {\n        (_a = element.element.element) === null || _a === void 0 ? void 0 : _a.classList.remove('focus-inside');\n      }\n      _get(_getPrototypeOf(QuickPickSeparatorElementRenderer.prototype), \"disposeElement\", this).call(this, element, _index, data);\n    }\n  }, {\n    key: \"addSeparator\",\n    value: function addSeparator(separator) {\n      this._visibleSeparatorsFrequency.set(separator, (this._visibleSeparatorsFrequency.get(separator) || 0) + 1);\n    }\n  }, {\n    key: \"removeSeparator\",\n    value: function removeSeparator(separator) {\n      var frequency = this._visibleSeparatorsFrequency.get(separator) || 0;\n      if (frequency > 1) {\n        this._visibleSeparatorsFrequency.set(separator, frequency - 1);\n      } else {\n        this._visibleSeparatorsFrequency[\"delete\"](separator);\n      }\n    }\n  }]);\n}(BaseQuickInputListRenderer);\nQuickPickSeparatorElementRenderer.ID = 'quickpickseparator';\nvar QuickInputTree = /*#__PURE__*/function (_Disposable) {\n  function QuickInputTree(parent, hoverDelegate, linkOpenerDelegate, id, instantiationService) {\n    var _this6;\n    _classCallCheck(this, QuickInputTree);\n    _this6 = _callSuper(this, QuickInputTree);\n    _this6.parent = parent;\n    _this6.hoverDelegate = hoverDelegate;\n    _this6.linkOpenerDelegate = linkOpenerDelegate;\n    _this6._onKeyDown = new Emitter();\n    /**\n     * Event that is fired when the tree receives a keydown.\n    */\n    _this6.onKeyDown = _this6._onKeyDown.event;\n    _this6._onLeave = new Emitter();\n    /**\n     * Event that is fired when the tree would no longer have focus.\n    */\n    _this6.onLeave = _this6._onLeave.event;\n    _this6._onChangedAllVisibleChecked = new Emitter();\n    _this6.onChangedAllVisibleChecked = _this6._onChangedAllVisibleChecked.event;\n    _this6._onChangedCheckedCount = new Emitter();\n    _this6.onChangedCheckedCount = _this6._onChangedCheckedCount.event;\n    _this6._onChangedVisibleCount = new Emitter();\n    _this6.onChangedVisibleCount = _this6._onChangedVisibleCount.event;\n    _this6._onChangedCheckedElements = new Emitter();\n    _this6.onChangedCheckedElements = _this6._onChangedCheckedElements.event;\n    _this6._onButtonTriggered = new Emitter();\n    _this6.onButtonTriggered = _this6._onButtonTriggered.event;\n    _this6._onSeparatorButtonTriggered = new Emitter();\n    _this6.onSeparatorButtonTriggered = _this6._onSeparatorButtonTriggered.event;\n    _this6._onTriggerEmptySelectionOrFocus = new Emitter();\n    _this6._elementChecked = new Emitter();\n    _this6._inputElements = new Array();\n    _this6._elementTree = new Array();\n    _this6._itemElements = new Array();\n    // Elements that apply to the current set of elements\n    _this6._elementDisposable = _this6._register(new DisposableStore());\n    // This is used to prevent setting the checked state of a single element from firing the checked events\n    // so that we can batch them together. This can probably be improved by handling events differently,\n    // but this works for now. An observable would probably be ideal for this.\n    _this6._shouldFireCheckedEvents = true;\n    _this6._matchOnDescription = false;\n    _this6._matchOnDetail = false;\n    _this6._matchOnLabel = true;\n    _this6._matchOnLabelMode = 'fuzzy';\n    _this6._sortByLabel = true;\n    _this6._container = dom.append(_this6.parent, $('.quick-input-list'));\n    _this6._separatorRenderer = new QuickPickSeparatorElementRenderer(hoverDelegate);\n    _this6._itemRenderer = instantiationService.createInstance(QuickPickItemElementRenderer, hoverDelegate);\n    _this6._tree = _this6._register(instantiationService.createInstance(WorkbenchObjectTree, 'QuickInput', _this6._container, new QuickInputItemDelegate(), [_this6._itemRenderer, _this6._separatorRenderer], {\n      accessibilityProvider: new QuickInputAccessibilityProvider(),\n      setRowLineHeight: false,\n      multipleSelectionSupport: false,\n      hideTwistiesOfChildlessElements: true,\n      renderIndentGuides: RenderIndentGuides.None,\n      findWidgetEnabled: false,\n      indent: 0,\n      horizontalScrolling: false,\n      allowNonCollapsibleParents: true,\n      identityProvider: {\n        getId: function getId(element) {\n          var _a, _b, _c, _d, _e, _f, _g, _h;\n          // always prefer item over separator because if item is defined, it must be the main item type\n          // always prefer a defined id if one was specified and use label as a fallback\n          return (_h = (_f = (_d = (_b = (_a = element.item) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (_c = element.item) === null || _c === void 0 ? void 0 : _c.label) !== null && _d !== void 0 ? _d : (_e = element.separator) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : (_g = element.separator) === null || _g === void 0 ? void 0 : _g.label) !== null && _h !== void 0 ? _h : '';\n        }\n      },\n      alwaysConsumeMouseWheel: true\n    }));\n    _this6._tree.getHTMLElement().id = id;\n    _this6._registerListeners();\n    return _this6;\n  }\n  //#region public getters/setters\n  _inherits(QuickInputTree, _Disposable);\n  return _createClass(QuickInputTree, [{\n    key: \"onDidChangeFocus\",\n    get: function get() {\n      return Event.map(Event.any(this._tree.onDidChangeFocus, this._onTriggerEmptySelectionOrFocus.event), function (e) {\n        return e.elements.filter(function (e) {\n          return e instanceof QuickPickItemElement;\n        }).map(function (e) {\n          return e.item;\n        });\n      });\n    }\n  }, {\n    key: \"onDidChangeSelection\",\n    get: function get() {\n      return Event.map(Event.any(this._tree.onDidChangeSelection, this._onTriggerEmptySelectionOrFocus.event), function (e) {\n        return {\n          items: e.elements.filter(function (e) {\n            return e instanceof QuickPickItemElement;\n          }).map(function (e) {\n            return e.item;\n          }),\n          event: e.browserEvent\n        };\n      });\n    }\n  }, {\n    key: \"scrollTop\",\n    get: function get() {\n      return this._tree.scrollTop;\n    },\n    set: function set(scrollTop) {\n      this._tree.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"ariaLabel\",\n    get: function get() {\n      return this._tree.ariaLabel;\n    },\n    set: function set(label) {\n      this._tree.ariaLabel = label !== null && label !== void 0 ? label : '';\n    }\n  }, {\n    key: \"enabled\",\n    set: function set(value) {\n      this._tree.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n  }, {\n    key: \"matchOnDescription\",\n    get: function get() {\n      return this._matchOnDescription;\n    },\n    set: function set(value) {\n      this._matchOnDescription = value;\n    }\n  }, {\n    key: \"matchOnDetail\",\n    get: function get() {\n      return this._matchOnDetail;\n    },\n    set: function set(value) {\n      this._matchOnDetail = value;\n    }\n  }, {\n    key: \"matchOnLabel\",\n    get: function get() {\n      return this._matchOnLabel;\n    },\n    set: function set(value) {\n      this._matchOnLabel = value;\n    }\n  }, {\n    key: \"matchOnLabelMode\",\n    get: function get() {\n      return this._matchOnLabelMode;\n    },\n    set: function set(value) {\n      this._matchOnLabelMode = value;\n    }\n  }, {\n    key: \"sortByLabel\",\n    get: function get() {\n      return this._sortByLabel;\n    },\n    set: function set(value) {\n      this._sortByLabel = value;\n    }\n    //#endregion\n    //#region register listeners\n  }, {\n    key: \"_registerListeners\",\n    value: function _registerListeners() {\n      this._registerOnKeyDown();\n      this._registerOnContainerClick();\n      this._registerOnMouseMiddleClick();\n      this._registerOnElementChecked();\n      this._registerOnContextMenu();\n      this._registerHoverListeners();\n      this._registerSelectionChangeListener();\n      this._registerSeparatorActionShowingListeners();\n    }\n  }, {\n    key: \"_registerOnKeyDown\",\n    value: function _registerOnKeyDown() {\n      var _this7 = this;\n      // TODO: Should this be added at a higher level?\n      this._register(this._tree.onKeyDown(function (e) {\n        var event = new StandardKeyboardEvent(e);\n        switch (event.keyCode) {\n          case 10 /* KeyCode.Space */:\n            _this7.toggleCheckbox();\n            break;\n          case 31 /* KeyCode.KeyA */:\n            if (isMacintosh ? e.metaKey : e.ctrlKey) {\n              _this7._tree.setFocus(_this7._itemElements);\n            }\n            break;\n          // When we hit the top of the tree, we fire the onLeave event.\n          case 16 /* KeyCode.UpArrow */:\n            {\n              var focus1 = _this7._tree.getFocus();\n              if (focus1.length === 1 && focus1[0] === _this7._itemElements[0]) {\n                _this7._onLeave.fire();\n              }\n              break;\n            }\n          // When we hit the bottom of the tree, we fire the onLeave event.\n          case 18 /* KeyCode.DownArrow */:\n            {\n              var focus2 = _this7._tree.getFocus();\n              if (focus2.length === 1 && focus2[0] === _this7._itemElements[_this7._itemElements.length - 1]) {\n                _this7._onLeave.fire();\n              }\n              break;\n            }\n        }\n        _this7._onKeyDown.fire(event);\n      }));\n    }\n  }, {\n    key: \"_registerOnContainerClick\",\n    value: function _registerOnContainerClick() {\n      var _this8 = this;\n      this._register(dom.addDisposableListener(this._container, dom.EventType.CLICK, function (e) {\n        if (e.x || e.y) {\n          // Avoid 'click' triggered by 'space' on checkbox.\n          _this8._onLeave.fire();\n        }\n      }));\n    }\n  }, {\n    key: \"_registerOnMouseMiddleClick\",\n    value: function _registerOnMouseMiddleClick() {\n      var _this9 = this;\n      this._register(dom.addDisposableListener(this._container, dom.EventType.AUXCLICK, function (e) {\n        if (e.button === 1) {\n          _this9._onLeave.fire();\n        }\n      }));\n    }\n  }, {\n    key: \"_registerOnElementChecked\",\n    value: function _registerOnElementChecked() {\n      var _this10 = this;\n      this._register(this._elementChecked.event(function (_) {\n        return _this10._fireCheckedEvents();\n      }));\n    }\n  }, {\n    key: \"_registerOnContextMenu\",\n    value: function _registerOnContextMenu() {\n      var _this11 = this;\n      this._register(this._tree.onContextMenu(function (e) {\n        if (e.element) {\n          e.browserEvent.preventDefault();\n          // we want to treat a context menu event as\n          // a gesture to open the item at the index\n          // since we do not have any context menu\n          // this enables for example macOS to Ctrl-\n          // click on an item to open it.\n          _this11._tree.setSelection([e.element]);\n        }\n      }));\n    }\n  }, {\n    key: \"_registerHoverListeners\",\n    value: function _registerHoverListeners() {\n      var _this12 = this;\n      var delayer = this._register(new ThrottledDelayer(this.hoverDelegate.delay));\n      this._register(this._tree.onMouseOver( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n          var _a;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(e.browserEvent.target instanceof HTMLAnchorElement)) {\n                  _context2.next = 3;\n                  break;\n                }\n                delayer.cancel();\n                return _context2.abrupt(\"return\");\n              case 3:\n                if (!(\n                // anchors are an exception as called out above so we skip them here\n                !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element))) {\n                  _context2.next = 5;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 5:\n                _context2.prev = 5;\n                _context2.next = 8;\n                return delayer.trigger( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        if (e.element instanceof QuickPickItemElement) {\n                          _this12.showHover(e.element);\n                        }\n                      case 1:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee);\n                })));\n              case 8:\n                _context2.next = 14;\n                break;\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](5);\n                if (isCancellationError(_context2.t0)) {\n                  _context2.next = 14;\n                  break;\n                }\n                throw _context2.t0;\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, null, [[5, 10]]);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n      this._register(this._tree.onMouseOut(function (e) {\n        var _a;\n        // onMouseOut triggers every time a new element has been moused over\n        // even if it's on the same list item. We only want one event, so we\n        // check if the mouse is still over the same element.\n        if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n          return;\n        }\n        delayer.cancel();\n      }));\n    }\n    /**\n     * Register's focus change and mouse events so that we can track when items inside of a\n     * separator's section are focused or hovered so that we can display the separator's actions\n     */\n  }, {\n    key: \"_registerSeparatorActionShowingListeners\",\n    value: function _registerSeparatorActionShowingListeners() {\n      var _this13 = this;\n      this._register(this._tree.onDidChangeFocus(function (e) {\n        var parent = e.elements[0] ? _this13._tree.getParentElement(e.elements[0])\n        // treat null as focus lost and when we have no separators\n        : null;\n        var _iterator = _createForOfIteratorHelper(_this13._separatorRenderer.visibleSeparators),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var separator = _step.value;\n            var value = separator === parent;\n            // get bitness of ACTIVE_ITEM and check if it changed\n            var currentActive = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.ACTIVE_ITEM);\n            if (currentActive !== value) {\n              if (value) {\n                separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n              } else {\n                separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n              }\n              _this13._tree.rerender(separator);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }));\n      this._register(this._tree.onMouseOver(function (e) {\n        var parent = e.element ? _this13._tree.getParentElement(e.element) : null;\n        var _iterator2 = _createForOfIteratorHelper(_this13._separatorRenderer.visibleSeparators),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var separator = _step2.value;\n            if (separator !== parent) {\n              continue;\n            }\n            var currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n            if (!currentMouse) {\n              separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.MOUSE_HOVER;\n              _this13._tree.rerender(separator);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }));\n      this._register(this._tree.onMouseOut(function (e) {\n        var parent = e.element ? _this13._tree.getParentElement(e.element) : null;\n        var _iterator3 = _createForOfIteratorHelper(_this13._separatorRenderer.visibleSeparators),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var separator = _step3.value;\n            if (separator !== parent) {\n              continue;\n            }\n            var currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n            if (currentMouse) {\n              separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.MOUSE_HOVER;\n              _this13._tree.rerender(separator);\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }));\n    }\n  }, {\n    key: \"_registerSelectionChangeListener\",\n    value: function _registerSelectionChangeListener() {\n      var _this14 = this;\n      // When the user selects a separator, the separator will move to the top and focus will be\n      // set to the first element after the separator.\n      this._register(this._tree.onDidChangeSelection(function (e) {\n        var elementsWithoutSeparators = e.elements.filter(function (e) {\n          return e instanceof QuickPickItemElement;\n        });\n        if (elementsWithoutSeparators.length !== e.elements.length) {\n          if (e.elements.length === 1 && e.elements[0] instanceof QuickPickSeparatorElement) {\n            _this14._tree.setFocus([e.elements[0].children[0]]);\n            _this14._tree.reveal(e.elements[0], 0);\n          }\n          _this14._tree.setSelection(elementsWithoutSeparators);\n        }\n      }));\n    }\n    //#endregion\n    //#region public methods\n  }, {\n    key: \"getAllVisibleChecked\",\n    value: function getAllVisibleChecked() {\n      return this._allVisibleChecked(this._itemElements, false);\n    }\n  }, {\n    key: \"getCheckedCount\",\n    value: function getCheckedCount() {\n      return this._itemElements.filter(function (element) {\n        return element.checked;\n      }).length;\n    }\n  }, {\n    key: \"getVisibleCount\",\n    value: function getVisibleCount() {\n      return this._itemElements.filter(function (e) {\n        return !e.hidden;\n      }).length;\n    }\n  }, {\n    key: \"setAllVisibleChecked\",\n    value: function setAllVisibleChecked(checked) {\n      try {\n        this._shouldFireCheckedEvents = false;\n        this._itemElements.forEach(function (element) {\n          if (!element.hidden && !element.checkboxDisabled) {\n            // Would fire an event if we didn't have the flag set\n            element.checked = checked;\n          }\n        });\n      } finally {\n        this._shouldFireCheckedEvents = true;\n        this._fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements(inputElements) {\n      var _this15 = this;\n      this._elementDisposable.clear();\n      this._inputElements = inputElements;\n      var hasCheckbox = this.parent.classList.contains('show-checkboxes');\n      var currentSeparatorElement;\n      this._itemElements = new Array();\n      this._elementTree = inputElements.reduce(function (result, item, index) {\n        var element;\n        if (item.type === 'separator') {\n          if (!item.buttons) {\n            // This separator will be rendered as a part of the list item\n            return result;\n          }\n          currentSeparatorElement = new QuickPickSeparatorElement(index, function (event) {\n            return _this15.fireSeparatorButtonTriggered(event);\n          }, item);\n          element = currentSeparatorElement;\n        } else {\n          var previous = index > 0 ? inputElements[index - 1] : undefined;\n          var separator;\n          if (previous && previous.type === 'separator' && !previous.buttons) {\n            // Found an inline separator so we clear out the current separator element\n            currentSeparatorElement = undefined;\n            separator = previous;\n          }\n          var qpi = new QuickPickItemElement(index, hasCheckbox, function (event) {\n            return _this15.fireButtonTriggered(event);\n          }, _this15._elementChecked, item, separator);\n          _this15._itemElements.push(qpi);\n          if (currentSeparatorElement) {\n            currentSeparatorElement.children.push(qpi);\n            return result;\n          }\n          element = qpi;\n        }\n        result.push(element);\n        return result;\n      }, new Array());\n      var elements = new Array();\n      var visibleCount = 0;\n      var _iterator4 = _createForOfIteratorHelper(this._elementTree),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var element = _step4.value;\n          if (element instanceof QuickPickSeparatorElement) {\n            elements.push({\n              element: element,\n              collapsible: false,\n              collapsed: false,\n              children: element.children.map(function (e) {\n                return {\n                  element: e,\n                  collapsible: false,\n                  collapsed: false\n                };\n              })\n            });\n            visibleCount += element.children.length + 1; // +1 for the separator itself;\n          } else {\n            elements.push({\n              element: element,\n              collapsible: false,\n              collapsed: false\n            });\n            visibleCount++;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      this._tree.setChildren(null, elements);\n      this._onChangedVisibleCount.fire(visibleCount);\n    }\n  }, {\n    key: \"setFocusedElements\",\n    value: function setFocusedElements(items) {\n      var _this16 = this;\n      var elements = items.map(function (item) {\n        return _this16._itemElements.find(function (e) {\n          return e.item === item;\n        });\n      }).filter(function (e) {\n        return !!e;\n      });\n      this._tree.setFocus(elements);\n      if (items.length > 0) {\n        var focused = this._tree.getFocus()[0];\n        if (focused) {\n          this._tree.reveal(focused);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveDescendant\",\n    value: function getActiveDescendant() {\n      return this._tree.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n  }, {\n    key: \"setSelectedElements\",\n    value: function setSelectedElements(items) {\n      var _this17 = this;\n      var elements = items.map(function (item) {\n        return _this17._itemElements.find(function (e) {\n          return e.item === item;\n        });\n      }).filter(function (e) {\n        return !!e;\n      });\n      this._tree.setSelection(elements);\n    }\n  }, {\n    key: \"getCheckedElements\",\n    value: function getCheckedElements() {\n      return this._itemElements.filter(function (e) {\n        return e.checked;\n      }).map(function (e) {\n        return e.item;\n      });\n    }\n  }, {\n    key: \"setCheckedElements\",\n    value: function setCheckedElements(items) {\n      try {\n        this._shouldFireCheckedEvents = false;\n        var checked = new Set();\n        var _iterator5 = _createForOfIteratorHelper(items),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var item = _step5.value;\n            checked.add(item);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        var _iterator6 = _createForOfIteratorHelper(this._itemElements),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var element = _step6.value;\n            // Would fire an event if we didn't have the flag set\n            element.checked = checked.has(element.item);\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n      } finally {\n        this._shouldFireCheckedEvents = true;\n        this._fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(what) {\n      var _this18 = this;\n      var _a;\n      if (!this._itemElements.length) {\n        return;\n      }\n      if (what === QuickInputListFocus.Second && this._itemElements.length < 2) {\n        what = QuickInputListFocus.First;\n      }\n      switch (what) {\n        case QuickInputListFocus.First:\n          this._tree.scrollTop = 0;\n          this._tree.focusFirst(undefined, function (e) {\n            return e.element instanceof QuickPickItemElement;\n          });\n          break;\n        case QuickInputListFocus.Second:\n          this._tree.scrollTop = 0;\n          this._tree.setFocus([this._itemElements[1]]);\n          break;\n        case QuickInputListFocus.Last:\n          this._tree.scrollTop = this._tree.scrollHeight;\n          this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n          break;\n        case QuickInputListFocus.Next:\n          this._tree.focusNext(undefined, true, undefined, function (e) {\n            if (!(e.element instanceof QuickPickItemElement)) {\n              return false;\n            }\n            _this18._tree.reveal(e.element);\n            return true;\n          });\n          break;\n        case QuickInputListFocus.Previous:\n          this._tree.focusPrevious(undefined, true, undefined, function (e) {\n            if (!(e.element instanceof QuickPickItemElement)) {\n              return false;\n            }\n            var parent = _this18._tree.getParentElement(e.element);\n            if (parent === null || parent.children[0] !== e.element) {\n              _this18._tree.reveal(e.element);\n            } else {\n              // Only if we are the first child of a separator do we reveal the separator\n              _this18._tree.reveal(parent);\n            }\n            return true;\n          });\n          break;\n        case QuickInputListFocus.NextPage:\n          this._tree.focusNextPage(undefined, function (e) {\n            if (!(e.element instanceof QuickPickItemElement)) {\n              return false;\n            }\n            _this18._tree.reveal(e.element);\n            return true;\n          });\n          break;\n        case QuickInputListFocus.PreviousPage:\n          this._tree.focusPreviousPage(undefined, function (e) {\n            if (!(e.element instanceof QuickPickItemElement)) {\n              return false;\n            }\n            var parent = _this18._tree.getParentElement(e.element);\n            if (parent === null || parent.children[0] !== e.element) {\n              _this18._tree.reveal(e.element);\n            } else {\n              _this18._tree.reveal(parent);\n            }\n            return true;\n          });\n          break;\n        case QuickInputListFocus.NextSeparator:\n          {\n            var foundSeparatorAsItem = false;\n            var before = this._tree.getFocus()[0];\n            this._tree.focusNext(undefined, true, undefined, function (e) {\n              if (foundSeparatorAsItem) {\n                // This should be the index right after the separator so it\n                // is the item we want to focus.\n                return true;\n              }\n              if (e.element instanceof QuickPickSeparatorElement) {\n                foundSeparatorAsItem = true;\n                // If the separator is visible, then we should just reveal its first child so it's not as jarring.\n                if (_this18._separatorRenderer.isSeparatorVisible(e.element)) {\n                  _this18._tree.reveal(e.element.children[0]);\n                } else {\n                  // If the separator is not visible, then we should\n                  // push it up to the top of the list.\n                  _this18._tree.reveal(e.element, 0);\n                }\n              } else if (e.element instanceof QuickPickItemElement) {\n                if (e.element.separator) {\n                  if (_this18._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                    _this18._tree.reveal(e.element);\n                  } else {\n                    _this18._tree.reveal(e.element, 0);\n                  }\n                  return true;\n                } else if (e.element === _this18._elementTree[0]) {\n                  // We should stop at the first item in the list if it's a regular item.\n                  _this18._tree.reveal(e.element, 0);\n                  return true;\n                }\n              }\n              return false;\n            });\n            var after = this._tree.getFocus()[0];\n            if (before === after) {\n              // If we didn't move, then we should just move to the end\n              // of the list.\n              this._tree.scrollTop = this._tree.scrollHeight;\n              this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n            }\n            break;\n          }\n        case QuickInputListFocus.PreviousSeparator:\n          {\n            var focusElement;\n            // If we are already sitting on an inline separator, then we\n            // have already found the _current_ separator and need to\n            // move to the previous one.\n            var foundSeparator = !!((_a = this._tree.getFocus()[0]) === null || _a === void 0 ? void 0 : _a.separator);\n            this._tree.focusPrevious(undefined, true, undefined, function (e) {\n              if (e.element instanceof QuickPickSeparatorElement) {\n                if (foundSeparator) {\n                  if (!focusElement) {\n                    if (_this18._separatorRenderer.isSeparatorVisible(e.element)) {\n                      _this18._tree.reveal(e.element);\n                    } else {\n                      _this18._tree.reveal(e.element, 0);\n                    }\n                    focusElement = e.element.children[0];\n                  }\n                } else {\n                  foundSeparator = true;\n                }\n              } else if (e.element instanceof QuickPickItemElement) {\n                if (!focusElement) {\n                  if (e.element.separator) {\n                    if (_this18._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                      _this18._tree.reveal(e.element);\n                    } else {\n                      _this18._tree.reveal(e.element, 0);\n                    }\n                    focusElement = e.element;\n                  } else if (e.element === _this18._elementTree[0]) {\n                    // We should stop at the first item in the list if it's a regular item.\n                    _this18._tree.reveal(e.element, 0);\n                    return true;\n                  }\n                }\n              }\n              return false;\n            });\n            if (focusElement) {\n              this._tree.setFocus([focusElement]);\n            }\n            break;\n          }\n      }\n    }\n  }, {\n    key: \"clearFocus\",\n    value: function clearFocus() {\n      this._tree.setFocus([]);\n    }\n  }, {\n    key: \"domFocus\",\n    value: function domFocus() {\n      this._tree.domFocus();\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(maxHeight) {\n      this._tree.getHTMLElement().style.maxHeight = maxHeight ? \"\".concat(\n      // Make sure height aligns with list item heights\n      Math.floor(maxHeight / 44) * 44\n      // Add some extra height so that it's clear there's more to scroll\n      + 6, \"px\") : '';\n      this._tree.layout();\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(query) {\n      var _this19 = this;\n      if (!(this._sortByLabel || this._matchOnLabel || this._matchOnDescription || this._matchOnDetail)) {\n        this._tree.layout();\n        return false;\n      }\n      var queryWithWhitespace = query;\n      query = query.trim();\n      // Reset filtering\n      if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n        this._itemElements.forEach(function (element) {\n          element.labelHighlights = undefined;\n          element.descriptionHighlights = undefined;\n          element.detailHighlights = undefined;\n          element.hidden = false;\n          var previous = element.index && _this19._inputElements[element.index - 1];\n          if (element.item) {\n            element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n          }\n        });\n      }\n      // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n      else {\n        var _currentSeparator;\n        this._elementTree.forEach(function (element) {\n          var _a, _b, _c, _d;\n          var labelHighlights;\n          if (_this19.matchOnLabelMode === 'fuzzy') {\n            labelHighlights = _this19.matchOnLabel ? (_a = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) !== null && _a !== void 0 ? _a : undefined : undefined;\n          } else {\n            labelHighlights = _this19.matchOnLabel ? (_b = matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) !== null && _b !== void 0 ? _b : undefined : undefined;\n          }\n          var descriptionHighlights = _this19.matchOnDescription ? (_c = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) !== null && _c !== void 0 ? _c : undefined : undefined;\n          var detailHighlights = _this19.matchOnDetail ? (_d = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) !== null && _d !== void 0 ? _d : undefined : undefined;\n          if (labelHighlights || descriptionHighlights || detailHighlights) {\n            element.labelHighlights = labelHighlights;\n            element.descriptionHighlights = descriptionHighlights;\n            element.detailHighlights = detailHighlights;\n            element.hidden = false;\n          } else {\n            element.labelHighlights = undefined;\n            element.descriptionHighlights = undefined;\n            element.detailHighlights = undefined;\n            element.hidden = element.item ? !element.item.alwaysShow : true;\n          }\n          // Ensure separators are filtered out first before deciding if we need to bring them back\n          if (element.item) {\n            element.separator = undefined;\n          } else if (element.separator) {\n            element.hidden = true;\n          }\n          // we can show the separator unless the list gets sorted by match\n          if (!_this19.sortByLabel) {\n            var previous = element.index && _this19._inputElements[element.index - 1];\n            _currentSeparator = previous && previous.type === 'separator' ? previous : _currentSeparator;\n            if (_currentSeparator && !element.hidden) {\n              element.separator = _currentSeparator;\n              _currentSeparator = undefined;\n            }\n          }\n        });\n      }\n      var shownElements = this._elementTree.filter(function (element) {\n        return !element.hidden;\n      });\n      // Sort by value\n      if (this.sortByLabel && query) {\n        var normalizedSearchValue = query.toLowerCase();\n        shownElements.sort(function (a, b) {\n          return compareEntries(a, b, normalizedSearchValue);\n        });\n      }\n      var currentSeparator;\n      var finalElements = shownElements.reduce(function (result, element, index) {\n        if (element instanceof QuickPickItemElement) {\n          if (currentSeparator) {\n            currentSeparator.children.push(element);\n          } else {\n            result.push(element);\n          }\n        } else if (element instanceof QuickPickSeparatorElement) {\n          element.children = [];\n          currentSeparator = element;\n          result.push(element);\n        }\n        return result;\n      }, new Array());\n      var elements = new Array();\n      var _iterator7 = _createForOfIteratorHelper(finalElements),\n        _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var element = _step7.value;\n          if (element instanceof QuickPickSeparatorElement) {\n            elements.push({\n              element: element,\n              collapsible: false,\n              collapsed: false,\n              children: element.children.map(function (e) {\n                return {\n                  element: e,\n                  collapsible: false,\n                  collapsed: false\n                };\n              })\n            });\n          } else {\n            elements.push({\n              element: element,\n              collapsible: false,\n              collapsed: false\n            });\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n      var before = this._tree.getFocus().length;\n      this._tree.setChildren(null, elements);\n      // Temporary fix until we figure out why the tree doesn't fire an event when focus & selection\n      // get changed to empty arrays.\n      if (before > 0 && elements.length === 0) {\n        this._onTriggerEmptySelectionOrFocus.fire({\n          elements: []\n        });\n      }\n      this._tree.layout();\n      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n      this._onChangedVisibleCount.fire(shownElements.length);\n      return true;\n    }\n  }, {\n    key: \"toggleCheckbox\",\n    value: function toggleCheckbox() {\n      try {\n        this._shouldFireCheckedEvents = false;\n        var elements = this._tree.getFocus().filter(function (e) {\n          return e instanceof QuickPickItemElement;\n        });\n        var allChecked = this._allVisibleChecked(elements);\n        var _iterator8 = _createForOfIteratorHelper(elements),\n          _step8;\n        try {\n          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n            var element = _step8.value;\n            if (!element.checkboxDisabled) {\n              // Would fire an event if we didn't have the flag set\n              element.checked = !allChecked;\n            }\n          }\n        } catch (err) {\n          _iterator8.e(err);\n        } finally {\n          _iterator8.f();\n        }\n      } finally {\n        this._shouldFireCheckedEvents = true;\n        this._fireCheckedEvents();\n      }\n    }\n  }, {\n    key: \"display\",\n    value: function display(_display) {\n      this._container.style.display = _display ? '' : 'none';\n    }\n  }, {\n    key: \"isDisplayed\",\n    value: function isDisplayed() {\n      return this._container.style.display !== 'none';\n    }\n  }, {\n    key: \"style\",\n    value: function style(styles) {\n      this._tree.style(styles);\n    }\n  }, {\n    key: \"toggleHover\",\n    value: function toggleHover() {\n      var _this20 = this;\n      var focused = this._tree.getFocus()[0];\n      if (!(focused === null || focused === void 0 ? void 0 : focused.saneTooltip) || !(focused instanceof QuickPickItemElement)) {\n        return;\n      }\n      // if there's a hover already, hide it (toggle off)\n      if (this._lastHover && !this._lastHover.isDisposed) {\n        this._lastHover.dispose();\n        return;\n      }\n      // If there is no hover, show it (toggle on)\n      this.showHover(focused);\n      var store = new DisposableStore();\n      store.add(this._tree.onDidChangeFocus(function (e) {\n        if (e.elements[0] instanceof QuickPickItemElement) {\n          _this20.showHover(e.elements[0]);\n        }\n      }));\n      if (this._lastHover) {\n        store.add(this._lastHover);\n      }\n      this._elementDisposable.add(store);\n    }\n    //#endregion\n    //#region private methods\n  }, {\n    key: \"_allVisibleChecked\",\n    value: function _allVisibleChecked(elements) {\n      var whenNoneVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      for (var i = 0, n = elements.length; i < n; i++) {\n        var element = elements[i];\n        if (!element.hidden) {\n          if (!element.checked) {\n            return false;\n          } else {\n            whenNoneVisible = true;\n          }\n        }\n      }\n      return whenNoneVisible;\n    }\n  }, {\n    key: \"_fireCheckedEvents\",\n    value: function _fireCheckedEvents() {\n      if (!this._shouldFireCheckedEvents) {\n        return;\n      }\n      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n      this._onChangedCheckedCount.fire(this.getCheckedCount());\n      this._onChangedCheckedElements.fire(this.getCheckedElements());\n    }\n  }, {\n    key: \"fireButtonTriggered\",\n    value: function fireButtonTriggered(event) {\n      this._onButtonTriggered.fire(event);\n    }\n  }, {\n    key: \"fireSeparatorButtonTriggered\",\n    value: function fireSeparatorButtonTriggered(event) {\n      this._onSeparatorButtonTriggered.fire(event);\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n  }, {\n    key: \"showHover\",\n    value: function showHover(element) {\n      var _this21 = this;\n      var _a, _b, _c;\n      if (this._lastHover && !this._lastHover.isDisposed) {\n        (_b = (_a = this.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n        (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n      }\n      if (!element.element || !element.saneTooltip) {\n        return;\n      }\n      this._lastHover = this.hoverDelegate.showHover({\n        content: element.saneTooltip,\n        target: element.element,\n        linkHandler: function linkHandler(url) {\n          _this21.linkOpenerDelegate(url);\n        },\n        appearance: {\n          showPointer: true\n        },\n        container: this._container,\n        position: {\n          hoverPosition: 1 /* HoverPosition.RIGHT */\n        }\n      }, false);\n    }\n  }]);\n}(Disposable);\n__decorate([memoize], QuickInputTree.prototype, \"onDidChangeFocus\", null);\n__decorate([memoize], QuickInputTree.prototype, \"onDidChangeSelection\", null);\nQuickInputTree = __decorate([__param(4, IInstantiationService)], QuickInputTree);\nexport { QuickInputTree };\nfunction matchesContiguousIconAware(query, target) {\n  var text = target.text,\n    iconOffsets = target.iconOffsets;\n  // Return early if there are no icon markers in the word to match against\n  if (!iconOffsets || iconOffsets.length === 0) {\n    return matchesContiguous(query, text);\n  }\n  // Trim the word to match against because it could have leading\n  // whitespace now if the word started with an icon\n  var wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n  var leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n  // match on value without icon\n  var matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n  // Map matches back to offsets with icon and trimming\n  if (matches) {\n    var _iterator9 = _createForOfIteratorHelper(matches),\n      _step9;\n    try {\n      for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n        var match = _step9.value;\n        var iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n        match.start += iconOffset;\n        match.end += iconOffset;\n      }\n    } catch (err) {\n      _iterator9.e(err);\n    } finally {\n      _iterator9.f();\n    }\n  }\n  return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n  var matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n  if (matchIndex !== -1) {\n    return [{\n      start: matchIndex,\n      end: matchIndex + word.length\n    }];\n  }\n  return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n  var labelHighlightsA = elementA.labelHighlights || [];\n  var labelHighlightsB = elementB.labelHighlights || [];\n  if (labelHighlightsA.length && !labelHighlightsB.length) {\n    return -1;\n  }\n  if (!labelHighlightsA.length && labelHighlightsB.length) {\n    return 1;\n  }\n  if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n    return 0;\n  }\n  return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","QuickPickItemElementRenderer_1","dom","Emitter","Event","localize","IInstantiationService","WorkbenchObjectTree","IThemeService","Disposable","DisposableStore","StandardKeyboardEvent","OS","isMacintosh","memoize","IconLabel","KeybindingLabel","ActionBar","isDark","URI","quickInputButtonToAction","Lazy","getCodiconAriaLabel","matchesFuzzyIconAware","parseLabelWithIcons","compareAnything","ltrim","RenderIndentGuides","ThrottledDelayer","isCancellationError","$","QuickInputListFocus","BaseQuickPickItemElement","index","hasCheckbox","mainItem","_this","_classCallCheck","_hidden","_init","_a","saneLabel","label","saneSortLabel","text","trim","saneAriaLabel","ariaLabel","saneDescription","saneDetail","map","s","filter","join","_saneDescription","description","_saneTooltip","tooltip","_createClass","get","value","_element","set","_saneDetail","_labelHighlights","_descriptionHighlights","_detailHighlights","QuickPickItemElement","_BaseQuickPickItemEle","fireButtonTriggered","_onChecked","item","_separator","_this2","_b","_c","_callSuper","_checked","onChecked","event","e","element","checked","None","detail","highlights","_inherits","fire","disabled","QuickPickSeparatorFocusReason","QuickPickSeparatorElement","_BaseQuickPickItemEle2","fireSeparatorButtonTriggered","separator","_this3","children","Array","focusInsideSeparator","NONE","QuickInputItemDelegate","getHeight","getTemplateId","QuickPickItemElementRenderer","ID","QuickPickSeparatorElementRenderer","QuickInputAccessibilityProvider","getWidgetAriaLabel","getAriaLabel","concat","getWidgetRole","getRole","isChecked","undefined","onDidChange","BaseQuickInputListRenderer","hoverDelegate","renderTemplate","container","data","create","toDisposeElement","toDisposeTemplate","entry","append","add","addStandardDisposableListener","EventType","CLICK","checkbox","offsetParent","preventDefault","type","rows","row1","row2","supportHighlights","supportDescriptionHighlights","supportIcons","icon","prepend","keybindingContainer","keybinding","detailContainer","actionBar","domNode","classList","disposeTemplate","dispose","disposeElement","_index","clear","_BaseQuickInputListRe","themeService","_this4","_itemsWithSeparatorsFrequency","Map","_get","_getPrototypeOf","prototype","call","CHANGE","renderElement","node","checkboxDisabled","labelHighlights","descriptionHighlights","detailHighlights","iconPath","getColorTheme","dark","light","iconUrl","revive","className","style","backgroundImage","asCSSUrl","iconClass","descriptionTitle","saneTooltip","markdown","supportThemeIcons","markdownNotSupportedFallback","options","matches","descriptionMatches","labelEscapeNewLines","extraClasses","iconClasses","italic","strikethrough","remove","setLabel","title","display","textContent","addItemWithSeparator","toggle","buttons","push","button","removeItemWithSeparator","isItemWithSeparatorVisible","has","frequency","_BaseQuickInputListRe2","_this5","_visibleSeparatorsFrequency","_toConsumableArray","keys","isSeparatorVisible","addSeparator","removeSeparator","QuickInputTree","_Disposable","parent","linkOpenerDelegate","id","instantiationService","_this6","_onKeyDown","onKeyDown","_onLeave","onLeave","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onTriggerEmptySelectionOrFocus","_elementChecked","_inputElements","_elementTree","_itemElements","_elementDisposable","_register","_shouldFireCheckedEvents","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_container","_separatorRenderer","_itemRenderer","createInstance","_tree","accessibilityProvider","setRowLineHeight","multipleSelectionSupport","hideTwistiesOfChildlessElements","renderIndentGuides","findWidgetEnabled","indent","horizontalScrolling","allowNonCollapsibleParents","identityProvider","getId","_d","_e","_f","_g","_h","alwaysConsumeMouseWheel","getHTMLElement","_registerListeners","any","onDidChangeFocus","elements","onDidChangeSelection","items","browserEvent","scrollTop","pointerEvents","_registerOnKeyDown","_registerOnContainerClick","_registerOnMouseMiddleClick","_registerOnElementChecked","_registerOnContextMenu","_registerHoverListeners","_registerSelectionChangeListener","_registerSeparatorActionShowingListeners","_this7","keyCode","toggleCheckbox","metaKey","ctrlKey","setFocus","focus1","getFocus","focus2","_this8","addDisposableListener","x","y","_this9","AUXCLICK","_this10","_","_fireCheckedEvents","_this11","onContextMenu","setSelection","_this12","delayer","delay","onMouseOver","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","HTMLAnchorElement","cancel","abrupt","relatedTarget","isAncestor","trigger","_callee","_callee$","_context","showHover","stop","t0","_x","apply","onMouseOut","_this13","getParentElement","_iterator","_createForOfIteratorHelper","visibleSeparators","_step","n","done","currentActive","ACTIVE_ITEM","rerender","err","f","_iterator2","_step2","currentMouse","MOUSE_HOVER","_iterator3","_step3","_this14","elementsWithoutSeparators","reveal","getAllVisibleChecked","_allVisibleChecked","getCheckedCount","getVisibleCount","hidden","setAllVisibleChecked","forEach","setElements","inputElements","_this15","contains","currentSeparatorElement","reduce","result","previous","qpi","visibleCount","_iterator4","_step4","collapsible","collapsed","setChildren","setFocusedElements","_this16","find","focused","getActiveDescendant","getAttribute","setSelectedElements","_this17","getCheckedElements","setCheckedElements","Set","_iterator5","_step5","_iterator6","_step6","focus","what","_this18","Second","First","focusFirst","Last","scrollHeight","Next","focusNext","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","NextSeparator","foundSeparatorAsItem","before","after","PreviousSeparator","focusElement","foundSeparator","clearFocus","domFocus","layout","maxHeight","Math","floor","query","_this19","queryWithWhitespace","matchOnLabel","matchOnDescription","matchOnDetail","currentSeparator","matchOnLabelMode","matchesContiguousIconAware","alwaysShow","sortByLabel","shownElements","normalizedSearchValue","toLowerCase","sort","a","b","compareEntries","finalElements","_iterator7","_step7","allChecked","_iterator8","_step8","isDisplayed","styles","toggleHover","_this20","_lastHover","isDisposed","store","whenNoneVisible","_this21","onDidHideHover","content","linkHandler","url","appearance","showPointer","position","hoverPosition","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","leadingWhitespaceOffset","_iterator9","_step9","match","iconOffset","start","end","word","wordToMatchAgainst","matchIndex","indexOf","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputTree.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar QuickPickItemElementRenderer_1;\nimport * as dom from '../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { WorkbenchObjectTree } from '../../list/browser/listService.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { OS, isMacintosh } from '../../../base/common/platform.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { quickInputButtonToAction } from './quickInputUtils.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { RenderIndentGuides } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nconst $ = dom.$;\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n    QuickInputListFocus[QuickInputListFocus[\"NextSeparator\"] = 8] = \"NextSeparator\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousSeparator\"] = 9] = \"PreviousSeparator\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nclass BaseQuickPickItemElement {\n    constructor(index, hasCheckbox, mainItem) {\n        this.index = index;\n        this.hasCheckbox = hasCheckbox;\n        this._hidden = false;\n        this._init = new Lazy(() => {\n            var _a;\n            const saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            const saneAriaLabel = mainItem.ariaLabel || [saneLabel, this.saneDescription, this.saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            return {\n                saneLabel,\n                saneSortLabel,\n                saneAriaLabel\n            };\n        });\n        this._saneDescription = mainItem.description;\n        this._saneTooltip = mainItem.tooltip;\n    }\n    // #region Lazy Getters\n    get saneLabel() {\n        return this._init.value.saneLabel;\n    }\n    get saneSortLabel() {\n        return this._init.value.saneSortLabel;\n    }\n    get saneAriaLabel() {\n        return this._init.value.saneAriaLabel;\n    }\n    get element() {\n        return this._element;\n    }\n    set element(value) {\n        this._element = value;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n    }\n    get saneDescription() {\n        return this._saneDescription;\n    }\n    set saneDescription(value) {\n        this._saneDescription = value;\n    }\n    get saneDetail() {\n        return this._saneDetail;\n    }\n    set saneDetail(value) {\n        this._saneDetail = value;\n    }\n    get saneTooltip() {\n        return this._saneTooltip;\n    }\n    set saneTooltip(value) {\n        this._saneTooltip = value;\n    }\n    get labelHighlights() {\n        return this._labelHighlights;\n    }\n    set labelHighlights(value) {\n        this._labelHighlights = value;\n    }\n    get descriptionHighlights() {\n        return this._descriptionHighlights;\n    }\n    set descriptionHighlights(value) {\n        this._descriptionHighlights = value;\n    }\n    get detailHighlights() {\n        return this._detailHighlights;\n    }\n    set detailHighlights(value) {\n        this._detailHighlights = value;\n    }\n}\nclass QuickPickItemElement extends BaseQuickPickItemElement {\n    constructor(index, hasCheckbox, fireButtonTriggered, _onChecked, item, _separator) {\n        var _a, _b, _c;\n        super(index, hasCheckbox, item);\n        this.fireButtonTriggered = fireButtonTriggered;\n        this._onChecked = _onChecked;\n        this.item = item;\n        this._separator = _separator;\n        this._checked = false;\n        this.onChecked = hasCheckbox\n            ? Event.map(Event.filter(this._onChecked.event, e => e.element === this), e => e.checked)\n            : Event.None;\n        this._saneDetail = item.detail;\n        this._labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n        this._descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n        this._detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n    }\n    get separator() {\n        return this._separator;\n    }\n    set separator(value) {\n        this._separator = value;\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire({ element: this, checked: value });\n        }\n    }\n    get checkboxDisabled() {\n        return !!this.item.disabled;\n    }\n}\nvar QuickPickSeparatorFocusReason;\n(function (QuickPickSeparatorFocusReason) {\n    /**\n     * No item is hovered or active\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"NONE\"] = 0] = \"NONE\";\n    /**\n     * Some item within this section is hovered\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"MOUSE_HOVER\"] = 1] = \"MOUSE_HOVER\";\n    /**\n     * Some item within this section is active\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"ACTIVE_ITEM\"] = 2] = \"ACTIVE_ITEM\";\n})(QuickPickSeparatorFocusReason || (QuickPickSeparatorFocusReason = {}));\nclass QuickPickSeparatorElement extends BaseQuickPickItemElement {\n    constructor(index, fireSeparatorButtonTriggered, separator) {\n        super(index, false, separator);\n        this.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;\n        this.separator = separator;\n        this.children = new Array();\n        /**\n         * If this item is >0, it means that there is some item in the list that is either:\n         * * hovered over\n         * * active\n         */\n        this.focusInsideSeparator = QuickPickSeparatorFocusReason.NONE;\n    }\n}\nclass QuickInputItemDelegate {\n    getHeight(element) {\n        if (element instanceof QuickPickSeparatorElement) {\n            return 30;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        if (element instanceof QuickPickItemElement) {\n            return QuickPickItemElementRenderer.ID;\n        }\n        else {\n            return QuickPickSeparatorElementRenderer.ID;\n        }\n    }\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox || !(element instanceof QuickPickItemElement)) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\nclass BaseQuickInputListRenderer {\n    constructor(hoverDelegate) {\n        this.hoverDelegate = hoverDelegate;\n    }\n    // TODO: only do the common stuff here and have a subclass handle their specific stuff\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = new DisposableStore();\n        data.toDisposeTemplate = new DisposableStore();\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.add(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true, hoverDelegate: this.hoverDelegate });\n        data.toDisposeTemplate.add(data.label);\n        data.icon = dom.prepend(data.label.element, $('.quick-input-list-icon'));\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, OS);\n        data.toDisposeTemplate.add(data.keybinding);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true, hoverDelegate: this.hoverDelegate });\n        data.toDisposeTemplate.add(data.detail);\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry, this.hoverDelegate ? { hoverDelegate: this.hoverDelegate } : undefined);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.add(data.actionBar);\n        return data;\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement.dispose();\n        data.toDisposeTemplate.dispose();\n    }\n    disposeElement(_element, _index, data) {\n        data.toDisposeElement.clear();\n        data.actionBar.clear();\n    }\n}\nlet QuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = class QuickPickItemElementRenderer extends BaseQuickInputListRenderer {\n    constructor(hoverDelegate, themeService) {\n        super(hoverDelegate);\n        this.themeService = themeService;\n        // Follow what we do in the separator renderer\n        this._itemsWithSeparatorsFrequency = new Map();\n    }\n    get templateId() {\n        return QuickPickItemElementRenderer_1.ID;\n    }\n    renderTemplate(container) {\n        const data = super.renderTemplate(container);\n        data.toDisposeTemplate.add(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        return data;\n    }\n    renderElement(node, index, data) {\n        var _a, _b, _c;\n        const element = node.element;\n        data.element = element;\n        element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n        const mainItem = element.item;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.add(element.onChecked(checked => data.checkbox.checked = checked));\n        data.checkbox.disabled = element.checkboxDisabled;\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Icon\n        if (mainItem.iconPath) {\n            const icon = isDark(this.themeService.getColorTheme().type) ? mainItem.iconPath.dark : ((_b = mainItem.iconPath.light) !== null && _b !== void 0 ? _b : mainItem.iconPath.dark);\n            const iconUrl = URI.revive(icon);\n            data.icon.className = 'quick-input-list-icon';\n            data.icon.style.backgroundImage = dom.asCSSUrl(iconUrl);\n        }\n        else {\n            data.icon.style.backgroundImage = '';\n            data.icon.className = mainItem.iconClass ? `quick-input-list-icon ${mainItem.iconClass}` : '';\n        }\n        // Label\n        let descriptionTitle;\n        // if we have a tooltip, that will be the hover,\n        // with the saneDescription as fallback if it\n        // is defined\n        if (!element.saneTooltip && element.saneDescription) {\n            descriptionTitle = {\n                markdown: {\n                    value: element.saneDescription,\n                    supportThemeIcons: true\n                },\n                markdownNotSupportedFallback: element.saneDescription\n            };\n        }\n        const options = {\n            matches: labelHighlights || [],\n            // If we have a tooltip, we want that to be shown and not any other hover\n            descriptionTitle,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        options.extraClasses = mainItem.iconClasses;\n        options.italic = mainItem.italic;\n        options.strikethrough = mainItem.strikethrough;\n        data.entry.classList.remove('quick-input-list-separator-as-item');\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.keybinding);\n        // Detail\n        if (element.saneDetail) {\n            let title;\n            // If we have a tooltip, we want that to be shown and not any other hover\n            if (!element.saneTooltip) {\n                title = {\n                    markdown: {\n                        value: element.saneDetail,\n                        supportThemeIcons: true\n                    },\n                    markdownNotSupportedFallback: element.saneDetail\n                };\n            }\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        if ((_c = element.separator) === null || _c === void 0 ? void 0 : _c.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n            this.addItemWithSeparator(element);\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => quickInputButtonToAction(button, `id-${index}`, () => element.fireButtonTriggered({ button, item: element.item }))), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, _index, data) {\n        this.removeItemWithSeparator(element.element);\n        super.disposeElement(element, _index, data);\n    }\n    isItemWithSeparatorVisible(item) {\n        return this._itemsWithSeparatorsFrequency.has(item);\n    }\n    addItemWithSeparator(item) {\n        this._itemsWithSeparatorsFrequency.set(item, (this._itemsWithSeparatorsFrequency.get(item) || 0) + 1);\n    }\n    removeItemWithSeparator(item) {\n        const frequency = this._itemsWithSeparatorsFrequency.get(item) || 0;\n        if (frequency > 1) {\n            this._itemsWithSeparatorsFrequency.set(item, frequency - 1);\n        }\n        else {\n            this._itemsWithSeparatorsFrequency.delete(item);\n        }\n    }\n};\nQuickPickItemElementRenderer.ID = 'quickpickitem';\nQuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = __decorate([\n    __param(1, IThemeService)\n], QuickPickItemElementRenderer);\nclass QuickPickSeparatorElementRenderer extends BaseQuickInputListRenderer {\n    constructor() {\n        super(...arguments);\n        // This is a frequency map because sticky scroll re-uses the same renderer to render a second\n        // instance of the same separator.\n        this._visibleSeparatorsFrequency = new Map();\n    }\n    get templateId() {\n        return QuickPickSeparatorElementRenderer.ID;\n    }\n    get visibleSeparators() {\n        return [...this._visibleSeparatorsFrequency.keys()];\n    }\n    isSeparatorVisible(separator) {\n        return this._visibleSeparatorsFrequency.has(separator);\n    }\n    renderElement(node, index, data) {\n        var _a;\n        const element = node.element;\n        data.element = element;\n        element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n        element.element.classList.toggle('focus-inside', !!element.focusInsideSeparator);\n        const mainItem = element.separator;\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Icon\n        data.icon.style.backgroundImage = '';\n        data.icon.className = '';\n        // Label\n        let descriptionTitle;\n        // if we have a tooltip, that will be the hover,\n        // with the saneDescription as fallback if it\n        // is defined\n        if (!element.saneTooltip && element.saneDescription) {\n            descriptionTitle = {\n                markdown: {\n                    value: element.saneDescription,\n                    supportThemeIcons: true\n                },\n                markdownNotSupportedFallback: element.saneDescription\n            };\n        }\n        const options = {\n            matches: labelHighlights || [],\n            // If we have a tooltip, we want that to be shown and not any other hover\n            descriptionTitle,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        data.entry.classList.add('quick-input-list-separator-as-item');\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Detail\n        if (element.saneDetail) {\n            let title;\n            // If we have a tooltip, we want that to be shown and not any other hover\n            if (!element.saneTooltip) {\n                title = {\n                    markdown: {\n                        value: element.saneDetail,\n                        supportThemeIcons: true\n                    },\n                    markdownNotSupportedFallback: element.saneDetail\n                };\n            }\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        data.separator.style.display = 'none';\n        data.entry.classList.add('quick-input-list-separator-border');\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => quickInputButtonToAction(button, `id-${index}`, () => element.fireSeparatorButtonTriggered({ button, separator: element.separator }))), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n        this.addSeparator(element);\n    }\n    disposeElement(element, _index, data) {\n        var _a;\n        this.removeSeparator(element.element);\n        if (!this.isSeparatorVisible(element.element)) {\n            (_a = element.element.element) === null || _a === void 0 ? void 0 : _a.classList.remove('focus-inside');\n        }\n        super.disposeElement(element, _index, data);\n    }\n    addSeparator(separator) {\n        this._visibleSeparatorsFrequency.set(separator, (this._visibleSeparatorsFrequency.get(separator) || 0) + 1);\n    }\n    removeSeparator(separator) {\n        const frequency = this._visibleSeparatorsFrequency.get(separator) || 0;\n        if (frequency > 1) {\n            this._visibleSeparatorsFrequency.set(separator, frequency - 1);\n        }\n        else {\n            this._visibleSeparatorsFrequency.delete(separator);\n        }\n    }\n}\nQuickPickSeparatorElementRenderer.ID = 'quickpickseparator';\nlet QuickInputTree = class QuickInputTree extends Disposable {\n    constructor(parent, hoverDelegate, linkOpenerDelegate, id, instantiationService) {\n        super();\n        this.parent = parent;\n        this.hoverDelegate = hoverDelegate;\n        this.linkOpenerDelegate = linkOpenerDelegate;\n        this._onKeyDown = new Emitter();\n        /**\n         * Event that is fired when the tree receives a keydown.\n        */\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        /**\n         * Event that is fired when the tree would no longer have focus.\n        */\n        this.onLeave = this._onLeave.event;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onTriggerEmptySelectionOrFocus = new Emitter();\n        this._elementChecked = new Emitter();\n        this._inputElements = new Array();\n        this._elementTree = new Array();\n        this._itemElements = new Array();\n        // Elements that apply to the current set of elements\n        this._elementDisposable = this._register(new DisposableStore());\n        // This is used to prevent setting the checked state of a single element from firing the checked events\n        // so that we can batch them together. This can probably be improved by handling events differently,\n        // but this works for now. An observable would probably be ideal for this.\n        this._shouldFireCheckedEvents = true;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._container = dom.append(this.parent, $('.quick-input-list'));\n        this._separatorRenderer = new QuickPickSeparatorElementRenderer(hoverDelegate);\n        this._itemRenderer = instantiationService.createInstance(QuickPickItemElementRenderer, hoverDelegate);\n        this._tree = this._register(instantiationService.createInstance((WorkbenchObjectTree), 'QuickInput', this._container, new QuickInputItemDelegate(), [this._itemRenderer, this._separatorRenderer], {\n            accessibilityProvider: new QuickInputAccessibilityProvider(),\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            hideTwistiesOfChildlessElements: true,\n            renderIndentGuides: RenderIndentGuides.None,\n            findWidgetEnabled: false,\n            indent: 0,\n            horizontalScrolling: false,\n            allowNonCollapsibleParents: true,\n            identityProvider: {\n                getId: element => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h;\n                    // always prefer item over separator because if item is defined, it must be the main item type\n                    // always prefer a defined id if one was specified and use label as a fallback\n                    return (_h = (_f = (_d = (_b = (_a = element.item) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (_c = element.item) === null || _c === void 0 ? void 0 : _c.label) !== null && _d !== void 0 ? _d : (_e = element.separator) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : (_g = element.separator) === null || _g === void 0 ? void 0 : _g.label) !== null && _h !== void 0 ? _h : '';\n                },\n            },\n            alwaysConsumeMouseWheel: true\n        }));\n        this._tree.getHTMLElement().id = id;\n        this._registerListeners();\n    }\n    //#region public getters/setters\n    get onDidChangeFocus() {\n        return Event.map(Event.any(this._tree.onDidChangeFocus, this._onTriggerEmptySelectionOrFocus.event), e => e.elements.filter((e) => e instanceof QuickPickItemElement).map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(Event.any(this._tree.onDidChangeSelection, this._onTriggerEmptySelectionOrFocus.event), e => ({\n            items: e.elements.filter((e) => e instanceof QuickPickItemElement).map(e => e.item),\n            event: e.browserEvent\n        }));\n    }\n    get scrollTop() {\n        return this._tree.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this._tree.scrollTop = scrollTop;\n    }\n    get ariaLabel() {\n        return this._tree.ariaLabel;\n    }\n    set ariaLabel(label) {\n        this._tree.ariaLabel = label !== null && label !== void 0 ? label : '';\n    }\n    set enabled(value) {\n        this._tree.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(value) {\n        this._matchOnDescription = value;\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(value) {\n        this._matchOnDetail = value;\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(value) {\n        this._matchOnLabel = value;\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(value) {\n        this._matchOnLabelMode = value;\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(value) {\n        this._sortByLabel = value;\n    }\n    //#endregion\n    //#region register listeners\n    _registerListeners() {\n        this._registerOnKeyDown();\n        this._registerOnContainerClick();\n        this._registerOnMouseMiddleClick();\n        this._registerOnElementChecked();\n        this._registerOnContextMenu();\n        this._registerHoverListeners();\n        this._registerSelectionChangeListener();\n        this._registerSeparatorActionShowingListeners();\n    }\n    _registerOnKeyDown() {\n        // TODO: Should this be added at a higher level?\n        this._register(this._tree.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this._tree.setFocus(this._itemElements);\n                    }\n                    break;\n                // When we hit the top of the tree, we fire the onLeave event.\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this._tree.getFocus();\n                    if (focus1.length === 1 && focus1[0] === this._itemElements[0]) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                // When we hit the bottom of the tree, we fire the onLeave event.\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this._tree.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this._itemElements[this._itemElements.length - 1]) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n    }\n    _registerOnContainerClick() {\n        this._register(dom.addDisposableListener(this._container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n    }\n    _registerOnMouseMiddleClick() {\n        this._register(dom.addDisposableListener(this._container, dom.EventType.AUXCLICK, e => {\n            if (e.button === 1) {\n                this._onLeave.fire();\n            }\n        }));\n    }\n    _registerOnElementChecked() {\n        this._register(this._elementChecked.event(_ => this._fireCheckedEvents()));\n    }\n    _registerOnContextMenu() {\n        this._register(this._tree.onContextMenu(e => {\n            if (e.element) {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this._tree.setSelection([e.element]);\n            }\n        }));\n    }\n    _registerHoverListeners() {\n        const delayer = this._register(new ThrottledDelayer(this.hoverDelegate.delay));\n        this._register(this._tree.onMouseOver(async (e) => {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            try {\n                await delayer.trigger(async () => {\n                    if (e.element instanceof QuickPickItemElement) {\n                        this.showHover(e.element);\n                    }\n                });\n            }\n            catch (e) {\n                // Ignore cancellation errors due to mouse out\n                if (!isCancellationError(e)) {\n                    throw e;\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n    }\n    /**\n     * Register's focus change and mouse events so that we can track when items inside of a\n     * separator's section are focused or hovered so that we can display the separator's actions\n     */\n    _registerSeparatorActionShowingListeners() {\n        this._register(this._tree.onDidChangeFocus(e => {\n            const parent = e.elements[0]\n                ? this._tree.getParentElement(e.elements[0])\n                // treat null as focus lost and when we have no separators\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                const value = separator === parent;\n                // get bitness of ACTIVE_ITEM and check if it changed\n                const currentActive = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.ACTIVE_ITEM);\n                if (currentActive !== value) {\n                    if (value) {\n                        separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n                    }\n                    else {\n                        separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n                    }\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOver(e => {\n            const parent = e.element\n                ? this._tree.getParentElement(e.element)\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                if (separator !== parent) {\n                    continue;\n                }\n                const currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n                if (!currentMouse) {\n                    separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.MOUSE_HOVER;\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOut(e => {\n            const parent = e.element\n                ? this._tree.getParentElement(e.element)\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                if (separator !== parent) {\n                    continue;\n                }\n                const currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n                if (currentMouse) {\n                    separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.MOUSE_HOVER;\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n    }\n    _registerSelectionChangeListener() {\n        // When the user selects a separator, the separator will move to the top and focus will be\n        // set to the first element after the separator.\n        this._register(this._tree.onDidChangeSelection(e => {\n            const elementsWithoutSeparators = e.elements.filter((e) => e instanceof QuickPickItemElement);\n            if (elementsWithoutSeparators.length !== e.elements.length) {\n                if (e.elements.length === 1 && e.elements[0] instanceof QuickPickSeparatorElement) {\n                    this._tree.setFocus([e.elements[0].children[0]]);\n                    this._tree.reveal(e.elements[0], 0);\n                }\n                this._tree.setSelection(elementsWithoutSeparators);\n            }\n        }));\n    }\n    //#endregion\n    //#region public methods\n    getAllVisibleChecked() {\n        return this._allVisibleChecked(this._itemElements, false);\n    }\n    getCheckedCount() {\n        return this._itemElements.filter(element => element.checked).length;\n    }\n    getVisibleCount() {\n        return this._itemElements.filter(e => !e.hidden).length;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._shouldFireCheckedEvents = false;\n            this._itemElements.forEach(element => {\n                if (!element.hidden && !element.checkboxDisabled) {\n                    // Would fire an event if we didn't have the flag set\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this._elementDisposable.clear();\n        this._inputElements = inputElements;\n        const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n        let currentSeparatorElement;\n        this._itemElements = new Array();\n        this._elementTree = inputElements.reduce((result, item, index) => {\n            let element;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n                currentSeparatorElement = new QuickPickSeparatorElement(index, (event) => this.fireSeparatorButtonTriggered(event), item);\n                element = currentSeparatorElement;\n            }\n            else {\n                const previous = index > 0 ? inputElements[index - 1] : undefined;\n                let separator;\n                if (previous && previous.type === 'separator' && !previous.buttons) {\n                    // Found an inline separator so we clear out the current separator element\n                    currentSeparatorElement = undefined;\n                    separator = previous;\n                }\n                const qpi = new QuickPickItemElement(index, hasCheckbox, (event) => this.fireButtonTriggered(event), this._elementChecked, item, separator);\n                this._itemElements.push(qpi);\n                if (currentSeparatorElement) {\n                    currentSeparatorElement.children.push(qpi);\n                    return result;\n                }\n                element = qpi;\n            }\n            result.push(element);\n            return result;\n        }, new Array());\n        const elements = new Array();\n        let visibleCount = 0;\n        for (const element of this._elementTree) {\n            if (element instanceof QuickPickSeparatorElement) {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                    children: element.children.map(e => ({\n                        element: e,\n                        collapsible: false,\n                        collapsed: false,\n                    })),\n                });\n                visibleCount += element.children.length + 1; // +1 for the separator itself;\n            }\n            else {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                });\n                visibleCount++;\n            }\n        }\n        this._tree.setChildren(null, elements);\n        this._onChangedVisibleCount.fire(visibleCount);\n    }\n    setFocusedElements(items) {\n        const elements = items.map(item => this._itemElements.find(e => e.item === item))\n            .filter((e) => !!e);\n        this._tree.setFocus(elements);\n        if (items.length > 0) {\n            const focused = this._tree.getFocus()[0];\n            if (focused) {\n                this._tree.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this._tree.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        const elements = items.map(item => this._itemElements.find(e => e.item === item))\n            .filter((e) => !!e);\n        this._tree.setSelection(elements);\n    }\n    getCheckedElements() {\n        return this._itemElements.filter(e => e.checked)\n            .map(e => e.item);\n    }\n    setCheckedElements(items) {\n        try {\n            this._shouldFireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this._itemElements) {\n                // Would fire an event if we didn't have the flag set\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    focus(what) {\n        var _a;\n        if (!this._itemElements.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this._itemElements.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this._tree.scrollTop = 0;\n                this._tree.focusFirst(undefined, (e) => e.element instanceof QuickPickItemElement);\n                break;\n            case QuickInputListFocus.Second:\n                this._tree.scrollTop = 0;\n                this._tree.setFocus([this._itemElements[1]]);\n                break;\n            case QuickInputListFocus.Last:\n                this._tree.scrollTop = this._tree.scrollHeight;\n                this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n                break;\n            case QuickInputListFocus.Next:\n                this._tree.focusNext(undefined, true, undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    this._tree.reveal(e.element);\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.Previous:\n                this._tree.focusPrevious(undefined, true, undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    const parent = this._tree.getParentElement(e.element);\n                    if (parent === null || parent.children[0] !== e.element) {\n                        this._tree.reveal(e.element);\n                    }\n                    else {\n                        // Only if we are the first child of a separator do we reveal the separator\n                        this._tree.reveal(parent);\n                    }\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.NextPage:\n                this._tree.focusNextPage(undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    this._tree.reveal(e.element);\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this._tree.focusPreviousPage(undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    const parent = this._tree.getParentElement(e.element);\n                    if (parent === null || parent.children[0] !== e.element) {\n                        this._tree.reveal(e.element);\n                    }\n                    else {\n                        this._tree.reveal(parent);\n                    }\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.NextSeparator: {\n                let foundSeparatorAsItem = false;\n                const before = this._tree.getFocus()[0];\n                this._tree.focusNext(undefined, true, undefined, (e) => {\n                    if (foundSeparatorAsItem) {\n                        // This should be the index right after the separator so it\n                        // is the item we want to focus.\n                        return true;\n                    }\n                    if (e.element instanceof QuickPickSeparatorElement) {\n                        foundSeparatorAsItem = true;\n                        // If the separator is visible, then we should just reveal its first child so it's not as jarring.\n                        if (this._separatorRenderer.isSeparatorVisible(e.element)) {\n                            this._tree.reveal(e.element.children[0]);\n                        }\n                        else {\n                            // If the separator is not visible, then we should\n                            // push it up to the top of the list.\n                            this._tree.reveal(e.element, 0);\n                        }\n                    }\n                    else if (e.element instanceof QuickPickItemElement) {\n                        if (e.element.separator) {\n                            if (this._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                                this._tree.reveal(e.element);\n                            }\n                            else {\n                                this._tree.reveal(e.element, 0);\n                            }\n                            return true;\n                        }\n                        else if (e.element === this._elementTree[0]) {\n                            // We should stop at the first item in the list if it's a regular item.\n                            this._tree.reveal(e.element, 0);\n                            return true;\n                        }\n                    }\n                    return false;\n                });\n                const after = this._tree.getFocus()[0];\n                if (before === after) {\n                    // If we didn't move, then we should just move to the end\n                    // of the list.\n                    this._tree.scrollTop = this._tree.scrollHeight;\n                    this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n                }\n                break;\n            }\n            case QuickInputListFocus.PreviousSeparator: {\n                let focusElement;\n                // If we are already sitting on an inline separator, then we\n                // have already found the _current_ separator and need to\n                // move to the previous one.\n                let foundSeparator = !!((_a = this._tree.getFocus()[0]) === null || _a === void 0 ? void 0 : _a.separator);\n                this._tree.focusPrevious(undefined, true, undefined, (e) => {\n                    if (e.element instanceof QuickPickSeparatorElement) {\n                        if (foundSeparator) {\n                            if (!focusElement) {\n                                if (this._separatorRenderer.isSeparatorVisible(e.element)) {\n                                    this._tree.reveal(e.element);\n                                }\n                                else {\n                                    this._tree.reveal(e.element, 0);\n                                }\n                                focusElement = e.element.children[0];\n                            }\n                        }\n                        else {\n                            foundSeparator = true;\n                        }\n                    }\n                    else if (e.element instanceof QuickPickItemElement) {\n                        if (!focusElement) {\n                            if (e.element.separator) {\n                                if (this._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                                    this._tree.reveal(e.element);\n                                }\n                                else {\n                                    this._tree.reveal(e.element, 0);\n                                }\n                                focusElement = e.element;\n                            }\n                            else if (e.element === this._elementTree[0]) {\n                                // We should stop at the first item in the list if it's a regular item.\n                                this._tree.reveal(e.element, 0);\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                });\n                if (focusElement) {\n                    this._tree.setFocus([focusElement]);\n                }\n                break;\n            }\n        }\n    }\n    clearFocus() {\n        this._tree.setFocus([]);\n    }\n    domFocus() {\n        this._tree.domFocus();\n    }\n    layout(maxHeight) {\n        this._tree.getHTMLElement().style.maxHeight = maxHeight ? `${\n        // Make sure height aligns with list item heights\n        Math.floor(maxHeight / 44) * 44\n            // Add some extra height so that it's clear there's more to scroll\n            + 6}px` : '';\n        this._tree.layout();\n    }\n    filter(query) {\n        if (!(this._sortByLabel || this._matchOnLabel || this._matchOnDescription || this._matchOnDetail)) {\n            this._tree.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this._itemElements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this._inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this._elementTree.forEach(element => {\n                var _a, _b, _c, _d;\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? (_a = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) !== null && _a !== void 0 ? _a : undefined : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? (_b = matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) !== null && _b !== void 0 ? _b : undefined : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? (_c = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) !== null && _c !== void 0 ? _c : undefined : undefined;\n                const detailHighlights = this.matchOnDetail ? (_d = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) !== null && _d !== void 0 ? _d : undefined : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // Ensure separators are filtered out first before deciding if we need to bring them back\n                if (element.item) {\n                    element.separator = undefined;\n                }\n                else if (element.separator) {\n                    element.hidden = true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this._inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this._elementTree.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        let currentSeparator;\n        const finalElements = shownElements.reduce((result, element, index) => {\n            if (element instanceof QuickPickItemElement) {\n                if (currentSeparator) {\n                    currentSeparator.children.push(element);\n                }\n                else {\n                    result.push(element);\n                }\n            }\n            else if (element instanceof QuickPickSeparatorElement) {\n                element.children = [];\n                currentSeparator = element;\n                result.push(element);\n            }\n            return result;\n        }, new Array());\n        const elements = new Array();\n        for (const element of finalElements) {\n            if (element instanceof QuickPickSeparatorElement) {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                    children: element.children.map(e => ({\n                        element: e,\n                        collapsible: false,\n                        collapsed: false,\n                    })),\n                });\n            }\n            else {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                });\n            }\n        }\n        const before = this._tree.getFocus().length;\n        this._tree.setChildren(null, elements);\n        // Temporary fix until we figure out why the tree doesn't fire an event when focus & selection\n        // get changed to empty arrays.\n        if (before > 0 && elements.length === 0) {\n            this._onTriggerEmptySelectionOrFocus.fire({\n                elements: []\n            });\n        }\n        this._tree.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._shouldFireCheckedEvents = false;\n            const elements = this._tree.getFocus().filter((e) => e instanceof QuickPickItemElement);\n            const allChecked = this._allVisibleChecked(elements);\n            for (const element of elements) {\n                if (!element.checkboxDisabled) {\n                    // Would fire an event if we didn't have the flag set\n                    element.checked = !allChecked;\n                }\n            }\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this._container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this._container.style.display !== 'none';\n    }\n    style(styles) {\n        this._tree.style(styles);\n    }\n    toggleHover() {\n        const focused = this._tree.getFocus()[0];\n        if (!(focused === null || focused === void 0 ? void 0 : focused.saneTooltip) || !(focused instanceof QuickPickItemElement)) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this._tree.onDidChangeFocus(e => {\n            if (e.elements[0] instanceof QuickPickItemElement) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._elementDisposable.add(store);\n    }\n    //#endregion\n    //#region private methods\n    _allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    _fireCheckedEvents() {\n        if (!this._shouldFireCheckedEvents) {\n            return;\n        }\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedCheckedCount.fire(this.getCheckedCount());\n        this._onChangedCheckedElements.fire(this.getCheckedElements());\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.linkOpenerDelegate(url);\n            },\n            appearance: {\n                showPointer: true,\n            },\n            container: this._container,\n            position: {\n                hoverPosition: 1 /* HoverPosition.RIGHT */\n            }\n        }, false);\n    }\n};\n__decorate([\n    memoize\n], QuickInputTree.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputTree.prototype, \"onDidChangeSelection\", null);\nQuickInputTree = __decorate([\n    __param(4, IInstantiationService)\n], QuickInputTree);\nexport { QuickInputTree };\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}