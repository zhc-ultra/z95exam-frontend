{"ast":null,"code":"import _slicedToArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport var unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet, Schemas.vscodeChatCodeBlock]);\nvar DoubleResourceMap = /*#__PURE__*/function () {\n  function DoubleResourceMap() {\n    _classCallCheck(this, DoubleResourceMap);\n    this._byResource = new ResourceMap();\n    this._byOwner = new Map();\n  }\n  return _createClass(DoubleResourceMap, [{\n    key: \"set\",\n    value: function set(resource, owner, value) {\n      var ownerMap = this._byResource.get(resource);\n      if (!ownerMap) {\n        ownerMap = new Map();\n        this._byResource.set(resource, ownerMap);\n      }\n      ownerMap.set(owner, value);\n      var resourceMap = this._byOwner.get(owner);\n      if (!resourceMap) {\n        resourceMap = new ResourceMap();\n        this._byOwner.set(owner, resourceMap);\n      }\n      resourceMap.set(resource, value);\n    }\n  }, {\n    key: \"get\",\n    value: function get(resource, owner) {\n      var ownerMap = this._byResource.get(resource);\n      return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(resource, owner) {\n      var removedA = false;\n      var removedB = false;\n      var ownerMap = this._byResource.get(resource);\n      if (ownerMap) {\n        removedA = ownerMap[\"delete\"](owner);\n      }\n      var resourceMap = this._byOwner.get(owner);\n      if (resourceMap) {\n        removedB = resourceMap[\"delete\"](resource);\n      }\n      if (removedA !== removedB) {\n        throw new Error('illegal state');\n      }\n      return removedA && removedB;\n    }\n  }, {\n    key: \"values\",\n    value: function values(key) {\n      var _a, _b, _c, _d;\n      if (typeof key === 'string') {\n        return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n      }\n      if (URI.isUri(key)) {\n        return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n      }\n      return Iterable.map(Iterable.concat.apply(Iterable, _toConsumableArray(this._byOwner.values())), function (map) {\n        return map[1];\n      });\n    }\n  }]);\n}();\nvar MarkerStats = /*#__PURE__*/function () {\n  function MarkerStats(service) {\n    _classCallCheck(this, MarkerStats);\n    this.errors = 0;\n    this.infos = 0;\n    this.warnings = 0;\n    this.unknowns = 0;\n    this._data = new ResourceMap();\n    this._service = service;\n    this._subscription = service.onMarkerChanged(this._update, this);\n  }\n  return _createClass(MarkerStats, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._subscription.dispose();\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(resources) {\n      var _iterator = _createForOfIteratorHelper(resources),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var resource = _step.value;\n          var oldStats = this._data.get(resource);\n          if (oldStats) {\n            this._substract(oldStats);\n          }\n          var newStats = this._resourceStats(resource);\n          this._add(newStats);\n          this._data.set(resource, newStats);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_resourceStats\",\n    value: function _resourceStats(resource) {\n      var result = {\n        errors: 0,\n        warnings: 0,\n        infos: 0,\n        unknowns: 0\n      };\n      // TODO this is a hack\n      if (unsupportedSchemas.has(resource.scheme)) {\n        return result;\n      }\n      var _iterator2 = _createForOfIteratorHelper(this._service.read({\n          resource: resource\n        })),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var severity = _step2.value.severity;\n          if (severity === MarkerSeverity.Error) {\n            result.errors += 1;\n          } else if (severity === MarkerSeverity.Warning) {\n            result.warnings += 1;\n          } else if (severity === MarkerSeverity.Info) {\n            result.infos += 1;\n          } else {\n            result.unknowns += 1;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return result;\n    }\n  }, {\n    key: \"_substract\",\n    value: function _substract(op) {\n      this.errors -= op.errors;\n      this.warnings -= op.warnings;\n      this.infos -= op.infos;\n      this.unknowns -= op.unknowns;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(op) {\n      this.errors += op.errors;\n      this.warnings += op.warnings;\n      this.infos += op.infos;\n      this.unknowns += op.unknowns;\n    }\n  }]);\n}();\nexport var MarkerService = /*#__PURE__*/function () {\n  function MarkerService() {\n    _classCallCheck(this, MarkerService);\n    this._onMarkerChanged = new DebounceEmitter({\n      delay: 0,\n      merge: MarkerService._merge\n    });\n    this.onMarkerChanged = this._onMarkerChanged.event;\n    this._data = new DoubleResourceMap();\n    this._stats = new MarkerStats(this);\n  }\n  return _createClass(MarkerService, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._stats.dispose();\n      this._onMarkerChanged.dispose();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(owner, resources) {\n      var _iterator3 = _createForOfIteratorHelper(resources || []),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var resource = _step3.value;\n          this.changeOne(owner, resource, []);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"changeOne\",\n    value: function changeOne(owner, resource, markerData) {\n      if (isFalsyOrEmpty(markerData)) {\n        // remove marker for this (owner,resource)-tuple\n        var removed = this._data[\"delete\"](resource, owner);\n        if (removed) {\n          this._onMarkerChanged.fire([resource]);\n        }\n      } else {\n        // insert marker for this (owner,resource)-tuple\n        var markers = [];\n        var _iterator4 = _createForOfIteratorHelper(markerData),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var data = _step4.value;\n            var marker = MarkerService._toMarker(owner, resource, data);\n            if (marker) {\n              markers.push(marker);\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n        this._data.set(resource, owner, markers);\n        this._onMarkerChanged.fire([resource]);\n      }\n    }\n  }, {\n    key: \"changeAll\",\n    value: function changeAll(owner, data) {\n      var changes = [];\n      // remove old marker\n      var existing = this._data.values(owner);\n      if (existing) {\n        var _iterator5 = _createForOfIteratorHelper(existing),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _data = _step5.value;\n            var first = Iterable.first(_data);\n            if (first) {\n              changes.push(first.resource);\n              this._data[\"delete\"](first.resource, owner);\n            }\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n      // add new markers\n      if (isNonEmptyArray(data)) {\n        // group by resource\n        var groups = new ResourceMap();\n        var _iterator6 = _createForOfIteratorHelper(data),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _step6$value = _step6.value,\n              resource = _step6$value.resource,\n              markerData = _step6$value.marker;\n            var marker = MarkerService._toMarker(owner, resource, markerData);\n            if (!marker) {\n              // filter bad markers\n              continue;\n            }\n            var array = groups.get(resource);\n            if (!array) {\n              groups.set(resource, [marker]);\n              changes.push(resource);\n            } else {\n              array.push(marker);\n            }\n          }\n          // insert all\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n        var _iterator7 = _createForOfIteratorHelper(groups),\n          _step7;\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var _step7$value = _slicedToArray(_step7.value, 2),\n              _resource = _step7$value[0],\n              value = _step7$value[1];\n            this._data.set(_resource, owner, value);\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n      }\n      if (changes.length > 0) {\n        this._onMarkerChanged.fire(changes);\n      }\n    }\n  }, {\n    key: \"read\",\n    value: function read() {\n      var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object.create(null);\n      var owner = filter.owner,\n        resource = filter.resource,\n        severities = filter.severities,\n        take = filter.take;\n      if (!take || take < 0) {\n        take = -1;\n      }\n      if (owner && resource) {\n        // exactly one owner AND resource\n        var data = this._data.get(resource, owner);\n        if (!data) {\n          return [];\n        } else {\n          var result = [];\n          var _iterator8 = _createForOfIteratorHelper(data),\n            _step8;\n          try {\n            for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n              var marker = _step8.value;\n              if (MarkerService._accept(marker, severities)) {\n                var newLen = result.push(marker);\n                if (take > 0 && newLen === take) {\n                  break;\n                }\n              }\n            }\n          } catch (err) {\n            _iterator8.e(err);\n          } finally {\n            _iterator8.f();\n          }\n          return result;\n        }\n      } else if (!owner && !resource) {\n        // all\n        var _result = [];\n        var _iterator9 = _createForOfIteratorHelper(this._data.values()),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var markers = _step9.value;\n            var _iterator10 = _createForOfIteratorHelper(markers),\n              _step10;\n            try {\n              for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                var _data2 = _step10.value;\n                if (MarkerService._accept(_data2, severities)) {\n                  var _newLen = _result.push(_data2);\n                  if (take > 0 && _newLen === take) {\n                    return _result;\n                  }\n                }\n              }\n            } catch (err) {\n              _iterator10.e(err);\n            } finally {\n              _iterator10.f();\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n        return _result;\n      } else {\n        // of one resource OR owner\n        var iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n        var _result2 = [];\n        var _iterator11 = _createForOfIteratorHelper(iterable),\n          _step11;\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var _markers = _step11.value;\n            var _iterator12 = _createForOfIteratorHelper(_markers),\n              _step12;\n            try {\n              for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                var _data3 = _step12.value;\n                if (MarkerService._accept(_data3, severities)) {\n                  var _newLen2 = _result2.push(_data3);\n                  if (take > 0 && _newLen2 === take) {\n                    return _result2;\n                  }\n                }\n              }\n            } catch (err) {\n              _iterator12.e(err);\n            } finally {\n              _iterator12.f();\n            }\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n        return _result2;\n      }\n    }\n  }], [{\n    key: \"_toMarker\",\n    value: function _toMarker(owner, resource, data) {\n      var code = data.code,\n        severity = data.severity,\n        message = data.message,\n        source = data.source,\n        startLineNumber = data.startLineNumber,\n        startColumn = data.startColumn,\n        endLineNumber = data.endLineNumber,\n        endColumn = data.endColumn,\n        relatedInformation = data.relatedInformation,\n        tags = data.tags;\n      if (!message) {\n        return undefined;\n      }\n      // santize data\n      startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n      startColumn = startColumn > 0 ? startColumn : 1;\n      endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n      endColumn = endColumn > 0 ? endColumn : startColumn;\n      return {\n        resource: resource,\n        owner: owner,\n        code: code,\n        severity: severity,\n        message: message,\n        source: source,\n        startLineNumber: startLineNumber,\n        startColumn: startColumn,\n        endLineNumber: endLineNumber,\n        endColumn: endColumn,\n        relatedInformation: relatedInformation,\n        tags: tags\n      };\n    }\n  }, {\n    key: \"_accept\",\n    value: function _accept(marker, severities) {\n      return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n  }, {\n    key: \"_merge\",\n    value: function _merge(all) {\n      var set = new ResourceMap();\n      var _iterator13 = _createForOfIteratorHelper(all),\n        _step13;\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var array = _step13.value;\n          var _iterator14 = _createForOfIteratorHelper(array),\n            _step14;\n          try {\n            for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n              var item = _step14.value;\n              set.set(item, true);\n            }\n          } catch (err) {\n            _iterator14.e(err);\n          } finally {\n            _iterator14.f();\n          }\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n      return Array.from(set.keys());\n    }\n  }]);\n}();","map":{"version":3,"names":["isFalsyOrEmpty","isNonEmptyArray","DebounceEmitter","Iterable","ResourceMap","Schemas","URI","MarkerSeverity","unsupportedSchemas","Set","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","vscodeChatCodeBlock","DoubleResourceMap","_classCallCheck","_byResource","_byOwner","Map","_createClass","key","value","set","resource","owner","ownerMap","get","resourceMap","_delete","removedA","removedB","Error","values","_a","_b","_c","_d","empty","isUri","map","concat","apply","_toConsumableArray","MarkerStats","service","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","dispose","resources","_iterator","_createForOfIteratorHelper","_step","s","n","done","oldStats","_substract","newStats","_resourceStats","_add","err","e","f","result","has","scheme","_iterator2","read","_step2","severity","Warning","Info","op","MarkerService","_onMarkerChanged","delay","merge","_merge","event","_stats","remove","_iterator3","_step3","changeOne","markerData","removed","fire","markers","_iterator4","_step4","data","marker","_toMarker","push","changeAll","changes","existing","_iterator5","_step5","first","groups","_iterator6","_step6","_step6$value","array","_iterator7","_step7","_step7$value","_slicedToArray","length","filter","arguments","undefined","Object","create","severities","take","_iterator8","_step8","_accept","newLen","_iterator9","_step9","_iterator10","_step10","iterable","_iterator11","_step11","_iterator12","_step12","code","message","source","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","all","_iterator13","_step13","_iterator14","_step14","item","Array","from","keys"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet, Schemas.vscodeChatCodeBlock]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}