{"ast":null,"code":"import _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.with.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.substr.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nexport function canExpandCompletionItem(item) {\n  return !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\nvar SuggestDetailsWidget = /*#__PURE__*/function () {\n  function SuggestDetailsWidget(_editor, instaService) {\n    var _this = this;\n    _classCallCheck(this, SuggestDetailsWidget);\n    this._editor = _editor;\n    this._onDidClose = new Emitter();\n    this.onDidClose = this._onDidClose.event;\n    this._onDidChangeContents = new Emitter();\n    this.onDidChangeContents = this._onDidChangeContents.event;\n    this._disposables = new DisposableStore();\n    this._renderDisposeable = new DisposableStore();\n    this._borderWidth = 1;\n    this._size = new dom.Dimension(330, 0);\n    this.domNode = dom.$('.suggest-details');\n    this.domNode.classList.add('no-docs');\n    this._markdownRenderer = instaService.createInstance(MarkdownRenderer, {\n      editor: _editor\n    });\n    this._body = dom.$('.body');\n    this._scrollbar = new DomScrollableElement(this._body, {\n      alwaysConsumeMouseWheel: true\n    });\n    dom.append(this.domNode, this._scrollbar.getDomNode());\n    this._disposables.add(this._scrollbar);\n    this._header = dom.append(this._body, dom.$('.header'));\n    this._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n    this._close.title = nls.localize('details.close', \"Close\");\n    this._type = dom.append(this._header, dom.$('p.type'));\n    this._docs = dom.append(this._body, dom.$('p.docs'));\n    this._configureFont();\n    this._disposables.add(this._editor.onDidChangeConfiguration(function (e) {\n      if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n        _this._configureFont();\n      }\n    }));\n  }\n  return _createClass(SuggestDetailsWidget, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._disposables.dispose();\n      this._renderDisposeable.dispose();\n    }\n  }, {\n    key: \"_configureFont\",\n    value: function _configureFont() {\n      var options = this._editor.getOptions();\n      var fontInfo = options.get(50 /* EditorOption.fontInfo */);\n      var fontFamily = fontInfo.getMassagedFontFamily();\n      var fontSize = options.get(119 /* EditorOption.suggestFontSize */) || fontInfo.fontSize;\n      var lineHeight = options.get(120 /* EditorOption.suggestLineHeight */) || fontInfo.lineHeight;\n      var fontWeight = fontInfo.fontWeight;\n      var fontSizePx = \"\".concat(fontSize, \"px\");\n      var lineHeightPx = \"\".concat(lineHeight, \"px\");\n      this.domNode.style.fontSize = fontSizePx;\n      this.domNode.style.lineHeight = \"\".concat(lineHeight / fontSize);\n      this.domNode.style.fontWeight = fontWeight;\n      this.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n      this._type.style.fontFamily = fontFamily;\n      this._close.style.height = lineHeightPx;\n      this._close.style.width = lineHeightPx;\n    }\n  }, {\n    key: \"getLayoutInfo\",\n    value: function getLayoutInfo() {\n      var lineHeight = this._editor.getOption(120 /* EditorOption.suggestLineHeight */) || this._editor.getOption(50 /* EditorOption.fontInfo */).lineHeight;\n      var borderWidth = this._borderWidth;\n      var borderHeight = borderWidth * 2;\n      return {\n        lineHeight: lineHeight,\n        borderWidth: borderWidth,\n        borderHeight: borderHeight,\n        verticalPadding: 22,\n        horizontalPadding: 14\n      };\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      this._type.textContent = nls.localize('loading', \"Loading...\");\n      this._docs.textContent = '';\n      this.domNode.classList.remove('no-docs', 'no-type');\n      this.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n      this._onDidChangeContents.fire(this);\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, explainMode) {\n      var _this2 = this;\n      var _a, _b;\n      this._renderDisposeable.clear();\n      var _item$completion = item.completion,\n        detail = _item$completion.detail,\n        documentation = _item$completion.documentation;\n      if (explainMode) {\n        var md = '';\n        md += \"score: \".concat(item.score[0], \"\\n\");\n        md += \"prefix: \".concat((_a = item.word) !== null && _a !== void 0 ? _a : '(no prefix)', \"\\n\");\n        md += \"word: \".concat(item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel, \"\\n\");\n        md += \"distance: \".concat(item.distance, \" (localityBonus-setting)\\n\");\n        md += \"index: \".concat(item.idx, \", based on \").concat(item.completion.sortText && \"sortText: \\\"\".concat(item.completion.sortText, \"\\\"\") || 'label', \"\\n\");\n        md += \"commit_chars: \".concat((_b = item.completion.commitCharacters) === null || _b === void 0 ? void 0 : _b.join(''), \"\\n\");\n        documentation = new MarkdownString().appendCodeblock('empty', md);\n        detail = \"Provider: \".concat(item.provider._debugDisplayName);\n      }\n      if (!explainMode && !canExpandCompletionItem(item)) {\n        this.clearContents();\n        return;\n      }\n      this.domNode.classList.remove('no-docs', 'no-type');\n      // --- details\n      if (detail) {\n        var cappedDetail = detail.length > 100000 ? \"\".concat(detail.substr(0, 100000), \"\\u2026\") : detail;\n        this._type.textContent = cappedDetail;\n        this._type.title = cappedDetail;\n        dom.show(this._type);\n        this._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n      } else {\n        dom.clearNode(this._type);\n        this._type.title = '';\n        dom.hide(this._type);\n        this.domNode.classList.add('no-type');\n      }\n      // --- documentation\n      dom.clearNode(this._docs);\n      if (typeof documentation === 'string') {\n        this._docs.classList.remove('markdown-docs');\n        this._docs.textContent = documentation;\n      } else if (documentation) {\n        this._docs.classList.add('markdown-docs');\n        dom.clearNode(this._docs);\n        var renderedContents = this._markdownRenderer.render(documentation);\n        this._docs.appendChild(renderedContents.element);\n        this._renderDisposeable.add(renderedContents);\n        this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(function () {\n          _this2.layout(_this2._size.width, _this2._type.clientHeight + _this2._docs.clientHeight);\n          _this2._onDidChangeContents.fire(_this2);\n        }));\n      }\n      this.domNode.style.userSelect = 'text';\n      this.domNode.tabIndex = -1;\n      this._close.onmousedown = function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      };\n      this._close.onclick = function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this2._onDidClose.fire();\n      };\n      this._body.scrollTop = 0;\n      this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n      this._onDidChangeContents.fire(this);\n    }\n  }, {\n    key: \"clearContents\",\n    value: function clearContents() {\n      this.domNode.classList.add('no-docs');\n      this._type.textContent = '';\n      this._docs.textContent = '';\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.domNode.classList.contains('no-docs');\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this._size;\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(width, height) {\n      var newSize = new dom.Dimension(width, height);\n      if (!dom.Dimension.equals(newSize, this._size)) {\n        this._size = newSize;\n        dom.size(this.domNode, width, height);\n      }\n      this._scrollbar.scanDomNode();\n    }\n  }, {\n    key: \"scrollDown\",\n    value: function scrollDown() {\n      var much = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n      this._body.scrollTop += much;\n    }\n  }, {\n    key: \"scrollUp\",\n    value: function scrollUp() {\n      var much = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n      this._body.scrollTop -= much;\n    }\n  }, {\n    key: \"scrollTop\",\n    value: function scrollTop() {\n      this._body.scrollTop = 0;\n    }\n  }, {\n    key: \"scrollBottom\",\n    value: function scrollBottom() {\n      this._body.scrollTop = this._body.scrollHeight;\n    }\n  }, {\n    key: \"pageDown\",\n    value: function pageDown() {\n      this.scrollDown(80);\n    }\n  }, {\n    key: \"pageUp\",\n    value: function pageUp() {\n      this.scrollUp(80);\n    }\n  }, {\n    key: \"borderWidth\",\n    get: function get() {\n      return this._borderWidth;\n    },\n    set: function set(width) {\n      this._borderWidth = width;\n    }\n  }]);\n}();\nSuggestDetailsWidget = __decorate([__param(1, IInstantiationService)], SuggestDetailsWidget);\nexport { SuggestDetailsWidget };\nexport var SuggestDetailsOverlay = /*#__PURE__*/function () {\n  function SuggestDetailsOverlay(widget, _editor) {\n    var _this3 = this;\n    _classCallCheck(this, SuggestDetailsOverlay);\n    this.widget = widget;\n    this._editor = _editor;\n    this.allowEditorOverflow = true;\n    this._disposables = new DisposableStore();\n    this._added = false;\n    this._preferAlignAtTop = true;\n    this._resizable = new ResizableHTMLElement();\n    this._resizable.domNode.classList.add('suggest-details-container');\n    this._resizable.domNode.appendChild(widget.domNode);\n    this._resizable.enableSashes(false, true, true, false);\n    var topLeftNow;\n    var sizeNow;\n    var deltaTop = 0;\n    var deltaLeft = 0;\n    this._disposables.add(this._resizable.onDidWillResize(function () {\n      topLeftNow = _this3._topLeft;\n      sizeNow = _this3._resizable.size;\n    }));\n    this._disposables.add(this._resizable.onDidResize(function (e) {\n      if (topLeftNow && sizeNow) {\n        _this3.widget.layout(e.dimension.width, e.dimension.height);\n        var updateTopLeft = false;\n        if (e.west) {\n          deltaLeft = sizeNow.width - e.dimension.width;\n          updateTopLeft = true;\n        }\n        if (e.north) {\n          deltaTop = sizeNow.height - e.dimension.height;\n          updateTopLeft = true;\n        }\n        if (updateTopLeft) {\n          _this3._applyTopLeft({\n            top: topLeftNow.top + deltaTop,\n            left: topLeftNow.left + deltaLeft\n          });\n        }\n      }\n      if (e.done) {\n        topLeftNow = undefined;\n        sizeNow = undefined;\n        deltaTop = 0;\n        deltaLeft = 0;\n        _this3._userSize = e.dimension;\n      }\n    }));\n    this._disposables.add(this.widget.onDidChangeContents(function () {\n      var _a;\n      if (_this3._anchorBox) {\n        _this3._placeAtAnchor(_this3._anchorBox, (_a = _this3._userSize) !== null && _a !== void 0 ? _a : _this3.widget.size, _this3._preferAlignAtTop);\n      }\n    }));\n  }\n  return _createClass(SuggestDetailsOverlay, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._resizable.dispose();\n      this._disposables.dispose();\n      this.hide();\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return 'suggest.details';\n    }\n  }, {\n    key: \"getDomNode\",\n    value: function getDomNode() {\n      return this._resizable.domNode;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this._topLeft ? {\n        preference: this._topLeft\n      } : null;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (!this._added) {\n        this._editor.addOverlayWidget(this);\n        this._added = true;\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var sessionEnded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this._resizable.clearSashHoverState();\n      if (this._added) {\n        this._editor.removeOverlayWidget(this);\n        this._added = false;\n        this._anchorBox = undefined;\n        this._topLeft = undefined;\n      }\n      if (sessionEnded) {\n        this._userSize = undefined;\n        this.widget.clearContents();\n      }\n    }\n  }, {\n    key: \"placeAtAnchor\",\n    value: function placeAtAnchor(anchor, preferAlignAtTop) {\n      var _a;\n      var anchorBox = anchor.getBoundingClientRect();\n      this._anchorBox = anchorBox;\n      this._preferAlignAtTop = preferAlignAtTop;\n      this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, preferAlignAtTop);\n    }\n  }, {\n    key: \"_placeAtAnchor\",\n    value: function _placeAtAnchor(anchorBox, size, preferAlignAtTop) {\n      var _a;\n      var bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n      var info = this.widget.getLayoutInfo();\n      var defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n      var defaultTop = anchorBox.top;\n      // EAST\n      var eastPlacement = function () {\n        var width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n        var left = -info.borderWidth + anchorBox.left + anchorBox.width;\n        var maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n        var maxSizeBottom = maxSizeTop[\"with\"](undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n        return {\n          top: defaultTop,\n          left: left,\n          fit: width - size.width,\n          maxSizeTop: maxSizeTop,\n          maxSizeBottom: maxSizeBottom,\n          minSize: defaultMinSize[\"with\"](Math.min(width, defaultMinSize.width))\n        };\n      }();\n      // WEST\n      var westPlacement = function () {\n        var width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n        var left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n        var maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n        var maxSizeBottom = maxSizeTop[\"with\"](undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n        return {\n          top: defaultTop,\n          left: left,\n          fit: width - size.width,\n          maxSizeTop: maxSizeTop,\n          maxSizeBottom: maxSizeBottom,\n          minSize: defaultMinSize[\"with\"](Math.min(width, defaultMinSize.width))\n        };\n      }();\n      // SOUTH\n      var southPacement = function () {\n        var left = anchorBox.left;\n        var top = -info.borderWidth + anchorBox.top + anchorBox.height;\n        var maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n        return {\n          top: top,\n          left: left,\n          fit: maxSizeBottom.height - size.height,\n          maxSizeBottom: maxSizeBottom,\n          maxSizeTop: maxSizeBottom,\n          minSize: defaultMinSize[\"with\"](maxSizeBottom.width)\n        };\n      }();\n      // take first placement that fits or the first with \"least bad\" fit\n      var placements = [eastPlacement, westPlacement, southPacement];\n      var placement = (_a = placements.find(function (p) {\n        return p.fit >= 0;\n      })) !== null && _a !== void 0 ? _a : placements.sort(function (a, b) {\n        return b.fit - a.fit;\n      })[0];\n      // top/bottom placement\n      var bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n      var alignAtTop;\n      var height = size.height;\n      var maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n      if (height > maxHeight) {\n        height = maxHeight;\n      }\n      var maxSize;\n      if (preferAlignAtTop) {\n        if (height <= placement.maxSizeTop.height) {\n          alignAtTop = true;\n          maxSize = placement.maxSizeTop;\n        } else {\n          alignAtTop = false;\n          maxSize = placement.maxSizeBottom;\n        }\n      } else {\n        if (height <= placement.maxSizeBottom.height) {\n          alignAtTop = false;\n          maxSize = placement.maxSizeBottom;\n        } else {\n          alignAtTop = true;\n          maxSize = placement.maxSizeTop;\n        }\n      }\n      var top = placement.top,\n        left = placement.left;\n      if (!alignAtTop && height > anchorBox.height) {\n        top = bottom - height;\n      }\n      var editorDomNode = this._editor.getDomNode();\n      if (editorDomNode) {\n        // get bounding rectangle of the suggest widget relative to the editor\n        var editorBoundingBox = editorDomNode.getBoundingClientRect();\n        top -= editorBoundingBox.top;\n        left -= editorBoundingBox.left;\n      }\n      this._applyTopLeft({\n        left: left,\n        top: top\n      });\n      this._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n      this._resizable.minSize = placement.minSize;\n      this._resizable.maxSize = maxSize;\n      this._resizable.layout(height, Math.min(maxSize.width, size.width));\n      this.widget.layout(this._resizable.size.width, this._resizable.size.height);\n    }\n  }, {\n    key: \"_applyTopLeft\",\n    value: function _applyTopLeft(topLeft) {\n      this._topLeft = topLeft;\n      this._editor.layoutOverlayWidget(this);\n    }\n  }]);\n}();","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","dom","DomScrollableElement","Codicon","ThemeIcon","Emitter","MarkdownString","DisposableStore","MarkdownRenderer","ResizableHTMLElement","nls","IInstantiationService","canExpandCompletionItem","item","Boolean","completion","documentation","detail","label","SuggestDetailsWidget","_editor","instaService","_this","_classCallCheck","_onDidClose","onDidClose","event","_onDidChangeContents","onDidChangeContents","_disposables","_renderDisposeable","_borderWidth","_size","Dimension","domNode","$","classList","add","_markdownRenderer","createInstance","editor","_body","_scrollbar","alwaysConsumeMouseWheel","append","getDomNode","_header","_close","asCSSSelector","close","title","localize","_type","_docs","_configureFont","onDidChangeConfiguration","e","hasChanged","_createClass","value","dispose","options","getOptions","fontInfo","get","fontFamily","getMassagedFontFamily","fontSize","lineHeight","fontWeight","fontSizePx","concat","lineHeightPx","style","fontFeatureSettings","height","width","getLayoutInfo","getOption","borderWidth","borderHeight","verticalPadding","horizontalPadding","renderLoading","textContent","remove","layout","size","fire","renderItem","explainMode","_this2","_a","_b","clear","_item$completion","md","score","word","filterText","textLabel","distance","idx","sortText","commitCharacters","join","appendCodeblock","provider","_debugDisplayName","clearContents","cappedDetail","substr","show","toggle","test","clearNode","hide","renderedContents","render","appendChild","element","onDidRenderAsync","clientHeight","userSelect","tabIndex","onmousedown","preventDefault","stopPropagation","onclick","scrollTop","contains","newSize","equals","scanDomNode","scrollDown","much","undefined","scrollUp","scrollBottom","scrollHeight","pageDown","pageUp","set","SuggestDetailsOverlay","widget","_this3","allowEditorOverflow","_added","_preferAlignAtTop","_resizable","enableSashes","topLeftNow","sizeNow","deltaTop","deltaLeft","onDidWillResize","_topLeft","onDidResize","dimension","updateTopLeft","west","north","_applyTopLeft","top","left","done","_userSize","_anchorBox","_placeAtAnchor","getId","getPosition","preference","addOverlayWidget","sessionEnded","clearSashHoverState","removeOverlayWidget","placeAtAnchor","anchor","preferAlignAtTop","anchorBox","getBoundingClientRect","bodyBox","getClientArea","ownerDocument","body","info","defaultMinSize","defaultTop","eastPlacement","maxSizeTop","maxSizeBottom","fit","minSize","Math","min","westPlacement","max","southPacement","placements","placement","find","p","sort","a","b","bottom","alignAtTop","maxHeight","maxSize","editorDomNode","editorBoundingBox","topLeft","layoutOverlayWidget"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidgetDetails.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nexport function canExpandCompletionItem(item) {\n    return !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\nlet SuggestDetailsWidget = class SuggestDetailsWidget {\n    constructor(_editor, instaService) {\n        this._editor = _editor;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        this._onDidChangeContents = new Emitter();\n        this.onDidChangeContents = this._onDidChangeContents.event;\n        this._disposables = new DisposableStore();\n        this._renderDisposeable = new DisposableStore();\n        this._borderWidth = 1;\n        this._size = new dom.Dimension(330, 0);\n        this.domNode = dom.$('.suggest-details');\n        this.domNode.classList.add('no-docs');\n        this._markdownRenderer = instaService.createInstance(MarkdownRenderer, { editor: _editor });\n        this._body = dom.$('.body');\n        this._scrollbar = new DomScrollableElement(this._body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        dom.append(this.domNode, this._scrollbar.getDomNode());\n        this._disposables.add(this._scrollbar);\n        this._header = dom.append(this._body, dom.$('.header'));\n        this._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n        this._close.title = nls.localize('details.close', \"Close\");\n        this._type = dom.append(this._header, dom.$('p.type'));\n        this._docs = dom.append(this._body, dom.$('p.docs'));\n        this._configureFont();\n        this._disposables.add(this._editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(50 /* EditorOption.fontInfo */)) {\n                this._configureFont();\n            }\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._renderDisposeable.dispose();\n    }\n    _configureFont() {\n        const options = this._editor.getOptions();\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        const fontFamily = fontInfo.getMassagedFontFamily();\n        const fontSize = options.get(119 /* EditorOption.suggestFontSize */) || fontInfo.fontSize;\n        const lineHeight = options.get(120 /* EditorOption.suggestLineHeight */) || fontInfo.lineHeight;\n        const fontWeight = fontInfo.fontWeight;\n        const fontSizePx = `${fontSize}px`;\n        const lineHeightPx = `${lineHeight}px`;\n        this.domNode.style.fontSize = fontSizePx;\n        this.domNode.style.lineHeight = `${lineHeight / fontSize}`;\n        this.domNode.style.fontWeight = fontWeight;\n        this.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n        this._type.style.fontFamily = fontFamily;\n        this._close.style.height = lineHeightPx;\n        this._close.style.width = lineHeightPx;\n    }\n    getLayoutInfo() {\n        const lineHeight = this._editor.getOption(120 /* EditorOption.suggestLineHeight */) || this._editor.getOption(50 /* EditorOption.fontInfo */).lineHeight;\n        const borderWidth = this._borderWidth;\n        const borderHeight = borderWidth * 2;\n        return {\n            lineHeight,\n            borderWidth,\n            borderHeight,\n            verticalPadding: 22,\n            horizontalPadding: 14\n        };\n    }\n    renderLoading() {\n        this._type.textContent = nls.localize('loading', \"Loading...\");\n        this._docs.textContent = '';\n        this.domNode.classList.remove('no-docs', 'no-type');\n        this.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n        this._onDidChangeContents.fire(this);\n    }\n    renderItem(item, explainMode) {\n        var _a, _b;\n        this._renderDisposeable.clear();\n        let { detail, documentation } = item.completion;\n        if (explainMode) {\n            let md = '';\n            md += `score: ${item.score[0]}\\n`;\n            md += `prefix: ${(_a = item.word) !== null && _a !== void 0 ? _a : '(no prefix)'}\\n`;\n            md += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\\n`;\n            md += `distance: ${item.distance} (localityBonus-setting)\\n`;\n            md += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: \"${item.completion.sortText}\"` || 'label'}\\n`;\n            md += `commit_chars: ${(_b = item.completion.commitCharacters) === null || _b === void 0 ? void 0 : _b.join('')}\\n`;\n            documentation = new MarkdownString().appendCodeblock('empty', md);\n            detail = `Provider: ${item.provider._debugDisplayName}`;\n        }\n        if (!explainMode && !canExpandCompletionItem(item)) {\n            this.clearContents();\n            return;\n        }\n        this.domNode.classList.remove('no-docs', 'no-type');\n        // --- details\n        if (detail) {\n            const cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}â€¦` : detail;\n            this._type.textContent = cappedDetail;\n            this._type.title = cappedDetail;\n            dom.show(this._type);\n            this._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n        }\n        else {\n            dom.clearNode(this._type);\n            this._type.title = '';\n            dom.hide(this._type);\n            this.domNode.classList.add('no-type');\n        }\n        // --- documentation\n        dom.clearNode(this._docs);\n        if (typeof documentation === 'string') {\n            this._docs.classList.remove('markdown-docs');\n            this._docs.textContent = documentation;\n        }\n        else if (documentation) {\n            this._docs.classList.add('markdown-docs');\n            dom.clearNode(this._docs);\n            const renderedContents = this._markdownRenderer.render(documentation);\n            this._docs.appendChild(renderedContents.element);\n            this._renderDisposeable.add(renderedContents);\n            this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(() => {\n                this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n                this._onDidChangeContents.fire(this);\n            }));\n        }\n        this.domNode.style.userSelect = 'text';\n        this.domNode.tabIndex = -1;\n        this._close.onmousedown = e => {\n            e.preventDefault();\n            e.stopPropagation();\n        };\n        this._close.onclick = e => {\n            e.preventDefault();\n            e.stopPropagation();\n            this._onDidClose.fire();\n        };\n        this._body.scrollTop = 0;\n        this.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n        this._onDidChangeContents.fire(this);\n    }\n    clearContents() {\n        this.domNode.classList.add('no-docs');\n        this._type.textContent = '';\n        this._docs.textContent = '';\n    }\n    get isEmpty() {\n        return this.domNode.classList.contains('no-docs');\n    }\n    get size() {\n        return this._size;\n    }\n    layout(width, height) {\n        const newSize = new dom.Dimension(width, height);\n        if (!dom.Dimension.equals(newSize, this._size)) {\n            this._size = newSize;\n            dom.size(this.domNode, width, height);\n        }\n        this._scrollbar.scanDomNode();\n    }\n    scrollDown(much = 8) {\n        this._body.scrollTop += much;\n    }\n    scrollUp(much = 8) {\n        this._body.scrollTop -= much;\n    }\n    scrollTop() {\n        this._body.scrollTop = 0;\n    }\n    scrollBottom() {\n        this._body.scrollTop = this._body.scrollHeight;\n    }\n    pageDown() {\n        this.scrollDown(80);\n    }\n    pageUp() {\n        this.scrollUp(80);\n    }\n    set borderWidth(width) {\n        this._borderWidth = width;\n    }\n    get borderWidth() {\n        return this._borderWidth;\n    }\n};\nSuggestDetailsWidget = __decorate([\n    __param(1, IInstantiationService)\n], SuggestDetailsWidget);\nexport { SuggestDetailsWidget };\nexport class SuggestDetailsOverlay {\n    constructor(widget, _editor) {\n        this.widget = widget;\n        this._editor = _editor;\n        this.allowEditorOverflow = true;\n        this._disposables = new DisposableStore();\n        this._added = false;\n        this._preferAlignAtTop = true;\n        this._resizable = new ResizableHTMLElement();\n        this._resizable.domNode.classList.add('suggest-details-container');\n        this._resizable.domNode.appendChild(widget.domNode);\n        this._resizable.enableSashes(false, true, true, false);\n        let topLeftNow;\n        let sizeNow;\n        let deltaTop = 0;\n        let deltaLeft = 0;\n        this._disposables.add(this._resizable.onDidWillResize(() => {\n            topLeftNow = this._topLeft;\n            sizeNow = this._resizable.size;\n        }));\n        this._disposables.add(this._resizable.onDidResize(e => {\n            if (topLeftNow && sizeNow) {\n                this.widget.layout(e.dimension.width, e.dimension.height);\n                let updateTopLeft = false;\n                if (e.west) {\n                    deltaLeft = sizeNow.width - e.dimension.width;\n                    updateTopLeft = true;\n                }\n                if (e.north) {\n                    deltaTop = sizeNow.height - e.dimension.height;\n                    updateTopLeft = true;\n                }\n                if (updateTopLeft) {\n                    this._applyTopLeft({\n                        top: topLeftNow.top + deltaTop,\n                        left: topLeftNow.left + deltaLeft,\n                    });\n                }\n            }\n            if (e.done) {\n                topLeftNow = undefined;\n                sizeNow = undefined;\n                deltaTop = 0;\n                deltaLeft = 0;\n                this._userSize = e.dimension;\n            }\n        }));\n        this._disposables.add(this.widget.onDidChangeContents(() => {\n            var _a;\n            if (this._anchorBox) {\n                this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, this._preferAlignAtTop);\n            }\n        }));\n    }\n    dispose() {\n        this._resizable.dispose();\n        this._disposables.dispose();\n        this.hide();\n    }\n    getId() {\n        return 'suggest.details';\n    }\n    getDomNode() {\n        return this._resizable.domNode;\n    }\n    getPosition() {\n        return this._topLeft ? { preference: this._topLeft } : null;\n    }\n    show() {\n        if (!this._added) {\n            this._editor.addOverlayWidget(this);\n            this._added = true;\n        }\n    }\n    hide(sessionEnded = false) {\n        this._resizable.clearSashHoverState();\n        if (this._added) {\n            this._editor.removeOverlayWidget(this);\n            this._added = false;\n            this._anchorBox = undefined;\n            this._topLeft = undefined;\n        }\n        if (sessionEnded) {\n            this._userSize = undefined;\n            this.widget.clearContents();\n        }\n    }\n    placeAtAnchor(anchor, preferAlignAtTop) {\n        var _a;\n        const anchorBox = anchor.getBoundingClientRect();\n        this._anchorBox = anchorBox;\n        this._preferAlignAtTop = preferAlignAtTop;\n        this._placeAtAnchor(this._anchorBox, (_a = this._userSize) !== null && _a !== void 0 ? _a : this.widget.size, preferAlignAtTop);\n    }\n    _placeAtAnchor(anchorBox, size, preferAlignAtTop) {\n        var _a;\n        const bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n        const info = this.widget.getLayoutInfo();\n        const defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n        const defaultTop = anchorBox.top;\n        // EAST\n        const eastPlacement = (function () {\n            const width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n            const left = -info.borderWidth + anchorBox.left + anchorBox.width;\n            const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n            return { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n        })();\n        // WEST\n        const westPlacement = (function () {\n            const width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n            const left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n            const maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n            const maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n            return { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n        })();\n        // SOUTH\n        const southPacement = (function () {\n            const left = anchorBox.left;\n            const top = -info.borderWidth + anchorBox.top + anchorBox.height;\n            const maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n            return { top, left, fit: maxSizeBottom.height - size.height, maxSizeBottom, maxSizeTop: maxSizeBottom, minSize: defaultMinSize.with(maxSizeBottom.width) };\n        })();\n        // take first placement that fits or the first with \"least bad\" fit\n        const placements = [eastPlacement, westPlacement, southPacement];\n        const placement = (_a = placements.find(p => p.fit >= 0)) !== null && _a !== void 0 ? _a : placements.sort((a, b) => b.fit - a.fit)[0];\n        // top/bottom placement\n        const bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n        let alignAtTop;\n        let height = size.height;\n        const maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n        if (height > maxHeight) {\n            height = maxHeight;\n        }\n        let maxSize;\n        if (preferAlignAtTop) {\n            if (height <= placement.maxSizeTop.height) {\n                alignAtTop = true;\n                maxSize = placement.maxSizeTop;\n            }\n            else {\n                alignAtTop = false;\n                maxSize = placement.maxSizeBottom;\n            }\n        }\n        else {\n            if (height <= placement.maxSizeBottom.height) {\n                alignAtTop = false;\n                maxSize = placement.maxSizeBottom;\n            }\n            else {\n                alignAtTop = true;\n                maxSize = placement.maxSizeTop;\n            }\n        }\n        let { top, left } = placement;\n        if (!alignAtTop && height > anchorBox.height) {\n            top = bottom - height;\n        }\n        const editorDomNode = this._editor.getDomNode();\n        if (editorDomNode) {\n            // get bounding rectangle of the suggest widget relative to the editor\n            const editorBoundingBox = editorDomNode.getBoundingClientRect();\n            top -= editorBoundingBox.top;\n            left -= editorBoundingBox.left;\n        }\n        this._applyTopLeft({ left, top });\n        this._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n        this._resizable.minSize = placement.minSize;\n        this._resizable.maxSize = maxSize;\n        this._resizable.layout(height, Math.min(maxSize.width, size.width));\n        this.widget.layout(this._resizable.size.width, this._resizable.size.height);\n    }\n    _applyTopLeft(topLeft) {\n        this._topLeft = topLeft;\n        this._editor.layoutOverlayWidget(this);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}