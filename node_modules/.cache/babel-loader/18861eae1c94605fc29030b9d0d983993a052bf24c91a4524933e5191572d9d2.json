{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ColorDetector_1;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport var ColorDecorationInjectedTextMarker = Object.create({});\nvar ColorDetector = ColorDetector_1 = /*#__PURE__*/function (_Disposable) {\n  function ColorDetector(_editor, _configurationService, _languageFeaturesService, languageFeatureDebounceService) {\n    var _this;\n    _classCallCheck(this, ColorDetector);\n    _this = _callSuper(this, ColorDetector);\n    _this._editor = _editor;\n    _this._configurationService = _configurationService;\n    _this._languageFeaturesService = _languageFeaturesService;\n    _this._localToDispose = _this._register(new DisposableStore());\n    _this._decorationsIds = [];\n    _this._colorDatas = new Map();\n    _this._colorDecoratorIds = _this._editor.createDecorationsCollection();\n    _this._ruleFactory = new DynamicCssRules(_this._editor);\n    _this._decoratorLimitReporter = new DecoratorLimitReporter();\n    _this._colorDecorationClassRefs = _this._register(new DisposableStore());\n    _this._debounceInformation = languageFeatureDebounceService[\"for\"](_languageFeaturesService.colorProvider, 'Document Colors', {\n      min: ColorDetector_1.RECOMPUTE_TIME\n    });\n    _this._register(_editor.onDidChangeModel(function () {\n      _this._isColorDecoratorsEnabled = _this.isEnabled();\n      _this.updateColors();\n    }));\n    _this._register(_editor.onDidChangeModelLanguage(function () {\n      return _this.updateColors();\n    }));\n    _this._register(_languageFeaturesService.colorProvider.onDidChange(function () {\n      return _this.updateColors();\n    }));\n    _this._register(_editor.onDidChangeConfiguration(function (e) {\n      var prevIsEnabled = _this._isColorDecoratorsEnabled;\n      _this._isColorDecoratorsEnabled = _this.isEnabled();\n      _this._isDefaultColorDecoratorsEnabled = _this._editor.getOption(147 /* EditorOption.defaultColorDecorators */);\n      var updatedColorDecoratorsSetting = prevIsEnabled !== _this._isColorDecoratorsEnabled || e.hasChanged(21 /* EditorOption.colorDecoratorsLimit */);\n      var updatedDefaultColorDecoratorsSetting = e.hasChanged(147 /* EditorOption.defaultColorDecorators */);\n      if (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n        if (_this._isColorDecoratorsEnabled) {\n          _this.updateColors();\n        } else {\n          _this.removeAllDecorations();\n        }\n      }\n    }));\n    _this._timeoutTimer = null;\n    _this._computePromise = null;\n    _this._isColorDecoratorsEnabled = _this.isEnabled();\n    _this._isDefaultColorDecoratorsEnabled = _this._editor.getOption(147 /* EditorOption.defaultColorDecorators */);\n    _this.updateColors();\n    return _this;\n  }\n  _inherits(ColorDetector, _Disposable);\n  return _createClass(ColorDetector, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      var model = this._editor.getModel();\n      if (!model) {\n        return false;\n      }\n      var languageId = model.getLanguageId();\n      // handle deprecated settings. [languageId].colorDecorators.enable\n      var deprecatedConfig = this._configurationService.getValue(languageId);\n      if (deprecatedConfig && _typeof(deprecatedConfig) === 'object') {\n        var colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n        if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n          return colorDecorators['enable'];\n        }\n      }\n      return this._editor.getOption(20 /* EditorOption.colorDecorators */);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.stop();\n      this.removeAllDecorations();\n      _get(_getPrototypeOf(ColorDetector.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"updateColors\",\n    value: function updateColors() {\n      var _this2 = this;\n      this.stop();\n      if (!this._isColorDecoratorsEnabled) {\n        return;\n      }\n      var model = this._editor.getModel();\n      if (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n        return;\n      }\n      this._localToDispose.add(this._editor.onDidChangeModelContent(function () {\n        if (!_this2._timeoutTimer) {\n          _this2._timeoutTimer = new TimeoutTimer();\n          _this2._timeoutTimer.cancelAndSet(function () {\n            _this2._timeoutTimer = null;\n            _this2.beginCompute();\n          }, _this2._debounceInformation.get(model));\n        }\n      }));\n      this.beginCompute();\n    }\n  }, {\n    key: \"beginCompute\",\n    value: function () {\n      var _beginCompute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _this3 = this;\n        var colors;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              this._computePromise = createCancelablePromise( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(token) {\n                  var model, sw, colors;\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) switch (_context.prev = _context.next) {\n                      case 0:\n                        model = _this3._editor.getModel();\n                        if (model) {\n                          _context.next = 3;\n                          break;\n                        }\n                        return _context.abrupt(\"return\", []);\n                      case 3:\n                        sw = new StopWatch(false);\n                        _context.next = 6;\n                        return getColors(_this3._languageFeaturesService.colorProvider, model, token, _this3._isDefaultColorDecoratorsEnabled);\n                      case 6:\n                        colors = _context.sent;\n                        _this3._debounceInformation.update(model, sw.elapsed());\n                        return _context.abrupt(\"return\", colors);\n                      case 9:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }, _callee);\n                }));\n                return function (_x) {\n                  return _ref.apply(this, arguments);\n                };\n              }());\n              _context2.prev = 1;\n              _context2.next = 4;\n              return this._computePromise;\n            case 4:\n              colors = _context2.sent;\n              this.updateDecorations(colors);\n              this.updateColorDecorators(colors);\n              this._computePromise = null;\n              _context2.next = 13;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              onUnexpectedError(_context2.t0);\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[1, 10]]);\n      }));\n      function beginCompute() {\n        return _beginCompute.apply(this, arguments);\n      }\n      return beginCompute;\n    }()\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this._timeoutTimer) {\n        this._timeoutTimer.cancel();\n        this._timeoutTimer = null;\n      }\n      if (this._computePromise) {\n        this._computePromise.cancel();\n        this._computePromise = null;\n      }\n      this._localToDispose.clear();\n    }\n  }, {\n    key: \"updateDecorations\",\n    value: function updateDecorations(colorDatas) {\n      var _this4 = this;\n      var decorations = colorDatas.map(function (c) {\n        return {\n          range: {\n            startLineNumber: c.colorInfo.range.startLineNumber,\n            startColumn: c.colorInfo.range.startColumn,\n            endLineNumber: c.colorInfo.range.endLineNumber,\n            endColumn: c.colorInfo.range.endColumn\n          },\n          options: ModelDecorationOptions.EMPTY\n        };\n      });\n      this._editor.changeDecorations(function (changeAccessor) {\n        _this4._decorationsIds = changeAccessor.deltaDecorations(_this4._decorationsIds, decorations);\n        _this4._colorDatas = new Map();\n        _this4._decorationsIds.forEach(function (id, i) {\n          return _this4._colorDatas.set(id, colorDatas[i]);\n        });\n      });\n    }\n  }, {\n    key: \"updateColorDecorators\",\n    value: function updateColorDecorators(colorData) {\n      this._colorDecorationClassRefs.clear();\n      var decorations = [];\n      var limit = this._editor.getOption(21 /* EditorOption.colorDecoratorsLimit */);\n      for (var i = 0; i < colorData.length && decorations.length < limit; i++) {\n        var _colorData$i$colorInf = colorData[i].colorInfo.color,\n          red = _colorData$i$colorInf.red,\n          green = _colorData$i$colorInf.green,\n          blue = _colorData$i$colorInf.blue,\n          alpha = _colorData$i$colorInf.alpha;\n        var rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n        var color = \"rgba(\".concat(rgba.r, \", \").concat(rgba.g, \", \").concat(rgba.b, \", \").concat(rgba.a, \")\");\n        var ref = this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({\n          backgroundColor: color\n        }));\n        decorations.push({\n          range: {\n            startLineNumber: colorData[i].colorInfo.range.startLineNumber,\n            startColumn: colorData[i].colorInfo.range.startColumn,\n            endLineNumber: colorData[i].colorInfo.range.endLineNumber,\n            endColumn: colorData[i].colorInfo.range.endColumn\n          },\n          options: {\n            description: 'colorDetector',\n            before: {\n              content: noBreakWhitespace,\n              inlineClassName: \"\".concat(ref.className, \" colorpicker-color-decoration\"),\n              inlineClassNameAffectsLetterSpacing: true,\n              attachedData: ColorDecorationInjectedTextMarker\n            }\n          }\n        });\n      }\n      var limited = limit < colorData.length ? limit : false;\n      this._decoratorLimitReporter.update(colorData.length, limited);\n      this._colorDecoratorIds.set(decorations);\n    }\n  }, {\n    key: \"removeAllDecorations\",\n    value: function removeAllDecorations() {\n      this._editor.removeDecorations(this._decorationsIds);\n      this._decorationsIds = [];\n      this._colorDecoratorIds.clear();\n      this._colorDecorationClassRefs.clear();\n    }\n  }, {\n    key: \"getColorData\",\n    value: function getColorData(position) {\n      var _this5 = this;\n      var model = this._editor.getModel();\n      if (!model) {\n        return null;\n      }\n      var decorations = model.getDecorationsInRange(Range.fromPositions(position, position)).filter(function (d) {\n        return _this5._colorDatas.has(d.id);\n      });\n      if (decorations.length === 0) {\n        return null;\n      }\n      return this._colorDatas.get(decorations[0].id);\n    }\n  }, {\n    key: \"isColorDecoration\",\n    value: function isColorDecoration(decoration) {\n      return this._colorDecoratorIds.has(decoration);\n    }\n  }], [{\n    key: \"get\",\n    value: function get(editor) {\n      return editor.getContribution(this.ID);\n    }\n  }]);\n}(Disposable);\nColorDetector.ID = 'editor.contrib.colorDetector';\nColorDetector.RECOMPUTE_TIME = 1000; // ms\nColorDetector = ColorDetector_1 = __decorate([__param(1, IConfigurationService), __param(2, ILanguageFeaturesService), __param(3, ILanguageFeatureDebounceService)], ColorDetector);\nexport { ColorDetector };\nexport var DecoratorLimitReporter = /*#__PURE__*/function () {\n  function DecoratorLimitReporter() {\n    _classCallCheck(this, DecoratorLimitReporter);\n    this._onDidChange = new Emitter();\n    this._computed = 0;\n    this._limited = false;\n  }\n  return _createClass(DecoratorLimitReporter, [{\n    key: \"update\",\n    value: function update(computed, limited) {\n      if (computed !== this._computed || limited !== this._limited) {\n        this._computed = computed;\n        this._limited = limited;\n        this._onDidChange.fire();\n      }\n    }\n  }]);\n}();\nregisterEditorContribution(ColorDetector.ID, ColorDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","ColorDetector_1","createCancelablePromise","TimeoutTimer","RGBA","onUnexpectedError","Emitter","Disposable","DisposableStore","StopWatch","noBreakWhitespace","DynamicCssRules","registerEditorContribution","Range","ModelDecorationOptions","ILanguageFeatureDebounceService","ILanguageFeaturesService","getColors","IConfigurationService","ColorDecorationInjectedTextMarker","create","ColorDetector","_Disposable","_editor","_configurationService","_languageFeaturesService","languageFeatureDebounceService","_this","_classCallCheck","_callSuper","_localToDispose","_register","_decorationsIds","_colorDatas","Map","_colorDecoratorIds","createDecorationsCollection","_ruleFactory","_decoratorLimitReporter","DecoratorLimitReporter","_colorDecorationClassRefs","_debounceInformation","colorProvider","min","RECOMPUTE_TIME","onDidChangeModel","_isColorDecoratorsEnabled","isEnabled","updateColors","onDidChangeModelLanguage","onDidChange","onDidChangeConfiguration","e","prevIsEnabled","_isDefaultColorDecoratorsEnabled","getOption","updatedColorDecoratorsSetting","hasChanged","updatedDefaultColorDecoratorsSetting","removeAllDecorations","_timeoutTimer","_computePromise","_inherits","_createClass","value","model","getModel","languageId","getLanguageId","deprecatedConfig","getValue","colorDecorators","undefined","dispose","stop","_get","_getPrototypeOf","prototype","call","_this2","has","add","onDidChangeModelContent","cancelAndSet","beginCompute","get","_beginCompute","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","_this3","colors","wrap","_callee2$","_context2","prev","next","_ref","_callee","token","sw","_callee$","_context","abrupt","sent","update","elapsed","_x","apply","updateDecorations","updateColorDecorators","t0","cancel","clear","colorDatas","_this4","decorations","map","range","startLineNumber","colorInfo","startColumn","endLineNumber","endColumn","options","EMPTY","changeDecorations","changeAccessor","deltaDecorations","forEach","id","set","colorData","limit","_colorData$i$colorInf","color","red","green","blue","alpha","rgba","Math","round","concat","g","b","a","ref","createClassNameRef","backgroundColor","push","description","before","content","inlineClassName","className","inlineClassNameAffectsLetterSpacing","attachedData","limited","removeDecorations","getColorData","position","_this5","getDecorationsInRange","fromPositions","filter","isColorDecoration","decoration","editor","getContribution","ID","_onDidChange","_computed","_limited","computed","fire"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorDetector.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ColorDetector_1;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport const ColorDecorationInjectedTextMarker = Object.create({});\nlet ColorDetector = ColorDetector_1 = class ColorDetector extends Disposable {\n    constructor(_editor, _configurationService, _languageFeaturesService, languageFeatureDebounceService) {\n        super();\n        this._editor = _editor;\n        this._configurationService = _configurationService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._localToDispose = this._register(new DisposableStore());\n        this._decorationsIds = [];\n        this._colorDatas = new Map();\n        this._colorDecoratorIds = this._editor.createDecorationsCollection();\n        this._ruleFactory = new DynamicCssRules(this._editor);\n        this._decoratorLimitReporter = new DecoratorLimitReporter();\n        this._colorDecorationClassRefs = this._register(new DisposableStore());\n        this._debounceInformation = languageFeatureDebounceService.for(_languageFeaturesService.colorProvider, 'Document Colors', { min: ColorDetector_1.RECOMPUTE_TIME });\n        this._register(_editor.onDidChangeModel(() => {\n            this._isColorDecoratorsEnabled = this.isEnabled();\n            this.updateColors();\n        }));\n        this._register(_editor.onDidChangeModelLanguage(() => this.updateColors()));\n        this._register(_languageFeaturesService.colorProvider.onDidChange(() => this.updateColors()));\n        this._register(_editor.onDidChangeConfiguration((e) => {\n            const prevIsEnabled = this._isColorDecoratorsEnabled;\n            this._isColorDecoratorsEnabled = this.isEnabled();\n            this._isDefaultColorDecoratorsEnabled = this._editor.getOption(147 /* EditorOption.defaultColorDecorators */);\n            const updatedColorDecoratorsSetting = prevIsEnabled !== this._isColorDecoratorsEnabled || e.hasChanged(21 /* EditorOption.colorDecoratorsLimit */);\n            const updatedDefaultColorDecoratorsSetting = e.hasChanged(147 /* EditorOption.defaultColorDecorators */);\n            if (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n                if (this._isColorDecoratorsEnabled) {\n                    this.updateColors();\n                }\n                else {\n                    this.removeAllDecorations();\n                }\n            }\n        }));\n        this._timeoutTimer = null;\n        this._computePromise = null;\n        this._isColorDecoratorsEnabled = this.isEnabled();\n        this._isDefaultColorDecoratorsEnabled = this._editor.getOption(147 /* EditorOption.defaultColorDecorators */);\n        this.updateColors();\n    }\n    isEnabled() {\n        const model = this._editor.getModel();\n        if (!model) {\n            return false;\n        }\n        const languageId = model.getLanguageId();\n        // handle deprecated settings. [languageId].colorDecorators.enable\n        const deprecatedConfig = this._configurationService.getValue(languageId);\n        if (deprecatedConfig && typeof deprecatedConfig === 'object') {\n            const colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n                return colorDecorators['enable'];\n            }\n        }\n        return this._editor.getOption(20 /* EditorOption.colorDecorators */);\n    }\n    static get(editor) {\n        return editor.getContribution(this.ID);\n    }\n    dispose() {\n        this.stop();\n        this.removeAllDecorations();\n        super.dispose();\n    }\n    updateColors() {\n        this.stop();\n        if (!this._isColorDecoratorsEnabled) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n            return;\n        }\n        this._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n            if (!this._timeoutTimer) {\n                this._timeoutTimer = new TimeoutTimer();\n                this._timeoutTimer.cancelAndSet(() => {\n                    this._timeoutTimer = null;\n                    this.beginCompute();\n                }, this._debounceInformation.get(model));\n            }\n        }));\n        this.beginCompute();\n    }\n    async beginCompute() {\n        this._computePromise = createCancelablePromise(async (token) => {\n            const model = this._editor.getModel();\n            if (!model) {\n                return [];\n            }\n            const sw = new StopWatch(false);\n            const colors = await getColors(this._languageFeaturesService.colorProvider, model, token, this._isDefaultColorDecoratorsEnabled);\n            this._debounceInformation.update(model, sw.elapsed());\n            return colors;\n        });\n        try {\n            const colors = await this._computePromise;\n            this.updateDecorations(colors);\n            this.updateColorDecorators(colors);\n            this._computePromise = null;\n        }\n        catch (e) {\n            onUnexpectedError(e);\n        }\n    }\n    stop() {\n        if (this._timeoutTimer) {\n            this._timeoutTimer.cancel();\n            this._timeoutTimer = null;\n        }\n        if (this._computePromise) {\n            this._computePromise.cancel();\n            this._computePromise = null;\n        }\n        this._localToDispose.clear();\n    }\n    updateDecorations(colorDatas) {\n        const decorations = colorDatas.map(c => ({\n            range: {\n                startLineNumber: c.colorInfo.range.startLineNumber,\n                startColumn: c.colorInfo.range.startColumn,\n                endLineNumber: c.colorInfo.range.endLineNumber,\n                endColumn: c.colorInfo.range.endColumn\n            },\n            options: ModelDecorationOptions.EMPTY\n        }));\n        this._editor.changeDecorations((changeAccessor) => {\n            this._decorationsIds = changeAccessor.deltaDecorations(this._decorationsIds, decorations);\n            this._colorDatas = new Map();\n            this._decorationsIds.forEach((id, i) => this._colorDatas.set(id, colorDatas[i]));\n        });\n    }\n    updateColorDecorators(colorData) {\n        this._colorDecorationClassRefs.clear();\n        const decorations = [];\n        const limit = this._editor.getOption(21 /* EditorOption.colorDecoratorsLimit */);\n        for (let i = 0; i < colorData.length && decorations.length < limit; i++) {\n            const { red, green, blue, alpha } = colorData[i].colorInfo.color;\n            const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n            const color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n            const ref = this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({\n                backgroundColor: color\n            }));\n            decorations.push({\n                range: {\n                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,\n                    startColumn: colorData[i].colorInfo.range.startColumn,\n                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,\n                    endColumn: colorData[i].colorInfo.range.endColumn\n                },\n                options: {\n                    description: 'colorDetector',\n                    before: {\n                        content: noBreakWhitespace,\n                        inlineClassName: `${ref.className} colorpicker-color-decoration`,\n                        inlineClassNameAffectsLetterSpacing: true,\n                        attachedData: ColorDecorationInjectedTextMarker\n                    }\n                }\n            });\n        }\n        const limited = limit < colorData.length ? limit : false;\n        this._decoratorLimitReporter.update(colorData.length, limited);\n        this._colorDecoratorIds.set(decorations);\n    }\n    removeAllDecorations() {\n        this._editor.removeDecorations(this._decorationsIds);\n        this._decorationsIds = [];\n        this._colorDecoratorIds.clear();\n        this._colorDecorationClassRefs.clear();\n    }\n    getColorData(position) {\n        const model = this._editor.getModel();\n        if (!model) {\n            return null;\n        }\n        const decorations = model\n            .getDecorationsInRange(Range.fromPositions(position, position))\n            .filter(d => this._colorDatas.has(d.id));\n        if (decorations.length === 0) {\n            return null;\n        }\n        return this._colorDatas.get(decorations[0].id);\n    }\n    isColorDecoration(decoration) {\n        return this._colorDecoratorIds.has(decoration);\n    }\n};\nColorDetector.ID = 'editor.contrib.colorDetector';\nColorDetector.RECOMPUTE_TIME = 1000; // ms\nColorDetector = ColorDetector_1 = __decorate([\n    __param(1, IConfigurationService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ILanguageFeatureDebounceService)\n], ColorDetector);\nexport { ColorDetector };\nexport class DecoratorLimitReporter {\n    constructor() {\n        this._onDidChange = new Emitter();\n        this._computed = 0;\n        this._limited = false;\n    }\n    update(computed, limited) {\n        if (computed !== this._computed || limited !== this._limited) {\n            this._computed = computed;\n            this._limited = limited;\n            this._onDidChange.fire();\n        }\n    }\n}\nregisterEditorContribution(ColorDetector.ID, ColorDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}