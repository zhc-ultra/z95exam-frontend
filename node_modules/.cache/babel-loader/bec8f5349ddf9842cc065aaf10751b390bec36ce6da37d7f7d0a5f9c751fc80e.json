{"ast":null,"code":"import _toConsumableArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport var ColorHover = /*#__PURE__*/function () {\n  function ColorHover(owner, range, model, provider) {\n    _classCallCheck(this, ColorHover);\n    this.owner = owner;\n    this.range = range;\n    this.model = model;\n    this.provider = provider;\n    /**\n     * Force the hover to always be rendered at this specific range,\n     * even in the case of multiple hover parts.\n     */\n    this.forceShowAtRange = true;\n  }\n  return _createClass(ColorHover, [{\n    key: \"isValidForHoverAnchor\",\n    value: function isValidForHoverAnchor(anchor) {\n      return anchor.type === 1 /* HoverAnchorType.Range */ && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;\n    }\n  }]);\n}();\nvar ColorHoverParticipant = /*#__PURE__*/function () {\n  function ColorHoverParticipant(_editor, _themeService) {\n    _classCallCheck(this, ColorHoverParticipant);\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this.hoverOrdinal = 2;\n  }\n  return _createClass(ColorHoverParticipant, [{\n    key: \"computeSync\",\n    value: function computeSync(_anchor, _lineDecorations) {\n      return [];\n    }\n  }, {\n    key: \"computeAsync\",\n    value: function computeAsync(anchor, lineDecorations, token) {\n      return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n    }\n  }, {\n    key: \"_computeAsync\",\n    value: function () {\n      var _computeAsync2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_anchor, lineDecorations, _token) {\n        var colorDetector, _iterator, _step, d, colorData, colorHover;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (this._editor.hasModel()) {\n                _context.next = 2;\n                break;\n              }\n              return _context.abrupt(\"return\", []);\n            case 2:\n              colorDetector = ColorDetector.get(this._editor);\n              if (colorDetector) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\", []);\n            case 5:\n              _iterator = _createForOfIteratorHelper(lineDecorations);\n              _context.prev = 6;\n              _iterator.s();\n            case 8:\n              if ((_step = _iterator.n()).done) {\n                _context.next = 20;\n                break;\n              }\n              d = _step.value;\n              if (colorDetector.isColorDecoration(d)) {\n                _context.next = 12;\n                break;\n              }\n              return _context.abrupt(\"continue\", 18);\n            case 12:\n              colorData = colorDetector.getColorData(d.range.getStartPosition());\n              if (!colorData) {\n                _context.next = 18;\n                break;\n              }\n              _context.next = 16;\n              return _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n            case 16:\n              colorHover = _context.sent;\n              return _context.abrupt(\"return\", [colorHover]);\n            case 18:\n              _context.next = 8;\n              break;\n            case 20:\n              _context.next = 25;\n              break;\n            case 22:\n              _context.prev = 22;\n              _context.t0 = _context[\"catch\"](6);\n              _iterator.e(_context.t0);\n            case 25:\n              _context.prev = 25;\n              _iterator.f();\n              return _context.finish(25);\n            case 28:\n              return _context.abrupt(\"return\", []);\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[6, 22, 25, 28]]);\n      }));\n      function _computeAsync(_x, _x2, _x3) {\n        return _computeAsync2.apply(this, arguments);\n      }\n      return _computeAsync;\n    }()\n  }, {\n    key: \"renderHoverParts\",\n    value: function renderHoverParts(context, hoverParts) {\n      return _renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n  }]);\n}();\nColorHoverParticipant = __decorate([__param(1, IThemeService)], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport var StandaloneColorPickerHover = /*#__PURE__*/_createClass(function StandaloneColorPickerHover(owner, range, model, provider) {\n  _classCallCheck(this, StandaloneColorPickerHover);\n  this.owner = owner;\n  this.range = range;\n  this.model = model;\n  this.provider = provider;\n});\nvar StandaloneColorPickerParticipant = /*#__PURE__*/function () {\n  function StandaloneColorPickerParticipant(_editor, _themeService) {\n    _classCallCheck(this, StandaloneColorPickerParticipant);\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this._color = null;\n  }\n  return _createClass(StandaloneColorPickerParticipant, [{\n    key: \"createColorHover\",\n    value: function () {\n      var _createColorHover2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n        var colorDetector, colors, foundColorInfo, foundColorProvider, _iterator2, _step2, colorData, _colorInfo, colorInfo, colorProvider, foundInEditor;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (this._editor.hasModel()) {\n                _context2.next = 2;\n                break;\n              }\n              return _context2.abrupt(\"return\", null);\n            case 2:\n              colorDetector = ColorDetector.get(this._editor);\n              if (colorDetector) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt(\"return\", null);\n            case 5:\n              _context2.next = 7;\n              return getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n            case 7:\n              colors = _context2.sent;\n              foundColorInfo = null;\n              foundColorProvider = null;\n              _iterator2 = _createForOfIteratorHelper(colors);\n              try {\n                for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                  colorData = _step2.value;\n                  _colorInfo = colorData.colorInfo;\n                  if (Range.containsRange(_colorInfo.range, defaultColorInfo.range)) {\n                    foundColorInfo = _colorInfo;\n                    foundColorProvider = colorData.provider;\n                  }\n                }\n              } catch (err) {\n                _iterator2.e(err);\n              } finally {\n                _iterator2.f();\n              }\n              colorInfo = foundColorInfo !== null && foundColorInfo !== void 0 ? foundColorInfo : defaultColorInfo;\n              colorProvider = foundColorProvider !== null && foundColorProvider !== void 0 ? foundColorProvider : defaultColorProvider;\n              foundInEditor = !!foundColorInfo;\n              _context2.next = 17;\n              return _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider);\n            case 17:\n              _context2.t0 = _context2.sent;\n              _context2.t1 = foundInEditor;\n              return _context2.abrupt(\"return\", {\n                colorHover: _context2.t0,\n                foundInEditor: _context2.t1\n              });\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function createColorHover(_x4, _x5, _x6) {\n        return _createColorHover2.apply(this, arguments);\n      }\n      return createColorHover;\n    }()\n  }, {\n    key: \"updateEditorModel\",\n    value: function () {\n      var _updateEditorModel2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(colorHoverData) {\n        var colorPickerModel, range;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (this._editor.hasModel()) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 2:\n              colorPickerModel = colorHoverData.model;\n              range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n              if (!this._color) {\n                _context3.next = 8;\n                break;\n              }\n              _context3.next = 7;\n              return _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n            case 7:\n              range = _updateEditorModel(this._editor, range, colorPickerModel);\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function updateEditorModel(_x7) {\n        return _updateEditorModel2.apply(this, arguments);\n      }\n      return updateEditorModel;\n    }()\n  }, {\n    key: \"renderHoverParts\",\n    value: function renderHoverParts(context, hoverParts) {\n      return _renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this._color;\n    },\n    set: function set(color) {\n      this._color = color;\n    }\n  }]);\n}();\nStandaloneColorPickerParticipant = __decorate([__param(1, IThemeService)], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nfunction _createColorHover(_x8, _x9, _x10, _x11) {\n  return _createColorHover3.apply(this, arguments);\n}\nfunction _createColorHover3() {\n  _createColorHover3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(participant, editorModel, colorInfo, provider) {\n    var originalText, _colorInfo$color, red, green, blue, alpha, rgba, color, colorPresentations, model;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          originalText = editorModel.getValueInRange(colorInfo.range);\n          _colorInfo$color = colorInfo.color, red = _colorInfo$color.red, green = _colorInfo$color.green, blue = _colorInfo$color.blue, alpha = _colorInfo$color.alpha;\n          rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n          color = new Color(rgba);\n          _context5.next = 6;\n          return getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n        case 6:\n          colorPresentations = _context5.sent;\n          model = new ColorPickerModel(color, [], 0);\n          model.colorPresentations = colorPresentations || [];\n          model.guessColorPresentation(color, originalText);\n          if (!(participant instanceof ColorHoverParticipant)) {\n            _context5.next = 14;\n            break;\n          }\n          return _context5.abrupt(\"return\", new ColorHover(participant, Range.lift(colorInfo.range), model, provider));\n        case 14:\n          return _context5.abrupt(\"return\", new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider));\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _createColorHover3.apply(this, arguments);\n}\nfunction _renderHoverParts(participant, editor, themeService, hoverParts, context) {\n  if (hoverParts.length === 0 || !editor.hasModel()) {\n    return Disposable.None;\n  }\n  if (context.setMinimumDimensions) {\n    var minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n    context.setMinimumDimensions(new Dimension(302, minimumHeight));\n  }\n  var disposables = new DisposableStore();\n  var colorHover = hoverParts[0];\n  var editorModel = editor.getModel();\n  var model = colorHover.model;\n  var widget = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(143 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n  context.setColorPicker(widget);\n  var editorUpdatedByColorPicker = false;\n  var range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n  if (participant instanceof StandaloneColorPickerParticipant) {\n    var color = hoverParts[0].model.color;\n    participant.color = color;\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n    disposables.add(model.onColorFlushed(function (color) {\n      participant.color = color;\n    }));\n  } else {\n    disposables.add(model.onColorFlushed( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(color) {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _updateColorPresentations(editorModel, model, color, range, colorHover);\n            case 2:\n              editorUpdatedByColorPicker = true;\n              range = _updateEditorModel(editor, range, model);\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n      return function (_x12) {\n        return _ref.apply(this, arguments);\n      };\n    }()));\n  }\n  disposables.add(model.onDidChangeColor(function (color) {\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n  }));\n  disposables.add(editor.onDidChangeModelContent(function (e) {\n    if (editorUpdatedByColorPicker) {\n      editorUpdatedByColorPicker = false;\n    } else {\n      context.hide();\n      editor.focus();\n    }\n  }));\n  return disposables;\n}\nfunction _updateEditorModel(editor, range, model) {\n  var _a, _b;\n  var textEdits = [];\n  var edit = (_a = model.presentation.textEdit) !== null && _a !== void 0 ? _a : {\n    range: range,\n    text: model.presentation.label,\n    forceMoveMarkers: false\n  };\n  textEdits.push(edit);\n  if (model.presentation.additionalTextEdits) {\n    textEdits.push.apply(textEdits, _toConsumableArray(model.presentation.additionalTextEdits));\n  }\n  var replaceRange = Range.lift(edit.range);\n  var trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n  editor.executeEdits('colorpicker', textEdits);\n  editor.pushUndoStop();\n  return (_b = editor.getModel()._getTrackedRange(trackedRange)) !== null && _b !== void 0 ? _b : replaceRange;\n}\nfunction _updateColorPresentations(_x13, _x14, _x15, _x16, _x17) {\n  return _updateColorPresentations2.apply(this, arguments);\n}\nfunction _updateColorPresentations2() {\n  _updateColorPresentations2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(editorModel, colorPickerModel, color, range, colorHover) {\n    var colorPresentations;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return getColorPresentations(editorModel, {\n            range: range,\n            color: {\n              red: color.rgba.r / 255,\n              green: color.rgba.g / 255,\n              blue: color.rgba.b / 255,\n              alpha: color.rgba.a\n            }\n          }, colorHover.provider, CancellationToken.None);\n        case 2:\n          colorPresentations = _context6.sent;\n          colorPickerModel.colorPresentations = colorPresentations || [];\n        case 4:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _updateColorPresentations2.apply(this, arguments);\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","AsyncIterableObject","CancellationToken","Color","RGBA","Disposable","DisposableStore","Range","getColorPresentations","getColors","ColorDetector","ColorPickerModel","ColorPickerWidget","IThemeService","Dimension","ColorHover","owner","range","model","provider","_classCallCheck","forceShowAtRange","_createClass","value","isValidForHoverAnchor","anchor","type","startColumn","endColumn","ColorHoverParticipant","_editor","_themeService","hoverOrdinal","computeSync","_anchor","_lineDecorations","computeAsync","lineDecorations","token","fromPromise","_computeAsync","_computeAsync2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_token","colorDetector","_iterator","_step","colorData","colorHover","wrap","_callee$","_context","prev","next","hasModel","abrupt","get","_createForOfIteratorHelper","s","n","done","isColorDecoration","getColorData","getStartPosition","_createColorHover","getModel","colorInfo","sent","t0","e","f","finish","stop","_x","_x2","_x3","apply","renderHoverParts","context","hoverParts","StandaloneColorPickerHover","StandaloneColorPickerParticipant","_color","_createColorHover2","_callee2","defaultColorInfo","defaultColorProvider","colorProviderRegistry","colors","foundColorInfo","foundColorProvider","_iterator2","_step2","_colorInfo","colorProvider","foundInEditor","_callee2$","_context2","None","containsRange","err","t1","createColorHover","_x4","_x5","_x6","_updateEditorModel2","_callee3","colorHoverData","colorPickerModel","_callee3$","_context3","startLineNumber","endLineNumber","_updateColorPresentations","_updateEditorModel","updateEditorModel","_x7","set","color","_x8","_x9","_x10","_x11","_createColorHover3","_callee5","participant","editorModel","originalText","_colorInfo$color","red","green","blue","alpha","rgba","colorPresentations","_callee5$","_context5","getValueInRange","Math","round","guessColorPresentation","lift","editor","themeService","setMinimumDimensions","minimumHeight","getOption","disposables","widget","add","fragment","setColorPicker","editorUpdatedByColorPicker","onColorFlushed","_ref","_callee4","_callee4$","_context4","_x12","onDidChangeColor","onDidChangeModelContent","hide","focus","_a","_b","textEdits","edit","presentation","textEdit","text","label","forceMoveMarkers","push","additionalTextEdits","_toConsumableArray","replaceRange","trackedRange","_setTrackedRange","executeEdits","pushUndoStop","_getTrackedRange","_x13","_x14","_x15","_x16","_x17","_updateColorPresentations2","_callee6","_callee6$","_context6","g","b","a"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorHoverParticipant.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport class ColorHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n        /**\n         * Force the hover to always be rendered at this specific range,\n         * even in the case of multiple hover parts.\n         */\n        this.forceShowAtRange = true;\n    }\n    isValidForHoverAnchor(anchor) {\n        return (anchor.type === 1 /* HoverAnchorType.Range */\n            && this.range.startColumn <= anchor.range.startColumn\n            && this.range.endColumn >= anchor.range.endColumn);\n    }\n}\nlet ColorHoverParticipant = class ColorHoverParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this.hoverOrdinal = 2;\n    }\n    computeSync(_anchor, _lineDecorations) {\n        return [];\n    }\n    computeAsync(anchor, lineDecorations, token) {\n        return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n    }\n    async _computeAsync(_anchor, lineDecorations, _token) {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        const colorDetector = ColorDetector.get(this._editor);\n        if (!colorDetector) {\n            return [];\n        }\n        for (const d of lineDecorations) {\n            if (!colorDetector.isColorDecoration(d)) {\n                continue;\n            }\n            const colorData = colorDetector.getColorData(d.range.getStartPosition());\n            if (colorData) {\n                const colorHover = await _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n                return [colorHover];\n            }\n        }\n        return [];\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n};\nColorHoverParticipant = __decorate([\n    __param(1, IThemeService)\n], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport class StandaloneColorPickerHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n    }\n}\nlet StandaloneColorPickerParticipant = class StandaloneColorPickerParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this._color = null;\n    }\n    async createColorHover(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const colorDetector = ColorDetector.get(this._editor);\n        if (!colorDetector) {\n            return null;\n        }\n        const colors = await getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n        let foundColorInfo = null;\n        let foundColorProvider = null;\n        for (const colorData of colors) {\n            const colorInfo = colorData.colorInfo;\n            if (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n                foundColorInfo = colorInfo;\n                foundColorProvider = colorData.provider;\n            }\n        }\n        const colorInfo = foundColorInfo !== null && foundColorInfo !== void 0 ? foundColorInfo : defaultColorInfo;\n        const colorProvider = foundColorProvider !== null && foundColorProvider !== void 0 ? foundColorProvider : defaultColorProvider;\n        const foundInEditor = !!foundColorInfo;\n        return { colorHover: await _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider), foundInEditor: foundInEditor };\n    }\n    async updateEditorModel(colorHoverData) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const colorPickerModel = colorHoverData.model;\n        let range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n        if (this._color) {\n            await _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n            range = _updateEditorModel(this._editor, range, colorPickerModel);\n        }\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n    set color(color) {\n        this._color = color;\n    }\n    get color() {\n        return this._color;\n    }\n};\nStandaloneColorPickerParticipant = __decorate([\n    __param(1, IThemeService)\n], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nasync function _createColorHover(participant, editorModel, colorInfo, provider) {\n    const originalText = editorModel.getValueInRange(colorInfo.range);\n    const { red, green, blue, alpha } = colorInfo.color;\n    const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n    const color = new Color(rgba);\n    const colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n    const model = new ColorPickerModel(color, [], 0);\n    model.colorPresentations = colorPresentations || [];\n    model.guessColorPresentation(color, originalText);\n    if (participant instanceof ColorHoverParticipant) {\n        return new ColorHover(participant, Range.lift(colorInfo.range), model, provider);\n    }\n    else {\n        return new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider);\n    }\n}\nfunction renderHoverParts(participant, editor, themeService, hoverParts, context) {\n    if (hoverParts.length === 0 || !editor.hasModel()) {\n        return Disposable.None;\n    }\n    if (context.setMinimumDimensions) {\n        const minimumHeight = editor.getOption(67 /* EditorOption.lineHeight */) + 8;\n        context.setMinimumDimensions(new Dimension(302, minimumHeight));\n    }\n    const disposables = new DisposableStore();\n    const colorHover = hoverParts[0];\n    const editorModel = editor.getModel();\n    const model = colorHover.model;\n    const widget = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(143 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n    context.setColorPicker(widget);\n    let editorUpdatedByColorPicker = false;\n    let range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n    if (participant instanceof StandaloneColorPickerParticipant) {\n        const color = hoverParts[0].model.color;\n        participant.color = color;\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n        disposables.add(model.onColorFlushed((color) => {\n            participant.color = color;\n        }));\n    }\n    else {\n        disposables.add(model.onColorFlushed(async (color) => {\n            await _updateColorPresentations(editorModel, model, color, range, colorHover);\n            editorUpdatedByColorPicker = true;\n            range = _updateEditorModel(editor, range, model);\n        }));\n    }\n    disposables.add(model.onDidChangeColor((color) => {\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n    }));\n    disposables.add(editor.onDidChangeModelContent((e) => {\n        if (editorUpdatedByColorPicker) {\n            editorUpdatedByColorPicker = false;\n        }\n        else {\n            context.hide();\n            editor.focus();\n        }\n    }));\n    return disposables;\n}\nfunction _updateEditorModel(editor, range, model) {\n    var _a, _b;\n    const textEdits = [];\n    const edit = (_a = model.presentation.textEdit) !== null && _a !== void 0 ? _a : { range, text: model.presentation.label, forceMoveMarkers: false };\n    textEdits.push(edit);\n    if (model.presentation.additionalTextEdits) {\n        textEdits.push(...model.presentation.additionalTextEdits);\n    }\n    const replaceRange = Range.lift(edit.range);\n    const trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n    editor.executeEdits('colorpicker', textEdits);\n    editor.pushUndoStop();\n    return (_b = editor.getModel()._getTrackedRange(trackedRange)) !== null && _b !== void 0 ? _b : replaceRange;\n}\nasync function _updateColorPresentations(editorModel, colorPickerModel, color, range, colorHover) {\n    const colorPresentations = await getColorPresentations(editorModel, {\n        range: range,\n        color: {\n            red: color.rgba.r / 255,\n            green: color.rgba.g / 255,\n            blue: color.rgba.b / 255,\n            alpha: color.rgba.a\n        }\n    }, colorHover.provider, CancellationToken.None);\n    colorPickerModel.colorPresentations = colorPresentations || [];\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}