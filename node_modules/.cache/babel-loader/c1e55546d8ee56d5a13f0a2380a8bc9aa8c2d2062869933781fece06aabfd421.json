{"ast":null,"code":"import _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.flat-map.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.unscopables.flat-map.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/web.timers.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { EventType, addDisposableListener, h } from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, observableFromEvent, observableValue } from '../../../../../base/common/observable.js';\nimport { appendRemoveOnDispose, applyStyle, prependRemoveOnDispose } from '../utils.js';\nimport { EditorGutter } from '../utils/editorGutter.js';\nimport { ActionRunnerWithContext } from '../../multiDiffEditor/utils.js';\nimport { LineRange, LineRangeSet } from '../../../../common/core/lineRange.js';\nimport { OffsetRange } from '../../../../common/core/offsetRange.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { SingleTextEdit, TextEdit } from '../../../../common/core/textEdit.js';\nimport { DetailedLineRangeMapping } from '../../../../common/diff/rangeMapping.js';\nimport { TextModelText } from '../../../../common/model/textModelText.js';\nimport { MenuWorkbenchToolBar } from '../../../../../platform/actions/browser/toolbar.js';\nimport { IMenuService, MenuId } from '../../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { WorkbenchHoverDelegate } from '../../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nvar emptyArr = [];\nvar width = 35;\nvar DiffEditorGutter = /*#__PURE__*/function (_Disposable) {\n  function DiffEditorGutter(diffEditorRoot, _diffModel, _editors, _instantiationService, _contextKeyService, _menuService) {\n    var _this;\n    _classCallCheck(this, DiffEditorGutter);\n    _this = _callSuper(this, DiffEditorGutter);\n    _this._diffModel = _diffModel;\n    _this._editors = _editors;\n    _this._instantiationService = _instantiationService;\n    _this._contextKeyService = _contextKeyService;\n    _this._menuService = _menuService;\n    _this._menu = _this._register(_this._menuService.createMenu(MenuId.DiffEditorHunkToolbar, _this._contextKeyService));\n    _this._actions = observableFromEvent(_this._menu.onDidChange, function () {\n      return _this._menu.getActions();\n    });\n    _this._hasActions = _this._actions.map(function (a) {\n      return a.length > 0;\n    });\n    _this.width = derived(_this, function (reader) {\n      return _this._hasActions.read(reader) ? width : 0;\n    });\n    _this.elements = h('div.gutter@gutter', {\n      style: {\n        position: 'absolute',\n        height: '100%',\n        width: width + 'px'\n      }\n    }, []);\n    _this._currentDiff = derived(_this, function (reader) {\n      var _a;\n      var model = _this._diffModel.read(reader);\n      if (!model) {\n        return undefined;\n      }\n      var mappings = (_a = model.diff.read(reader)) === null || _a === void 0 ? void 0 : _a.mappings;\n      var cursorPosition = _this._editors.modifiedCursor.read(reader);\n      if (!cursorPosition) {\n        return undefined;\n      }\n      return mappings === null || mappings === void 0 ? void 0 : mappings.find(function (m) {\n        return m.lineRangeMapping.modified.contains(cursorPosition.lineNumber);\n      });\n    });\n    _this._selectedDiffs = derived(_this, function (reader) {\n      /** @description selectedDiffs */\n      var model = _this._diffModel.read(reader);\n      var diff = model === null || model === void 0 ? void 0 : model.diff.read(reader);\n      // Return `emptyArr` because it is a constant. [] is always a new array and would trigger a change.\n      if (!diff) {\n        return emptyArr;\n      }\n      var selections = _this._editors.modifiedSelections.read(reader);\n      if (selections.every(function (s) {\n        return s.isEmpty();\n      })) {\n        return emptyArr;\n      }\n      var selectedLineNumbers = new LineRangeSet(selections.map(function (s) {\n        return LineRange.fromRangeInclusive(s);\n      }));\n      var selectedMappings = diff.mappings.filter(function (m) {\n        return m.lineRangeMapping.innerChanges && selectedLineNumbers.intersects(m.lineRangeMapping.modified);\n      });\n      var result = selectedMappings.map(function (mapping) {\n        return {\n          mapping: mapping,\n          rangeMappings: mapping.lineRangeMapping.innerChanges.filter(function (c) {\n            return selections.some(function (s) {\n              return Range.areIntersecting(c.modifiedRange, s);\n            });\n          })\n        };\n      });\n      if (result.length === 0 || result.every(function (r) {\n        return r.rangeMappings.length === 0;\n      })) {\n        return emptyArr;\n      }\n      return result;\n    });\n    _this._register(prependRemoveOnDispose(diffEditorRoot, _this.elements.root));\n    _this._register(addDisposableListener(_this.elements.root, 'click', function () {\n      _this._editors.modified.focus();\n    }));\n    _this._register(applyStyle(_this.elements.root, {\n      display: _this._hasActions.map(function (a) {\n        return a ? 'block' : 'none';\n      })\n    }));\n    _this._register(new EditorGutter(_this._editors.modified, _this.elements.root, {\n      getIntersectingGutterItems: function getIntersectingGutterItems(range, reader) {\n        var model = _this._diffModel.read(reader);\n        if (!model) {\n          return [];\n        }\n        var diffs = model.diff.read(reader);\n        if (!diffs) {\n          return [];\n        }\n        var selection = _this._selectedDiffs.read(reader);\n        if (selection.length > 0) {\n          var m = DetailedLineRangeMapping.fromRangeMappings(selection.flatMap(function (s) {\n            return s.rangeMappings;\n          }));\n          return [new DiffGutterItem(m, true, MenuId.DiffEditorSelectionToolbar, undefined, model.model.original.uri, model.model.modified.uri)];\n        }\n        var currentDiff = _this._currentDiff.read(reader);\n        return diffs.mappings.map(function (m) {\n          return new DiffGutterItem(m.lineRangeMapping.withInnerChangesFromLineRanges(), m.lineRangeMapping === (currentDiff === null || currentDiff === void 0 ? void 0 : currentDiff.lineRangeMapping), MenuId.DiffEditorHunkToolbar, undefined, model.model.original.uri, model.model.modified.uri);\n        });\n      },\n      createView: function createView(item, target) {\n        return _this._instantiationService.createInstance(DiffToolBar, item, target, _this);\n      }\n    }));\n    _this._register(addDisposableListener(_this.elements.gutter, EventType.MOUSE_WHEEL, function (e) {\n      if (_this._editors.modified.getOption(103 /* EditorOption.scrollbar */).handleMouseWheel) {\n        _this._editors.modified.delegateScrollFromMouseWheelEvent(e);\n      }\n    }, {\n      passive: false\n    }));\n    return _this;\n  }\n  _inherits(DiffEditorGutter, _Disposable);\n  return _createClass(DiffEditorGutter, [{\n    key: \"computeStagedValue\",\n    value: function computeStagedValue(mapping) {\n      var _this2 = this;\n      var _a;\n      var c = (_a = mapping.innerChanges) !== null && _a !== void 0 ? _a : [];\n      var edit = new TextEdit(c.map(function (c) {\n        return new SingleTextEdit(c.originalRange, _this2._editors.modifiedModel.get().getValueInRange(c.modifiedRange));\n      }));\n      var value = edit.apply(new TextModelText(this._editors.original.getModel()));\n      return value;\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(left) {\n      this.elements.gutter.style.left = left + 'px';\n    }\n  }]);\n}(Disposable);\nDiffEditorGutter = __decorate([__param(3, IInstantiationService), __param(4, IContextKeyService), __param(5, IMenuService)], DiffEditorGutter);\nexport { DiffEditorGutter };\nvar DiffGutterItem = /*#__PURE__*/function () {\n  function DiffGutterItem(mapping, showAlways, menuId, rangeOverride, originalUri, modifiedUri) {\n    _classCallCheck(this, DiffGutterItem);\n    this.mapping = mapping;\n    this.showAlways = showAlways;\n    this.menuId = menuId;\n    this.rangeOverride = rangeOverride;\n    this.originalUri = originalUri;\n    this.modifiedUri = modifiedUri;\n  }\n  return _createClass(DiffGutterItem, [{\n    key: \"id\",\n    get: function get() {\n      return this.mapping.modified.toString();\n    }\n  }, {\n    key: \"range\",\n    get: function get() {\n      var _a;\n      return (_a = this.rangeOverride) !== null && _a !== void 0 ? _a : this.mapping.modified;\n    }\n  }]);\n}();\nvar DiffToolBar = /*#__PURE__*/function (_Disposable2) {\n  function DiffToolBar(_item, target, gutter, instantiationService) {\n    var _this3;\n    _classCallCheck(this, DiffToolBar);\n    _this3 = _callSuper(this, DiffToolBar);\n    _this3._item = _item;\n    _this3._elements = h('div.gutterItem', {\n      style: {\n        height: '20px',\n        width: '34px'\n      }\n    }, [h('div.background@background', {}, []), h('div.buttons@buttons', {}, [])]);\n    _this3._showAlways = _this3._item.map(_this3, function (item) {\n      return item.showAlways;\n    });\n    _this3._menuId = _this3._item.map(_this3, function (item) {\n      return item.menuId;\n    });\n    _this3._isSmall = observableValue(_this3, false);\n    _this3._lastItemRange = undefined;\n    _this3._lastViewRange = undefined;\n    var hoverDelegate = _this3._register(instantiationService.createInstance(WorkbenchHoverDelegate, 'element', true, {\n      position: {\n        hoverPosition: 1 /* HoverPosition.RIGHT */\n      }\n    }));\n    _this3._register(appendRemoveOnDispose(target, _this3._elements.root));\n    _this3._register(autorun(function (reader) {\n      /** @description update showAlways */\n      var showAlways = _this3._showAlways.read(reader);\n      _this3._elements.root.classList.toggle('noTransition', true);\n      _this3._elements.root.classList.toggle('showAlways', showAlways);\n      setTimeout(function () {\n        _this3._elements.root.classList.toggle('noTransition', false);\n      }, 0);\n    }));\n    _this3._register(autorunWithStore(function (reader, store) {\n      _this3._elements.buttons.replaceChildren();\n      var i = store.add(instantiationService.createInstance(MenuWorkbenchToolBar, _this3._elements.buttons, _this3._menuId.read(reader), {\n        orientation: 1 /* ActionsOrientation.VERTICAL */,\n        hoverDelegate: hoverDelegate,\n        toolbarOptions: {\n          primaryGroup: function primaryGroup(g) {\n            return g.startsWith('primary');\n          }\n        },\n        overflowBehavior: {\n          maxItems: _this3._isSmall.read(reader) ? 1 : 3\n        },\n        hiddenItemStrategy: 0 /* HiddenItemStrategy.Ignore */,\n        actionRunner: new ActionRunnerWithContext(function () {\n          var item = _this3._item.get();\n          var mapping = item.mapping;\n          return {\n            mapping: mapping,\n            originalWithModifiedChanges: gutter.computeStagedValue(mapping),\n            originalUri: item.originalUri,\n            modifiedUri: item.modifiedUri\n          };\n        }),\n        menuOptions: {\n          shouldForwardArgs: true\n        }\n      }));\n      store.add(i.onDidChangeMenuItems(function () {\n        if (_this3._lastItemRange) {\n          _this3.layout(_this3._lastItemRange, _this3._lastViewRange);\n        }\n      }));\n    }));\n    return _this3;\n  }\n  _inherits(DiffToolBar, _Disposable2);\n  return _createClass(DiffToolBar, [{\n    key: \"layout\",\n    value: function layout(itemRange, viewRange) {\n      this._lastItemRange = itemRange;\n      this._lastViewRange = viewRange;\n      var itemHeight = this._elements.buttons.clientHeight;\n      this._isSmall.set(this._item.get().mapping.original.startLineNumber === 1 && itemRange.length < 30, undefined);\n      // Item might have changed\n      itemHeight = this._elements.buttons.clientHeight;\n      this._elements.root.style.top = itemRange.start + 'px';\n      this._elements.root.style.height = itemRange.length + 'px';\n      var middleHeight = itemRange.length / 2 - itemHeight / 2;\n      var margin = itemHeight;\n      var effectiveCheckboxTop = itemRange.start + middleHeight;\n      var preferredViewPortRange = OffsetRange.tryCreate(margin, viewRange.endExclusive - margin - itemHeight);\n      var preferredParentRange = OffsetRange.tryCreate(itemRange.start + margin, itemRange.endExclusive - itemHeight - margin);\n      if (preferredParentRange && preferredViewPortRange && preferredParentRange.start < preferredParentRange.endExclusive) {\n        effectiveCheckboxTop = preferredViewPortRange.clip(effectiveCheckboxTop);\n        effectiveCheckboxTop = preferredParentRange.clip(effectiveCheckboxTop);\n      }\n      this._elements.buttons.style.top = \"\".concat(effectiveCheckboxTop - itemRange.start, \"px\");\n    }\n  }]);\n}(Disposable);\nDiffToolBar = __decorate([__param(3, IInstantiationService)], DiffToolBar);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","EventType","addDisposableListener","h","Disposable","autorun","autorunWithStore","derived","observableFromEvent","observableValue","appendRemoveOnDispose","applyStyle","prependRemoveOnDispose","EditorGutter","ActionRunnerWithContext","LineRange","LineRangeSet","OffsetRange","Range","SingleTextEdit","TextEdit","DetailedLineRangeMapping","TextModelText","MenuWorkbenchToolBar","IMenuService","MenuId","IContextKeyService","WorkbenchHoverDelegate","IInstantiationService","emptyArr","width","DiffEditorGutter","_Disposable","diffEditorRoot","_diffModel","_editors","_instantiationService","_contextKeyService","_menuService","_this","_classCallCheck","_callSuper","_menu","_register","createMenu","DiffEditorHunkToolbar","_actions","onDidChange","getActions","_hasActions","map","a","reader","read","elements","style","position","height","_currentDiff","_a","model","undefined","mappings","diff","cursorPosition","modifiedCursor","find","m","lineRangeMapping","modified","contains","lineNumber","_selectedDiffs","selections","modifiedSelections","every","s","isEmpty","selectedLineNumbers","fromRangeInclusive","selectedMappings","filter","innerChanges","intersects","result","mapping","rangeMappings","some","areIntersecting","modifiedRange","root","focus","display","getIntersectingGutterItems","range","diffs","selection","fromRangeMappings","flatMap","DiffGutterItem","DiffEditorSelectionToolbar","original","uri","currentDiff","withInnerChangesFromLineRanges","createView","item","createInstance","DiffToolBar","gutter","MOUSE_WHEEL","e","getOption","handleMouseWheel","delegateScrollFromMouseWheelEvent","passive","_inherits","_createClass","value","computeStagedValue","_this2","edit","originalRange","modifiedModel","get","getValueInRange","apply","getModel","layout","left","showAlways","menuId","rangeOverride","originalUri","modifiedUri","toString","_Disposable2","_item","instantiationService","_this3","_elements","_showAlways","_menuId","_isSmall","_lastItemRange","_lastViewRange","hoverDelegate","hoverPosition","classList","toggle","setTimeout","store","buttons","replaceChildren","add","orientation","toolbarOptions","primaryGroup","g","startsWith","overflowBehavior","maxItems","hiddenItemStrategy","actionRunner","originalWithModifiedChanges","menuOptions","shouldForwardArgs","onDidChangeMenuItems","itemRange","viewRange","itemHeight","clientHeight","set","startLineNumber","top","start","middleHeight","margin","effectiveCheckboxTop","preferredViewPortRange","tryCreate","endExclusive","preferredParentRange","clip","concat"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditor/features/gutterFeature.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { EventType, addDisposableListener, h } from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, observableFromEvent, observableValue } from '../../../../../base/common/observable.js';\nimport { appendRemoveOnDispose, applyStyle, prependRemoveOnDispose } from '../utils.js';\nimport { EditorGutter } from '../utils/editorGutter.js';\nimport { ActionRunnerWithContext } from '../../multiDiffEditor/utils.js';\nimport { LineRange, LineRangeSet } from '../../../../common/core/lineRange.js';\nimport { OffsetRange } from '../../../../common/core/offsetRange.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { SingleTextEdit, TextEdit } from '../../../../common/core/textEdit.js';\nimport { DetailedLineRangeMapping } from '../../../../common/diff/rangeMapping.js';\nimport { TextModelText } from '../../../../common/model/textModelText.js';\nimport { MenuWorkbenchToolBar } from '../../../../../platform/actions/browser/toolbar.js';\nimport { IMenuService, MenuId } from '../../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { WorkbenchHoverDelegate } from '../../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nconst emptyArr = [];\nconst width = 35;\nlet DiffEditorGutter = class DiffEditorGutter extends Disposable {\n    constructor(diffEditorRoot, _diffModel, _editors, _instantiationService, _contextKeyService, _menuService) {\n        super();\n        this._diffModel = _diffModel;\n        this._editors = _editors;\n        this._instantiationService = _instantiationService;\n        this._contextKeyService = _contextKeyService;\n        this._menuService = _menuService;\n        this._menu = this._register(this._menuService.createMenu(MenuId.DiffEditorHunkToolbar, this._contextKeyService));\n        this._actions = observableFromEvent(this._menu.onDidChange, () => this._menu.getActions());\n        this._hasActions = this._actions.map(a => a.length > 0);\n        this.width = derived(this, reader => this._hasActions.read(reader) ? width : 0);\n        this.elements = h('div.gutter@gutter', { style: { position: 'absolute', height: '100%', width: width + 'px' } }, []);\n        this._currentDiff = derived(this, (reader) => {\n            var _a;\n            const model = this._diffModel.read(reader);\n            if (!model) {\n                return undefined;\n            }\n            const mappings = (_a = model.diff.read(reader)) === null || _a === void 0 ? void 0 : _a.mappings;\n            const cursorPosition = this._editors.modifiedCursor.read(reader);\n            if (!cursorPosition) {\n                return undefined;\n            }\n            return mappings === null || mappings === void 0 ? void 0 : mappings.find(m => m.lineRangeMapping.modified.contains(cursorPosition.lineNumber));\n        });\n        this._selectedDiffs = derived(this, (reader) => {\n            /** @description selectedDiffs */\n            const model = this._diffModel.read(reader);\n            const diff = model === null || model === void 0 ? void 0 : model.diff.read(reader);\n            // Return `emptyArr` because it is a constant. [] is always a new array and would trigger a change.\n            if (!diff) {\n                return emptyArr;\n            }\n            const selections = this._editors.modifiedSelections.read(reader);\n            if (selections.every(s => s.isEmpty())) {\n                return emptyArr;\n            }\n            const selectedLineNumbers = new LineRangeSet(selections.map(s => LineRange.fromRangeInclusive(s)));\n            const selectedMappings = diff.mappings.filter(m => m.lineRangeMapping.innerChanges && selectedLineNumbers.intersects(m.lineRangeMapping.modified));\n            const result = selectedMappings.map(mapping => ({\n                mapping,\n                rangeMappings: mapping.lineRangeMapping.innerChanges.filter(c => selections.some(s => Range.areIntersecting(c.modifiedRange, s)))\n            }));\n            if (result.length === 0 || result.every(r => r.rangeMappings.length === 0)) {\n                return emptyArr;\n            }\n            return result;\n        });\n        this._register(prependRemoveOnDispose(diffEditorRoot, this.elements.root));\n        this._register(addDisposableListener(this.elements.root, 'click', () => {\n            this._editors.modified.focus();\n        }));\n        this._register(applyStyle(this.elements.root, { display: this._hasActions.map(a => a ? 'block' : 'none') }));\n        this._register(new EditorGutter(this._editors.modified, this.elements.root, {\n            getIntersectingGutterItems: (range, reader) => {\n                const model = this._diffModel.read(reader);\n                if (!model) {\n                    return [];\n                }\n                const diffs = model.diff.read(reader);\n                if (!diffs) {\n                    return [];\n                }\n                const selection = this._selectedDiffs.read(reader);\n                if (selection.length > 0) {\n                    const m = DetailedLineRangeMapping.fromRangeMappings(selection.flatMap(s => s.rangeMappings));\n                    return [\n                        new DiffGutterItem(m, true, MenuId.DiffEditorSelectionToolbar, undefined, model.model.original.uri, model.model.modified.uri)\n                    ];\n                }\n                const currentDiff = this._currentDiff.read(reader);\n                return diffs.mappings.map(m => new DiffGutterItem(m.lineRangeMapping.withInnerChangesFromLineRanges(), m.lineRangeMapping === (currentDiff === null || currentDiff === void 0 ? void 0 : currentDiff.lineRangeMapping), MenuId.DiffEditorHunkToolbar, undefined, model.model.original.uri, model.model.modified.uri));\n            },\n            createView: (item, target) => {\n                return this._instantiationService.createInstance(DiffToolBar, item, target, this);\n            },\n        }));\n        this._register(addDisposableListener(this.elements.gutter, EventType.MOUSE_WHEEL, (e) => {\n            if (this._editors.modified.getOption(103 /* EditorOption.scrollbar */).handleMouseWheel) {\n                this._editors.modified.delegateScrollFromMouseWheelEvent(e);\n            }\n        }, { passive: false }));\n    }\n    computeStagedValue(mapping) {\n        var _a;\n        const c = (_a = mapping.innerChanges) !== null && _a !== void 0 ? _a : [];\n        const edit = new TextEdit(c.map(c => new SingleTextEdit(c.originalRange, this._editors.modifiedModel.get().getValueInRange(c.modifiedRange))));\n        const value = edit.apply(new TextModelText(this._editors.original.getModel()));\n        return value;\n    }\n    layout(left) {\n        this.elements.gutter.style.left = left + 'px';\n    }\n};\nDiffEditorGutter = __decorate([\n    __param(3, IInstantiationService),\n    __param(4, IContextKeyService),\n    __param(5, IMenuService)\n], DiffEditorGutter);\nexport { DiffEditorGutter };\nclass DiffGutterItem {\n    constructor(mapping, showAlways, menuId, rangeOverride, originalUri, modifiedUri) {\n        this.mapping = mapping;\n        this.showAlways = showAlways;\n        this.menuId = menuId;\n        this.rangeOverride = rangeOverride;\n        this.originalUri = originalUri;\n        this.modifiedUri = modifiedUri;\n    }\n    get id() { return this.mapping.modified.toString(); }\n    get range() { var _a; return (_a = this.rangeOverride) !== null && _a !== void 0 ? _a : this.mapping.modified; }\n}\nlet DiffToolBar = class DiffToolBar extends Disposable {\n    constructor(_item, target, gutter, instantiationService) {\n        super();\n        this._item = _item;\n        this._elements = h('div.gutterItem', { style: { height: '20px', width: '34px' } }, [\n            h('div.background@background', {}, []),\n            h('div.buttons@buttons', {}, []),\n        ]);\n        this._showAlways = this._item.map(this, item => item.showAlways);\n        this._menuId = this._item.map(this, item => item.menuId);\n        this._isSmall = observableValue(this, false);\n        this._lastItemRange = undefined;\n        this._lastViewRange = undefined;\n        const hoverDelegate = this._register(instantiationService.createInstance(WorkbenchHoverDelegate, 'element', true, { position: { hoverPosition: 1 /* HoverPosition.RIGHT */ } }));\n        this._register(appendRemoveOnDispose(target, this._elements.root));\n        this._register(autorun(reader => {\n            /** @description update showAlways */\n            const showAlways = this._showAlways.read(reader);\n            this._elements.root.classList.toggle('noTransition', true);\n            this._elements.root.classList.toggle('showAlways', showAlways);\n            setTimeout(() => {\n                this._elements.root.classList.toggle('noTransition', false);\n            }, 0);\n        }));\n        this._register(autorunWithStore((reader, store) => {\n            this._elements.buttons.replaceChildren();\n            const i = store.add(instantiationService.createInstance(MenuWorkbenchToolBar, this._elements.buttons, this._menuId.read(reader), {\n                orientation: 1 /* ActionsOrientation.VERTICAL */,\n                hoverDelegate,\n                toolbarOptions: {\n                    primaryGroup: g => g.startsWith('primary'),\n                },\n                overflowBehavior: { maxItems: this._isSmall.read(reader) ? 1 : 3 },\n                hiddenItemStrategy: 0 /* HiddenItemStrategy.Ignore */,\n                actionRunner: new ActionRunnerWithContext(() => {\n                    const item = this._item.get();\n                    const mapping = item.mapping;\n                    return {\n                        mapping,\n                        originalWithModifiedChanges: gutter.computeStagedValue(mapping),\n                        originalUri: item.originalUri,\n                        modifiedUri: item.modifiedUri,\n                    };\n                }),\n                menuOptions: {\n                    shouldForwardArgs: true,\n                },\n            }));\n            store.add(i.onDidChangeMenuItems(() => {\n                if (this._lastItemRange) {\n                    this.layout(this._lastItemRange, this._lastViewRange);\n                }\n            }));\n        }));\n    }\n    layout(itemRange, viewRange) {\n        this._lastItemRange = itemRange;\n        this._lastViewRange = viewRange;\n        let itemHeight = this._elements.buttons.clientHeight;\n        this._isSmall.set(this._item.get().mapping.original.startLineNumber === 1 && itemRange.length < 30, undefined);\n        // Item might have changed\n        itemHeight = this._elements.buttons.clientHeight;\n        this._elements.root.style.top = itemRange.start + 'px';\n        this._elements.root.style.height = itemRange.length + 'px';\n        const middleHeight = itemRange.length / 2 - itemHeight / 2;\n        const margin = itemHeight;\n        let effectiveCheckboxTop = itemRange.start + middleHeight;\n        const preferredViewPortRange = OffsetRange.tryCreate(margin, viewRange.endExclusive - margin - itemHeight);\n        const preferredParentRange = OffsetRange.tryCreate(itemRange.start + margin, itemRange.endExclusive - itemHeight - margin);\n        if (preferredParentRange && preferredViewPortRange && preferredParentRange.start < preferredParentRange.endExclusive) {\n            effectiveCheckboxTop = preferredViewPortRange.clip(effectiveCheckboxTop);\n            effectiveCheckboxTop = preferredParentRange.clip(effectiveCheckboxTop);\n        }\n        this._elements.buttons.style.top = `${effectiveCheckboxTop - itemRange.start}px`;\n    }\n};\nDiffToolBar = __decorate([\n    __param(3, IInstantiationService)\n], DiffToolBar);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}