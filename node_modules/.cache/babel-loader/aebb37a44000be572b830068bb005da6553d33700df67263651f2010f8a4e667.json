{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array-buffer.slice.js\";\nimport \"core-js/modules/es.data-view.js\";\nimport \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.typed-array.uint32-array.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.copy-within.js\";\nimport \"core-js/modules/es.typed-array.every.js\";\nimport \"core-js/modules/es.typed-array.fill.js\";\nimport \"core-js/modules/es.typed-array.filter.js\";\nimport \"core-js/modules/es.typed-array.find.js\";\nimport \"core-js/modules/es.typed-array.find-index.js\";\nimport \"core-js/modules/es.typed-array.find-last.js\";\nimport \"core-js/modules/es.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.typed-array.for-each.js\";\nimport \"core-js/modules/es.typed-array.includes.js\";\nimport \"core-js/modules/es.typed-array.index-of.js\";\nimport \"core-js/modules/es.typed-array.iterator.js\";\nimport \"core-js/modules/es.typed-array.join.js\";\nimport \"core-js/modules/es.typed-array.last-index-of.js\";\nimport \"core-js/modules/es.typed-array.map.js\";\nimport \"core-js/modules/es.typed-array.reduce.js\";\nimport \"core-js/modules/es.typed-array.reduce-right.js\";\nimport \"core-js/modules/es.typed-array.reverse.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/es.typed-array.slice.js\";\nimport \"core-js/modules/es.typed-array.some.js\";\nimport \"core-js/modules/es.typed-array.sort.js\";\nimport \"core-js/modules/es.typed-array.subarray.js\";\nimport \"core-js/modules/es.typed-array.to-locale-string.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.to-string.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ModelSemanticColoring_1;\nimport { Disposable, dispose as _dispose } from '../../../../base/common/lifecycle.js';\nimport * as errors from '../../../../base/common/errors.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { getDocumentSemanticTokens, hasDocumentSemanticTokensProvider, isSemanticTokens, isSemanticTokensEdits } from '../common/getSemanticTokens.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ISemanticTokensStylingService } from '../../../common/services/semanticTokensStyling.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { SEMANTIC_HIGHLIGHTING_SETTING_ID, isSemanticColoringEnabled } from '../common/semanticTokensConfig.js';\nvar DocumentSemanticTokensFeature = /*#__PURE__*/function (_Disposable) {\n  function DocumentSemanticTokensFeature(semanticTokensStylingService, modelService, themeService, configurationService, languageFeatureDebounceService, languageFeaturesService) {\n    var _this;\n    _classCallCheck(this, DocumentSemanticTokensFeature);\n    _this = _callSuper(this, DocumentSemanticTokensFeature);\n    _this._watchers = Object.create(null);\n    var register = function register(model) {\n      _this._watchers[model.uri.toString()] = new ModelSemanticColoring(model, semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService);\n    };\n    var deregister = function deregister(model, modelSemanticColoring) {\n      modelSemanticColoring.dispose();\n      delete _this._watchers[model.uri.toString()];\n    };\n    var handleSettingOrThemeChange = function handleSettingOrThemeChange() {\n      var _iterator = _createForOfIteratorHelper(modelService.getModels()),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var model = _step.value;\n          var curr = _this._watchers[model.uri.toString()];\n          if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n            if (!curr) {\n              register(model);\n            }\n          } else {\n            if (curr) {\n              deregister(model, curr);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n    modelService.getModels().forEach(function (model) {\n      if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n        register(model);\n      }\n    });\n    _this._register(modelService.onModelAdded(function (model) {\n      if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n        register(model);\n      }\n    }));\n    _this._register(modelService.onModelRemoved(function (model) {\n      var curr = _this._watchers[model.uri.toString()];\n      if (curr) {\n        deregister(model, curr);\n      }\n    }));\n    _this._register(configurationService.onDidChangeConfiguration(function (e) {\n      if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n        handleSettingOrThemeChange();\n      }\n    }));\n    _this._register(themeService.onDidColorThemeChange(handleSettingOrThemeChange));\n    return _this;\n  }\n  _inherits(DocumentSemanticTokensFeature, _Disposable);\n  return _createClass(DocumentSemanticTokensFeature, [{\n    key: \"dispose\",\n    value: function dispose() {\n      // Dispose all watchers\n      for (var _i = 0, _Object$values = Object.values(this._watchers); _i < _Object$values.length; _i++) {\n        var watcher = _Object$values[_i];\n        watcher.dispose();\n      }\n      _get(_getPrototypeOf(DocumentSemanticTokensFeature.prototype), \"dispose\", this).call(this);\n    }\n  }]);\n}(Disposable);\nDocumentSemanticTokensFeature = __decorate([__param(0, ISemanticTokensStylingService), __param(1, IModelService), __param(2, IThemeService), __param(3, IConfigurationService), __param(4, ILanguageFeatureDebounceService), __param(5, ILanguageFeaturesService)], DocumentSemanticTokensFeature);\nexport { DocumentSemanticTokensFeature };\nvar ModelSemanticColoring = ModelSemanticColoring_1 = /*#__PURE__*/function (_Disposable2) {\n  function ModelSemanticColoring(model, _semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService) {\n    var _this2;\n    _classCallCheck(this, ModelSemanticColoring);\n    _this2 = _callSuper(this, ModelSemanticColoring);\n    _this2._semanticTokensStylingService = _semanticTokensStylingService;\n    _this2._isDisposed = false;\n    _this2._model = model;\n    _this2._provider = languageFeaturesService.documentSemanticTokensProvider;\n    _this2._debounceInformation = languageFeatureDebounceService[\"for\"](_this2._provider, 'DocumentSemanticTokens', {\n      min: ModelSemanticColoring_1.REQUEST_MIN_DELAY,\n      max: ModelSemanticColoring_1.REQUEST_MAX_DELAY\n    });\n    _this2._fetchDocumentSemanticTokens = _this2._register(new RunOnceScheduler(function () {\n      return _this2._fetchDocumentSemanticTokensNow();\n    }, ModelSemanticColoring_1.REQUEST_MIN_DELAY));\n    _this2._currentDocumentResponse = null;\n    _this2._currentDocumentRequestCancellationTokenSource = null;\n    _this2._documentProvidersChangeListeners = [];\n    _this2._providersChangedDuringRequest = false;\n    _this2._register(_this2._model.onDidChangeContent(function () {\n      if (!_this2._fetchDocumentSemanticTokens.isScheduled()) {\n        _this2._fetchDocumentSemanticTokens.schedule(_this2._debounceInformation.get(_this2._model));\n      }\n    }));\n    _this2._register(_this2._model.onDidChangeAttached(function () {\n      if (!_this2._fetchDocumentSemanticTokens.isScheduled()) {\n        _this2._fetchDocumentSemanticTokens.schedule(_this2._debounceInformation.get(_this2._model));\n      }\n    }));\n    _this2._register(_this2._model.onDidChangeLanguage(function () {\n      // clear any outstanding state\n      if (_this2._currentDocumentResponse) {\n        _this2._currentDocumentResponse.dispose();\n        _this2._currentDocumentResponse = null;\n      }\n      if (_this2._currentDocumentRequestCancellationTokenSource) {\n        _this2._currentDocumentRequestCancellationTokenSource.cancel();\n        _this2._currentDocumentRequestCancellationTokenSource = null;\n      }\n      _this2._setDocumentSemanticTokens(null, null, null, []);\n      _this2._fetchDocumentSemanticTokens.schedule(0);\n    }));\n    var bindDocumentChangeListeners = function bindDocumentChangeListeners() {\n      _dispose(_this2._documentProvidersChangeListeners);\n      _this2._documentProvidersChangeListeners = [];\n      var _iterator2 = _createForOfIteratorHelper(_this2._provider.all(model)),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var provider = _step2.value;\n          if (typeof provider.onDidChange === 'function') {\n            _this2._documentProvidersChangeListeners.push(provider.onDidChange(function () {\n              if (_this2._currentDocumentRequestCancellationTokenSource) {\n                // there is already a request running,\n                _this2._providersChangedDuringRequest = true;\n                return;\n              }\n              _this2._fetchDocumentSemanticTokens.schedule(0);\n            }));\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n    bindDocumentChangeListeners();\n    _this2._register(_this2._provider.onDidChange(function () {\n      bindDocumentChangeListeners();\n      _this2._fetchDocumentSemanticTokens.schedule(_this2._debounceInformation.get(_this2._model));\n    }));\n    _this2._register(themeService.onDidColorThemeChange(function (_) {\n      // clear out existing tokens\n      _this2._setDocumentSemanticTokens(null, null, null, []);\n      _this2._fetchDocumentSemanticTokens.schedule(_this2._debounceInformation.get(_this2._model));\n    }));\n    _this2._fetchDocumentSemanticTokens.schedule(0);\n    return _this2;\n  }\n  _inherits(ModelSemanticColoring, _Disposable2);\n  return _createClass(ModelSemanticColoring, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._currentDocumentResponse) {\n        this._currentDocumentResponse.dispose();\n        this._currentDocumentResponse = null;\n      }\n      if (this._currentDocumentRequestCancellationTokenSource) {\n        this._currentDocumentRequestCancellationTokenSource.cancel();\n        this._currentDocumentRequestCancellationTokenSource = null;\n      }\n      _dispose(this._documentProvidersChangeListeners);\n      this._documentProvidersChangeListeners = [];\n      this._setDocumentSemanticTokens(null, null, null, []);\n      this._isDisposed = true;\n      _get(_getPrototypeOf(ModelSemanticColoring.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"_fetchDocumentSemanticTokensNow\",\n    value: function _fetchDocumentSemanticTokensNow() {\n      var _this3 = this;\n      if (this._currentDocumentRequestCancellationTokenSource) {\n        // there is already a request running, let it finish...\n        return;\n      }\n      if (!hasDocumentSemanticTokensProvider(this._provider, this._model)) {\n        // there is no provider\n        if (this._currentDocumentResponse) {\n          // there are semantic tokens set\n          this._model.tokenization.setSemanticTokens(null, false);\n        }\n        return;\n      }\n      if (!this._model.isAttachedToEditor()) {\n        // this document is not visible, there is no need to fetch semantic tokens for it\n        return;\n      }\n      var cancellationTokenSource = new CancellationTokenSource();\n      var lastProvider = this._currentDocumentResponse ? this._currentDocumentResponse.provider : null;\n      var lastResultId = this._currentDocumentResponse ? this._currentDocumentResponse.resultId || null : null;\n      var request = getDocumentSemanticTokens(this._provider, this._model, lastProvider, lastResultId, cancellationTokenSource.token);\n      this._currentDocumentRequestCancellationTokenSource = cancellationTokenSource;\n      this._providersChangedDuringRequest = false;\n      var pendingChanges = [];\n      var contentChangeListener = this._model.onDidChangeContent(function (e) {\n        pendingChanges.push(e);\n      });\n      var sw = new StopWatch(false);\n      request.then(function (res) {\n        _this3._debounceInformation.update(_this3._model, sw.elapsed());\n        _this3._currentDocumentRequestCancellationTokenSource = null;\n        contentChangeListener.dispose();\n        if (!res) {\n          _this3._setDocumentSemanticTokens(null, null, null, pendingChanges);\n        } else {\n          var provider = res.provider,\n            tokens = res.tokens;\n          var styling = _this3._semanticTokensStylingService.getStyling(provider);\n          _this3._setDocumentSemanticTokens(provider, tokens || null, styling, pendingChanges);\n        }\n      }, function (err) {\n        var isExpectedError = err && (errors.isCancellationError(err) || typeof err.message === 'string' && err.message.indexOf('busy') !== -1);\n        if (!isExpectedError) {\n          errors.onUnexpectedError(err);\n        }\n        // Semantic tokens eats up all errors and considers errors to mean that the result is temporarily not available\n        // The API does not have a special error kind to express this...\n        _this3._currentDocumentRequestCancellationTokenSource = null;\n        contentChangeListener.dispose();\n        if (pendingChanges.length > 0 || _this3._providersChangedDuringRequest) {\n          // More changes occurred while the request was running\n          if (!_this3._fetchDocumentSemanticTokens.isScheduled()) {\n            _this3._fetchDocumentSemanticTokens.schedule(_this3._debounceInformation.get(_this3._model));\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_setDocumentSemanticTokens\",\n    value: function _setDocumentSemanticTokens(provider, tokens, styling, pendingChanges) {\n      var _this4 = this;\n      var currentResponse = this._currentDocumentResponse;\n      var rescheduleIfNeeded = function rescheduleIfNeeded() {\n        if ((pendingChanges.length > 0 || _this4._providersChangedDuringRequest) && !_this4._fetchDocumentSemanticTokens.isScheduled()) {\n          _this4._fetchDocumentSemanticTokens.schedule(_this4._debounceInformation.get(_this4._model));\n        }\n      };\n      if (this._currentDocumentResponse) {\n        this._currentDocumentResponse.dispose();\n        this._currentDocumentResponse = null;\n      }\n      if (this._isDisposed) {\n        // disposed!\n        if (provider && tokens) {\n          provider.releaseDocumentSemanticTokens(tokens.resultId);\n        }\n        return;\n      }\n      if (!provider || !styling) {\n        this._model.tokenization.setSemanticTokens(null, false);\n        return;\n      }\n      if (!tokens) {\n        this._model.tokenization.setSemanticTokens(null, true);\n        rescheduleIfNeeded();\n        return;\n      }\n      if (isSemanticTokensEdits(tokens)) {\n        if (!currentResponse) {\n          // not possible!\n          this._model.tokenization.setSemanticTokens(null, true);\n          return;\n        }\n        if (tokens.edits.length === 0) {\n          // nothing to do!\n          tokens = {\n            resultId: tokens.resultId,\n            data: currentResponse.data\n          };\n        } else {\n          var deltaLength = 0;\n          var _iterator3 = _createForOfIteratorHelper(tokens.edits),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var _edit = _step3.value;\n              deltaLength += (_edit.data ? _edit.data.length : 0) - _edit.deleteCount;\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n          var srcData = currentResponse.data;\n          var destData = new Uint32Array(srcData.length + deltaLength);\n          var srcLastStart = srcData.length;\n          var destLastStart = destData.length;\n          for (var i = tokens.edits.length - 1; i >= 0; i--) {\n            var edit = tokens.edits[i];\n            if (edit.start > srcData.length) {\n              styling.warnInvalidEditStart(currentResponse.resultId, tokens.resultId, i, edit.start, srcData.length);\n              // The edits are invalid and there's no way to recover\n              this._model.tokenization.setSemanticTokens(null, true);\n              return;\n            }\n            var copyCount = srcLastStart - (edit.start + edit.deleteCount);\n            if (copyCount > 0) {\n              ModelSemanticColoring_1._copy(srcData, srcLastStart - copyCount, destData, destLastStart - copyCount, copyCount);\n              destLastStart -= copyCount;\n            }\n            if (edit.data) {\n              ModelSemanticColoring_1._copy(edit.data, 0, destData, destLastStart - edit.data.length, edit.data.length);\n              destLastStart -= edit.data.length;\n            }\n            srcLastStart = edit.start;\n          }\n          if (srcLastStart > 0) {\n            ModelSemanticColoring_1._copy(srcData, 0, destData, 0, srcLastStart);\n          }\n          tokens = {\n            resultId: tokens.resultId,\n            data: destData\n          };\n        }\n      }\n      if (isSemanticTokens(tokens)) {\n        this._currentDocumentResponse = new SemanticTokensResponse(provider, tokens.resultId, tokens.data);\n        var result = toMultilineTokens2(tokens, styling, this._model.getLanguageId());\n        // Adjust incoming semantic tokens\n        if (pendingChanges.length > 0) {\n          // More changes occurred while the request was running\n          // We need to:\n          // 1. Adjust incoming semantic tokens\n          // 2. Request them again\n          var _iterator4 = _createForOfIteratorHelper(pendingChanges),\n            _step4;\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var change = _step4.value;\n              var _iterator5 = _createForOfIteratorHelper(result),\n                _step5;\n              try {\n                for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                  var area = _step5.value;\n                  var _iterator6 = _createForOfIteratorHelper(change.changes),\n                    _step6;\n                  try {\n                    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                      var singleChange = _step6.value;\n                      area.applyEdit(singleChange.range, singleChange.text);\n                    }\n                  } catch (err) {\n                    _iterator6.e(err);\n                  } finally {\n                    _iterator6.f();\n                  }\n                }\n              } catch (err) {\n                _iterator5.e(err);\n              } finally {\n                _iterator5.f();\n              }\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n        }\n        this._model.tokenization.setSemanticTokens(result, true);\n      } else {\n        this._model.tokenization.setSemanticTokens(null, true);\n      }\n      rescheduleIfNeeded();\n    }\n  }], [{\n    key: \"_copy\",\n    value: function _copy(src, srcOffset, dest, destOffset, length) {\n      // protect against overflows\n      length = Math.min(length, dest.length - destOffset, src.length - srcOffset);\n      for (var i = 0; i < length; i++) {\n        dest[destOffset + i] = src[srcOffset + i];\n      }\n    }\n  }]);\n}(Disposable);\nModelSemanticColoring.REQUEST_MIN_DELAY = 300;\nModelSemanticColoring.REQUEST_MAX_DELAY = 2000;\nModelSemanticColoring = ModelSemanticColoring_1 = __decorate([__param(1, ISemanticTokensStylingService), __param(2, IThemeService), __param(3, ILanguageFeatureDebounceService), __param(4, ILanguageFeaturesService)], ModelSemanticColoring);\nvar SemanticTokensResponse = /*#__PURE__*/function () {\n  function SemanticTokensResponse(provider, resultId, data) {\n    _classCallCheck(this, SemanticTokensResponse);\n    this.provider = provider;\n    this.resultId = resultId;\n    this.data = data;\n  }\n  return _createClass(SemanticTokensResponse, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this.provider.releaseDocumentSemanticTokens(this.resultId);\n    }\n  }]);\n}();\nregisterEditorFeature(DocumentSemanticTokensFeature);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","ModelSemanticColoring_1","Disposable","dispose","errors","IModelService","IConfigurationService","RunOnceScheduler","CancellationTokenSource","IThemeService","toMultilineTokens2","getDocumentSemanticTokens","hasDocumentSemanticTokensProvider","isSemanticTokens","isSemanticTokensEdits","ILanguageFeatureDebounceService","StopWatch","ILanguageFeaturesService","ISemanticTokensStylingService","registerEditorFeature","SEMANTIC_HIGHLIGHTING_SETTING_ID","isSemanticColoringEnabled","DocumentSemanticTokensFeature","_Disposable","semanticTokensStylingService","modelService","themeService","configurationService","languageFeatureDebounceService","languageFeaturesService","_this","_classCallCheck","_callSuper","_watchers","create","register","model","uri","toString","ModelSemanticColoring","deregister","modelSemanticColoring","handleSettingOrThemeChange","_iterator","_createForOfIteratorHelper","getModels","_step","s","n","done","value","curr","err","e","f","forEach","_register","onModelAdded","onModelRemoved","onDidChangeConfiguration","affectsConfiguration","onDidColorThemeChange","_inherits","_createClass","_i","_Object$values","values","watcher","_get","_getPrototypeOf","prototype","call","_Disposable2","_semanticTokensStylingService","_this2","_isDisposed","_model","_provider","documentSemanticTokensProvider","_debounceInformation","min","REQUEST_MIN_DELAY","max","REQUEST_MAX_DELAY","_fetchDocumentSemanticTokens","_fetchDocumentSemanticTokensNow","_currentDocumentResponse","_currentDocumentRequestCancellationTokenSource","_documentProvidersChangeListeners","_providersChangedDuringRequest","onDidChangeContent","isScheduled","schedule","get","onDidChangeAttached","onDidChangeLanguage","cancel","_setDocumentSemanticTokens","bindDocumentChangeListeners","_iterator2","all","_step2","provider","onDidChange","push","_","_this3","tokenization","setSemanticTokens","isAttachedToEditor","cancellationTokenSource","lastProvider","lastResultId","resultId","request","token","pendingChanges","contentChangeListener","sw","then","res","update","elapsed","tokens","styling","getStyling","isExpectedError","isCancellationError","message","indexOf","onUnexpectedError","_this4","currentResponse","rescheduleIfNeeded","releaseDocumentSemanticTokens","edits","data","deltaLength","_iterator3","_step3","edit","deleteCount","srcData","destData","Uint32Array","srcLastStart","destLastStart","start","warnInvalidEditStart","copyCount","_copy","SemanticTokensResponse","result","getLanguageId","_iterator4","_step4","change","_iterator5","_step5","area","_iterator6","changes","_step6","singleChange","applyEdit","range","text","src","srcOffset","dest","destOffset","Math"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/semanticTokens/browser/documentSemanticTokens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ModelSemanticColoring_1;\nimport { Disposable, dispose } from '../../../../base/common/lifecycle.js';\nimport * as errors from '../../../../base/common/errors.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { getDocumentSemanticTokens, hasDocumentSemanticTokensProvider, isSemanticTokens, isSemanticTokensEdits } from '../common/getSemanticTokens.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ISemanticTokensStylingService } from '../../../common/services/semanticTokensStyling.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { SEMANTIC_HIGHLIGHTING_SETTING_ID, isSemanticColoringEnabled } from '../common/semanticTokensConfig.js';\nlet DocumentSemanticTokensFeature = class DocumentSemanticTokensFeature extends Disposable {\n    constructor(semanticTokensStylingService, modelService, themeService, configurationService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._watchers = Object.create(null);\n        const register = (model) => {\n            this._watchers[model.uri.toString()] = new ModelSemanticColoring(model, semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService);\n        };\n        const deregister = (model, modelSemanticColoring) => {\n            modelSemanticColoring.dispose();\n            delete this._watchers[model.uri.toString()];\n        };\n        const handleSettingOrThemeChange = () => {\n            for (const model of modelService.getModels()) {\n                const curr = this._watchers[model.uri.toString()];\n                if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                    if (!curr) {\n                        register(model);\n                    }\n                }\n                else {\n                    if (curr) {\n                        deregister(model, curr);\n                    }\n                }\n            }\n        };\n        modelService.getModels().forEach(model => {\n            if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                register(model);\n            }\n        });\n        this._register(modelService.onModelAdded((model) => {\n            if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                register(model);\n            }\n        }));\n        this._register(modelService.onModelRemoved((model) => {\n            const curr = this._watchers[model.uri.toString()];\n            if (curr) {\n                deregister(model, curr);\n            }\n        }));\n        this._register(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n                handleSettingOrThemeChange();\n            }\n        }));\n        this._register(themeService.onDidColorThemeChange(handleSettingOrThemeChange));\n    }\n    dispose() {\n        // Dispose all watchers\n        for (const watcher of Object.values(this._watchers)) {\n            watcher.dispose();\n        }\n        super.dispose();\n    }\n};\nDocumentSemanticTokensFeature = __decorate([\n    __param(0, ISemanticTokensStylingService),\n    __param(1, IModelService),\n    __param(2, IThemeService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeatureDebounceService),\n    __param(5, ILanguageFeaturesService)\n], DocumentSemanticTokensFeature);\nexport { DocumentSemanticTokensFeature };\nlet ModelSemanticColoring = ModelSemanticColoring_1 = class ModelSemanticColoring extends Disposable {\n    constructor(model, _semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._semanticTokensStylingService = _semanticTokensStylingService;\n        this._isDisposed = false;\n        this._model = model;\n        this._provider = languageFeaturesService.documentSemanticTokensProvider;\n        this._debounceInformation = languageFeatureDebounceService.for(this._provider, 'DocumentSemanticTokens', { min: ModelSemanticColoring_1.REQUEST_MIN_DELAY, max: ModelSemanticColoring_1.REQUEST_MAX_DELAY });\n        this._fetchDocumentSemanticTokens = this._register(new RunOnceScheduler(() => this._fetchDocumentSemanticTokensNow(), ModelSemanticColoring_1.REQUEST_MIN_DELAY));\n        this._currentDocumentResponse = null;\n        this._currentDocumentRequestCancellationTokenSource = null;\n        this._documentProvidersChangeListeners = [];\n        this._providersChangedDuringRequest = false;\n        this._register(this._model.onDidChangeContent(() => {\n            if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        }));\n        this._register(this._model.onDidChangeAttached(() => {\n            if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        }));\n        this._register(this._model.onDidChangeLanguage(() => {\n            // clear any outstanding state\n            if (this._currentDocumentResponse) {\n                this._currentDocumentResponse.dispose();\n                this._currentDocumentResponse = null;\n            }\n            if (this._currentDocumentRequestCancellationTokenSource) {\n                this._currentDocumentRequestCancellationTokenSource.cancel();\n                this._currentDocumentRequestCancellationTokenSource = null;\n            }\n            this._setDocumentSemanticTokens(null, null, null, []);\n            this._fetchDocumentSemanticTokens.schedule(0);\n        }));\n        const bindDocumentChangeListeners = () => {\n            dispose(this._documentProvidersChangeListeners);\n            this._documentProvidersChangeListeners = [];\n            for (const provider of this._provider.all(model)) {\n                if (typeof provider.onDidChange === 'function') {\n                    this._documentProvidersChangeListeners.push(provider.onDidChange(() => {\n                        if (this._currentDocumentRequestCancellationTokenSource) {\n                            // there is already a request running,\n                            this._providersChangedDuringRequest = true;\n                            return;\n                        }\n                        this._fetchDocumentSemanticTokens.schedule(0);\n                    }));\n                }\n            }\n        };\n        bindDocumentChangeListeners();\n        this._register(this._provider.onDidChange(() => {\n            bindDocumentChangeListeners();\n            this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n        }));\n        this._register(themeService.onDidColorThemeChange(_ => {\n            // clear out existing tokens\n            this._setDocumentSemanticTokens(null, null, null, []);\n            this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n        }));\n        this._fetchDocumentSemanticTokens.schedule(0);\n    }\n    dispose() {\n        if (this._currentDocumentResponse) {\n            this._currentDocumentResponse.dispose();\n            this._currentDocumentResponse = null;\n        }\n        if (this._currentDocumentRequestCancellationTokenSource) {\n            this._currentDocumentRequestCancellationTokenSource.cancel();\n            this._currentDocumentRequestCancellationTokenSource = null;\n        }\n        dispose(this._documentProvidersChangeListeners);\n        this._documentProvidersChangeListeners = [];\n        this._setDocumentSemanticTokens(null, null, null, []);\n        this._isDisposed = true;\n        super.dispose();\n    }\n    _fetchDocumentSemanticTokensNow() {\n        if (this._currentDocumentRequestCancellationTokenSource) {\n            // there is already a request running, let it finish...\n            return;\n        }\n        if (!hasDocumentSemanticTokensProvider(this._provider, this._model)) {\n            // there is no provider\n            if (this._currentDocumentResponse) {\n                // there are semantic tokens set\n                this._model.tokenization.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        if (!this._model.isAttachedToEditor()) {\n            // this document is not visible, there is no need to fetch semantic tokens for it\n            return;\n        }\n        const cancellationTokenSource = new CancellationTokenSource();\n        const lastProvider = this._currentDocumentResponse ? this._currentDocumentResponse.provider : null;\n        const lastResultId = this._currentDocumentResponse ? this._currentDocumentResponse.resultId || null : null;\n        const request = getDocumentSemanticTokens(this._provider, this._model, lastProvider, lastResultId, cancellationTokenSource.token);\n        this._currentDocumentRequestCancellationTokenSource = cancellationTokenSource;\n        this._providersChangedDuringRequest = false;\n        const pendingChanges = [];\n        const contentChangeListener = this._model.onDidChangeContent((e) => {\n            pendingChanges.push(e);\n        });\n        const sw = new StopWatch(false);\n        request.then((res) => {\n            this._debounceInformation.update(this._model, sw.elapsed());\n            this._currentDocumentRequestCancellationTokenSource = null;\n            contentChangeListener.dispose();\n            if (!res) {\n                this._setDocumentSemanticTokens(null, null, null, pendingChanges);\n            }\n            else {\n                const { provider, tokens } = res;\n                const styling = this._semanticTokensStylingService.getStyling(provider);\n                this._setDocumentSemanticTokens(provider, tokens || null, styling, pendingChanges);\n            }\n        }, (err) => {\n            const isExpectedError = err && (errors.isCancellationError(err) || (typeof err.message === 'string' && err.message.indexOf('busy') !== -1));\n            if (!isExpectedError) {\n                errors.onUnexpectedError(err);\n            }\n            // Semantic tokens eats up all errors and considers errors to mean that the result is temporarily not available\n            // The API does not have a special error kind to express this...\n            this._currentDocumentRequestCancellationTokenSource = null;\n            contentChangeListener.dispose();\n            if (pendingChanges.length > 0 || this._providersChangedDuringRequest) {\n                // More changes occurred while the request was running\n                if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                    this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n                }\n            }\n        });\n    }\n    static _copy(src, srcOffset, dest, destOffset, length) {\n        // protect against overflows\n        length = Math.min(length, dest.length - destOffset, src.length - srcOffset);\n        for (let i = 0; i < length; i++) {\n            dest[destOffset + i] = src[srcOffset + i];\n        }\n    }\n    _setDocumentSemanticTokens(provider, tokens, styling, pendingChanges) {\n        const currentResponse = this._currentDocumentResponse;\n        const rescheduleIfNeeded = () => {\n            if ((pendingChanges.length > 0 || this._providersChangedDuringRequest) && !this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        };\n        if (this._currentDocumentResponse) {\n            this._currentDocumentResponse.dispose();\n            this._currentDocumentResponse = null;\n        }\n        if (this._isDisposed) {\n            // disposed!\n            if (provider && tokens) {\n                provider.releaseDocumentSemanticTokens(tokens.resultId);\n            }\n            return;\n        }\n        if (!provider || !styling) {\n            this._model.tokenization.setSemanticTokens(null, false);\n            return;\n        }\n        if (!tokens) {\n            this._model.tokenization.setSemanticTokens(null, true);\n            rescheduleIfNeeded();\n            return;\n        }\n        if (isSemanticTokensEdits(tokens)) {\n            if (!currentResponse) {\n                // not possible!\n                this._model.tokenization.setSemanticTokens(null, true);\n                return;\n            }\n            if (tokens.edits.length === 0) {\n                // nothing to do!\n                tokens = {\n                    resultId: tokens.resultId,\n                    data: currentResponse.data\n                };\n            }\n            else {\n                let deltaLength = 0;\n                for (const edit of tokens.edits) {\n                    deltaLength += (edit.data ? edit.data.length : 0) - edit.deleteCount;\n                }\n                const srcData = currentResponse.data;\n                const destData = new Uint32Array(srcData.length + deltaLength);\n                let srcLastStart = srcData.length;\n                let destLastStart = destData.length;\n                for (let i = tokens.edits.length - 1; i >= 0; i--) {\n                    const edit = tokens.edits[i];\n                    if (edit.start > srcData.length) {\n                        styling.warnInvalidEditStart(currentResponse.resultId, tokens.resultId, i, edit.start, srcData.length);\n                        // The edits are invalid and there's no way to recover\n                        this._model.tokenization.setSemanticTokens(null, true);\n                        return;\n                    }\n                    const copyCount = srcLastStart - (edit.start + edit.deleteCount);\n                    if (copyCount > 0) {\n                        ModelSemanticColoring_1._copy(srcData, srcLastStart - copyCount, destData, destLastStart - copyCount, copyCount);\n                        destLastStart -= copyCount;\n                    }\n                    if (edit.data) {\n                        ModelSemanticColoring_1._copy(edit.data, 0, destData, destLastStart - edit.data.length, edit.data.length);\n                        destLastStart -= edit.data.length;\n                    }\n                    srcLastStart = edit.start;\n                }\n                if (srcLastStart > 0) {\n                    ModelSemanticColoring_1._copy(srcData, 0, destData, 0, srcLastStart);\n                }\n                tokens = {\n                    resultId: tokens.resultId,\n                    data: destData\n                };\n            }\n        }\n        if (isSemanticTokens(tokens)) {\n            this._currentDocumentResponse = new SemanticTokensResponse(provider, tokens.resultId, tokens.data);\n            const result = toMultilineTokens2(tokens, styling, this._model.getLanguageId());\n            // Adjust incoming semantic tokens\n            if (pendingChanges.length > 0) {\n                // More changes occurred while the request was running\n                // We need to:\n                // 1. Adjust incoming semantic tokens\n                // 2. Request them again\n                for (const change of pendingChanges) {\n                    for (const area of result) {\n                        for (const singleChange of change.changes) {\n                            area.applyEdit(singleChange.range, singleChange.text);\n                        }\n                    }\n                }\n            }\n            this._model.tokenization.setSemanticTokens(result, true);\n        }\n        else {\n            this._model.tokenization.setSemanticTokens(null, true);\n        }\n        rescheduleIfNeeded();\n    }\n};\nModelSemanticColoring.REQUEST_MIN_DELAY = 300;\nModelSemanticColoring.REQUEST_MAX_DELAY = 2000;\nModelSemanticColoring = ModelSemanticColoring_1 = __decorate([\n    __param(1, ISemanticTokensStylingService),\n    __param(2, IThemeService),\n    __param(3, ILanguageFeatureDebounceService),\n    __param(4, ILanguageFeaturesService)\n], ModelSemanticColoring);\nclass SemanticTokensResponse {\n    constructor(provider, resultId, data) {\n        this.provider = provider;\n        this.resultId = resultId;\n        this.data = data;\n    }\n    dispose() {\n        this.provider.releaseDocumentSemanticTokens(this.resultId);\n    }\n}\nregisterEditorFeature(DocumentSemanticTokensFeature);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}