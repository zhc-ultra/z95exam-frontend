{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { autorun } from './autorun.js';\nexport function waitForState(observable, predicate, isError) {\n  return new Promise(function (resolve, reject) {\n    var isImmediateRun = true;\n    var shouldDispose = false;\n    var stateObs = observable.map(function (state) {\n      /** @description waitForState.state */\n      return {\n        isFinished: predicate(state),\n        error: isError ? isError(state) : false,\n        state: state\n      };\n    });\n    var d = autorun(function (reader) {\n      /** @description waitForState */\n      var _stateObs$read = stateObs.read(reader),\n        isFinished = _stateObs$read.isFinished,\n        error = _stateObs$read.error,\n        state = _stateObs$read.state;\n      if (isFinished || error) {\n        if (isImmediateRun) {\n          // The variable `d` is not initialized yet\n          shouldDispose = true;\n        } else {\n          d.dispose();\n        }\n        if (error) {\n          reject(error === true ? state : error);\n        } else {\n          resolve(state);\n        }\n      }\n    });\n    isImmediateRun = false;\n    if (shouldDispose) {\n      d.dispose();\n    }\n  });\n}","map":{"version":3,"names":["autorun","waitForState","observable","predicate","isError","Promise","resolve","reject","isImmediateRun","shouldDispose","stateObs","map","state","isFinished","error","d","reader","_stateObs$read","read","dispose"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/base/common/observableInternal/promise.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { autorun } from './autorun.js';\nexport function waitForState(observable, predicate, isError) {\n    return new Promise((resolve, reject) => {\n        let isImmediateRun = true;\n        let shouldDispose = false;\n        const stateObs = observable.map(state => {\n            /** @description waitForState.state */\n            return {\n                isFinished: predicate(state),\n                error: isError ? isError(state) : false,\n                state\n            };\n        });\n        const d = autorun(reader => {\n            /** @description waitForState */\n            const { isFinished, error, state } = stateObs.read(reader);\n            if (isFinished || error) {\n                if (isImmediateRun) {\n                    // The variable `d` is not initialized yet\n                    shouldDispose = true;\n                }\n                else {\n                    d.dispose();\n                }\n                if (error) {\n                    reject(error === true ? state : error);\n                }\n                else {\n                    resolve(state);\n                }\n            }\n        });\n        isImmediateRun = false;\n        if (shouldDispose) {\n            d.dispose();\n        }\n    });\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAASA,OAAO,QAAQ,cAAc;AACtC,OAAO,SAASC,YAAYA,CAACC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAE;EACzD,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;IACpC,IAAIC,cAAc,GAAG,IAAI;IACzB,IAAIC,aAAa,GAAG,KAAK;IACzB,IAAMC,QAAQ,GAAGR,UAAU,CAACS,GAAG,CAAC,UAAAC,KAAK,EAAI;MACrC;MACA,OAAO;QACHC,UAAU,EAAEV,SAAS,CAACS,KAAK,CAAC;QAC5BE,KAAK,EAAEV,OAAO,GAAGA,OAAO,CAACQ,KAAK,CAAC,GAAG,KAAK;QACvCA,KAAK,EAALA;MACJ,CAAC;IACL,CAAC,CAAC;IACF,IAAMG,CAAC,GAAGf,OAAO,CAAC,UAAAgB,MAAM,EAAI;MACxB;MACA,IAAAC,cAAA,GAAqCP,QAAQ,CAACQ,IAAI,CAACF,MAAM,CAAC;QAAlDH,UAAU,GAAAI,cAAA,CAAVJ,UAAU;QAAEC,KAAK,GAAAG,cAAA,CAALH,KAAK;QAAEF,KAAK,GAAAK,cAAA,CAALL,KAAK;MAChC,IAAIC,UAAU,IAAIC,KAAK,EAAE;QACrB,IAAIN,cAAc,EAAE;UAChB;UACAC,aAAa,GAAG,IAAI;QACxB,CAAC,MACI;UACDM,CAAC,CAACI,OAAO,CAAC,CAAC;QACf;QACA,IAAIL,KAAK,EAAE;UACPP,MAAM,CAACO,KAAK,KAAK,IAAI,GAAGF,KAAK,GAAGE,KAAK,CAAC;QAC1C,CAAC,MACI;UACDR,OAAO,CAACM,KAAK,CAAC;QAClB;MACJ;IACJ,CAAC,CAAC;IACFJ,cAAc,GAAG,KAAK;IACtB,IAAIC,aAAa,EAAE;MACfM,CAAC,CAACI,OAAO,CAAC,CAAC;IACf;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}