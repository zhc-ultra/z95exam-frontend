{"ast":null,"code":"import _toConsumableArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './indentGuides.css';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketPairGuideActiveBackground1, editorBracketPairGuideActiveBackground2, editorBracketPairGuideActiveBackground3, editorBracketPairGuideActiveBackground4, editorBracketPairGuideActiveBackground5, editorBracketPairGuideActiveBackground6, editorBracketPairGuideBackground1, editorBracketPairGuideBackground2, editorBracketPairGuideBackground3, editorBracketPairGuideBackground4, editorBracketPairGuideBackground5, editorBracketPairGuideBackground6, editorIndentGuide1, editorIndentGuide2, editorIndentGuide3, editorIndentGuide4, editorIndentGuide5, editorIndentGuide6, editorActiveIndentGuide1, editorActiveIndentGuide2, editorActiveIndentGuide3, editorActiveIndentGuide4, editorActiveIndentGuide5, editorActiveIndentGuide6 } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ArrayQueue } from '../../../../base/common/arrays.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { BracketPairGuidesClassNames } from '../../../common/model/guidesTextModelPart.js';\nimport { IndentGuide, HorizontalGuidesState } from '../../../common/textModelGuides.js';\nexport var IndentGuidesOverlay = /*#__PURE__*/function (_DynamicViewOverlay) {\n  function IndentGuidesOverlay(context) {\n    var _this;\n    _classCallCheck(this, IndentGuidesOverlay);\n    _this = _callSuper(this, IndentGuidesOverlay);\n    _this._context = context;\n    _this._primaryPosition = null;\n    var options = _this._context.configuration.options;\n    var wrappingInfo = options.get(146 /* EditorOption.wrappingInfo */);\n    var fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    _this._spaceWidth = fontInfo.spaceWidth;\n    _this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;\n    _this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n    _this._renderResult = null;\n    _this._context.addEventHandler(_this);\n    return _this;\n  }\n  _inherits(IndentGuidesOverlay, _DynamicViewOverlay);\n  return _createClass(IndentGuidesOverlay, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._context.removeEventHandler(this);\n      this._renderResult = null;\n      _get(_getPrototypeOf(IndentGuidesOverlay.prototype), \"dispose\", this).call(this);\n    }\n    // --- begin event handlers\n  }, {\n    key: \"onConfigurationChanged\",\n    value: function onConfigurationChanged(e) {\n      var options = this._context.configuration.options;\n      var wrappingInfo = options.get(146 /* EditorOption.wrappingInfo */);\n      var fontInfo = options.get(50 /* EditorOption.fontInfo */);\n      this._spaceWidth = fontInfo.spaceWidth;\n      this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;\n      this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n      return true;\n    }\n  }, {\n    key: \"onCursorStateChanged\",\n    value: function onCursorStateChanged(e) {\n      var _a;\n      var selection = e.selections[0];\n      var newPosition = selection.getPosition();\n      if (!((_a = this._primaryPosition) === null || _a === void 0 ? void 0 : _a.equals(newPosition))) {\n        this._primaryPosition = newPosition;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"onDecorationsChanged\",\n    value: function onDecorationsChanged(e) {\n      // true for inline decorations\n      return true;\n    }\n  }, {\n    key: \"onFlushed\",\n    value: function onFlushed(e) {\n      return true;\n    }\n  }, {\n    key: \"onLinesChanged\",\n    value: function onLinesChanged(e) {\n      return true;\n    }\n  }, {\n    key: \"onLinesDeleted\",\n    value: function onLinesDeleted(e) {\n      return true;\n    }\n  }, {\n    key: \"onLinesInserted\",\n    value: function onLinesInserted(e) {\n      return true;\n    }\n  }, {\n    key: \"onScrollChanged\",\n    value: function onScrollChanged(e) {\n      return e.scrollTopChanged; // || e.scrollWidthChanged;\n    }\n  }, {\n    key: \"onZonesChanged\",\n    value: function onZonesChanged(e) {\n      return true;\n    }\n  }, {\n    key: \"onLanguageConfigurationChanged\",\n    value: function onLanguageConfigurationChanged(e) {\n      return true;\n    }\n    // --- end event handlers\n  }, {\n    key: \"prepareRender\",\n    value: function prepareRender(ctx) {\n      var _a, _b, _c, _d;\n      if (!this._bracketPairGuideOptions.indentation && this._bracketPairGuideOptions.bracketPairs === false) {\n        this._renderResult = null;\n        return;\n      }\n      var visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n      var visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n      var scrollWidth = ctx.scrollWidth;\n      var activeCursorPosition = this._primaryPosition;\n      var indents = this.getGuidesByLine(visibleStartLineNumber, Math.min(visibleEndLineNumber + 1, this._context.viewModel.getLineCount()), activeCursorPosition);\n      var output = [];\n      for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n        var lineIndex = lineNumber - visibleStartLineNumber;\n        var indent = indents[lineIndex];\n        var result = '';\n        var leftOffset = (_b = (_a = ctx.visibleRangeForPosition(new Position(lineNumber, 1))) === null || _a === void 0 ? void 0 : _a.left) !== null && _b !== void 0 ? _b : 0;\n        var _iterator = _createForOfIteratorHelper(indent),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var guide = _step.value;\n            var left = guide.column === -1 ? leftOffset + (guide.visibleColumn - 1) * this._spaceWidth : ctx.visibleRangeForPosition(new Position(lineNumber, guide.column)).left;\n            if (left > scrollWidth || this._maxIndentLeft > 0 && left > this._maxIndentLeft) {\n              break;\n            }\n            var className = guide.horizontalLine ? guide.horizontalLine.top ? 'horizontal-top' : 'horizontal-bottom' : 'vertical';\n            var width = guide.horizontalLine ? ((_d = (_c = ctx.visibleRangeForPosition(new Position(lineNumber, guide.horizontalLine.endColumn))) === null || _c === void 0 ? void 0 : _c.left) !== null && _d !== void 0 ? _d : left + this._spaceWidth) - left : this._spaceWidth;\n            result += \"<div class=\\\"core-guide \".concat(guide.className, \" \").concat(className, \"\\\" style=\\\"left:\").concat(left, \"px;width:\").concat(width, \"px\\\"></div>\");\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        output[lineIndex] = result;\n      }\n      this._renderResult = output;\n    }\n  }, {\n    key: \"getGuidesByLine\",\n    value: function getGuidesByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition) {\n      var _this2 = this;\n      var bracketGuides = this._bracketPairGuideOptions.bracketPairs !== false ? this._context.viewModel.getBracketGuidesInRangeByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition, {\n        highlightActive: this._bracketPairGuideOptions.highlightActiveBracketPair,\n        horizontalGuides: this._bracketPairGuideOptions.bracketPairsHorizontal === true ? HorizontalGuidesState.Enabled : this._bracketPairGuideOptions.bracketPairsHorizontal === 'active' ? HorizontalGuidesState.EnabledForActive : HorizontalGuidesState.Disabled,\n        includeInactive: this._bracketPairGuideOptions.bracketPairs === true\n      }) : null;\n      var indentGuides = this._bracketPairGuideOptions.indentation ? this._context.viewModel.getLinesIndentGuides(visibleStartLineNumber, visibleEndLineNumber) : null;\n      var activeIndentStartLineNumber = 0;\n      var activeIndentEndLineNumber = 0;\n      var activeIndentLevel = 0;\n      if (this._bracketPairGuideOptions.highlightActiveIndentation !== false && activeCursorPosition) {\n        var activeIndentInfo = this._context.viewModel.getActiveIndentGuide(activeCursorPosition.lineNumber, visibleStartLineNumber, visibleEndLineNumber);\n        activeIndentStartLineNumber = activeIndentInfo.startLineNumber;\n        activeIndentEndLineNumber = activeIndentInfo.endLineNumber;\n        activeIndentLevel = activeIndentInfo.indent;\n      }\n      var _this$_context$viewMo = this._context.viewModel.model.getOptions(),\n        indentSize = _this$_context$viewMo.indentSize;\n      var result = [];\n      for (var lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n        var lineGuides = new Array();\n        result.push(lineGuides);\n        var bracketGuidesInLine = bracketGuides ? bracketGuides[lineNumber - visibleStartLineNumber] : [];\n        var bracketGuidesInLineQueue = new ArrayQueue(bracketGuidesInLine);\n        var indentGuidesInLine = indentGuides ? indentGuides[lineNumber - visibleStartLineNumber] : 0;\n        var _loop = function _loop() {\n          var indentGuide = (indentLvl - 1) * indentSize + 1;\n          var isActive =\n          // Disable active indent guide if there are bracket guides.\n          (_this2._bracketPairGuideOptions.highlightActiveIndentation === 'always' || bracketGuidesInLine.length === 0) && activeIndentStartLineNumber <= lineNumber && lineNumber <= activeIndentEndLineNumber && indentLvl === activeIndentLevel;\n          lineGuides.push.apply(lineGuides, _toConsumableArray(bracketGuidesInLineQueue.takeWhile(function (g) {\n            return g.visibleColumn < indentGuide;\n          }) || []));\n          var peeked = bracketGuidesInLineQueue.peek();\n          if (!peeked || peeked.visibleColumn !== indentGuide || peeked.horizontalLine) {\n            lineGuides.push(new IndentGuide(indentGuide, -1, \"core-guide-indent lvl-\".concat((indentLvl - 1) % 30) + (isActive ? ' indent-active' : ''), null, -1, -1));\n          }\n        };\n        for (var indentLvl = 1; indentLvl <= indentGuidesInLine; indentLvl++) {\n          _loop();\n        }\n        lineGuides.push.apply(lineGuides, _toConsumableArray(bracketGuidesInLineQueue.takeWhile(function (g) {\n          return true;\n        }) || []));\n      }\n      return result;\n    }\n  }, {\n    key: \"render\",\n    value: function render(startLineNumber, lineNumber) {\n      if (!this._renderResult) {\n        return '';\n      }\n      var lineIndex = lineNumber - startLineNumber;\n      if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n        return '';\n      }\n      return this._renderResult[lineIndex];\n    }\n  }]);\n}(DynamicViewOverlay);\nfunction transparentToUndefined(color) {\n  if (color && color.isTransparent()) {\n    return undefined;\n  }\n  return color;\n}\nregisterThemingParticipant(function (theme, collector) {\n  var colors = [{\n    bracketColor: editorBracketHighlightingForeground1,\n    guideColor: editorBracketPairGuideBackground1,\n    guideColorActive: editorBracketPairGuideActiveBackground1\n  }, {\n    bracketColor: editorBracketHighlightingForeground2,\n    guideColor: editorBracketPairGuideBackground2,\n    guideColorActive: editorBracketPairGuideActiveBackground2\n  }, {\n    bracketColor: editorBracketHighlightingForeground3,\n    guideColor: editorBracketPairGuideBackground3,\n    guideColorActive: editorBracketPairGuideActiveBackground3\n  }, {\n    bracketColor: editorBracketHighlightingForeground4,\n    guideColor: editorBracketPairGuideBackground4,\n    guideColorActive: editorBracketPairGuideActiveBackground4\n  }, {\n    bracketColor: editorBracketHighlightingForeground5,\n    guideColor: editorBracketPairGuideBackground5,\n    guideColorActive: editorBracketPairGuideActiveBackground5\n  }, {\n    bracketColor: editorBracketHighlightingForeground6,\n    guideColor: editorBracketPairGuideBackground6,\n    guideColorActive: editorBracketPairGuideActiveBackground6\n  }];\n  var colorProvider = new BracketPairGuidesClassNames();\n  var indentColors = [{\n    indentColor: editorIndentGuide1,\n    indentColorActive: editorActiveIndentGuide1\n  }, {\n    indentColor: editorIndentGuide2,\n    indentColorActive: editorActiveIndentGuide2\n  }, {\n    indentColor: editorIndentGuide3,\n    indentColorActive: editorActiveIndentGuide3\n  }, {\n    indentColor: editorIndentGuide4,\n    indentColorActive: editorActiveIndentGuide4\n  }, {\n    indentColor: editorIndentGuide5,\n    indentColorActive: editorActiveIndentGuide5\n  }, {\n    indentColor: editorIndentGuide6,\n    indentColorActive: editorActiveIndentGuide6\n  }];\n  var colorValues = colors.map(function (c) {\n    var _a, _b;\n    var bracketColor = theme.getColor(c.bracketColor);\n    var guideColor = theme.getColor(c.guideColor);\n    var guideColorActive = theme.getColor(c.guideColorActive);\n    var effectiveGuideColor = transparentToUndefined((_a = transparentToUndefined(guideColor)) !== null && _a !== void 0 ? _a : bracketColor === null || bracketColor === void 0 ? void 0 : bracketColor.transparent(0.3));\n    var effectiveGuideColorActive = transparentToUndefined((_b = transparentToUndefined(guideColorActive)) !== null && _b !== void 0 ? _b : bracketColor);\n    if (!effectiveGuideColor || !effectiveGuideColorActive) {\n      return undefined;\n    }\n    return {\n      guideColor: effectiveGuideColor,\n      guideColorActive: effectiveGuideColorActive\n    };\n  }).filter(isDefined);\n  var indentColorValues = indentColors.map(function (c) {\n    var indentColor = theme.getColor(c.indentColor);\n    var indentColorActive = theme.getColor(c.indentColorActive);\n    var effectiveIndentColor = transparentToUndefined(indentColor);\n    var effectiveIndentColorActive = transparentToUndefined(indentColorActive);\n    if (!effectiveIndentColor || !effectiveIndentColorActive) {\n      return undefined;\n    }\n    return {\n      indentColor: effectiveIndentColor,\n      indentColorActive: effectiveIndentColorActive\n    };\n  }).filter(isDefined);\n  if (colorValues.length > 0) {\n    for (var level = 0; level < 30; level++) {\n      var _colors = colorValues[level % colorValues.length];\n      collector.addRule(\".monaco-editor .\".concat(colorProvider.getInlineClassNameOfLevel(level).replace(/ /g, '.'), \" { --guide-color: \").concat(_colors.guideColor, \"; --guide-color-active: \").concat(_colors.guideColorActive, \"; }\"));\n    }\n    collector.addRule(\".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }\");\n    collector.addRule(\".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }\");\n    collector.addRule(\".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }\");\n    collector.addRule(\".monaco-editor .vertical.\".concat(colorProvider.activeClassName, \" { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }\"));\n    collector.addRule(\".monaco-editor .horizontal-top.\".concat(colorProvider.activeClassName, \" { border-top: 1px solid var(--guide-color-active); }\"));\n    collector.addRule(\".monaco-editor .horizontal-bottom.\".concat(colorProvider.activeClassName, \" { border-bottom: 1px solid var(--guide-color-active); }\"));\n  }\n  if (indentColorValues.length > 0) {\n    for (var _level = 0; _level < 30; _level++) {\n      var _colors2 = indentColorValues[_level % indentColorValues.length];\n      collector.addRule(\".monaco-editor .lines-content .core-guide-indent.lvl-\".concat(_level, \" { --indent-color: \").concat(_colors2.indentColor, \"; --indent-color-active: \").concat(_colors2.indentColorActive, \"; }\"));\n    }\n    collector.addRule(\".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }\");\n    collector.addRule(\".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }\");\n  }\n});","map":{"version":3,"names":["DynamicViewOverlay","editorBracketHighlightingForeground1","editorBracketHighlightingForeground2","editorBracketHighlightingForeground3","editorBracketHighlightingForeground4","editorBracketHighlightingForeground5","editorBracketHighlightingForeground6","editorBracketPairGuideActiveBackground1","editorBracketPairGuideActiveBackground2","editorBracketPairGuideActiveBackground3","editorBracketPairGuideActiveBackground4","editorBracketPairGuideActiveBackground5","editorBracketPairGuideActiveBackground6","editorBracketPairGuideBackground1","editorBracketPairGuideBackground2","editorBracketPairGuideBackground3","editorBracketPairGuideBackground4","editorBracketPairGuideBackground5","editorBracketPairGuideBackground6","editorIndentGuide1","editorIndentGuide2","editorIndentGuide3","editorIndentGuide4","editorIndentGuide5","editorIndentGuide6","editorActiveIndentGuide1","editorActiveIndentGuide2","editorActiveIndentGuide3","editorActiveIndentGuide4","editorActiveIndentGuide5","editorActiveIndentGuide6","registerThemingParticipant","Position","ArrayQueue","isDefined","BracketPairGuidesClassNames","IndentGuide","HorizontalGuidesState","IndentGuidesOverlay","_DynamicViewOverlay","context","_this","_classCallCheck","_callSuper","_context","_primaryPosition","options","configuration","wrappingInfo","get","fontInfo","_spaceWidth","spaceWidth","_maxIndentLeft","wrappingColumn","typicalHalfwidthCharacterWidth","_bracketPairGuideOptions","_renderResult","addEventHandler","_inherits","_createClass","key","value","dispose","removeEventHandler","_get","_getPrototypeOf","prototype","call","onConfigurationChanged","e","onCursorStateChanged","_a","selection","selections","newPosition","getPosition","equals","onDecorationsChanged","onFlushed","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","scrollTopChanged","onZonesChanged","onLanguageConfigurationChanged","prepareRender","ctx","_b","_c","_d","indentation","bracketPairs","visibleStartLineNumber","visibleRange","startLineNumber","visibleEndLineNumber","endLineNumber","scrollWidth","activeCursorPosition","indents","getGuidesByLine","Math","min","viewModel","getLineCount","output","lineNumber","lineIndex","indent","result","leftOffset","visibleRangeForPosition","left","_iterator","_createForOfIteratorHelper","_step","s","n","done","guide","column","visibleColumn","className","horizontalLine","top","width","endColumn","concat","err","f","_this2","bracketGuides","getBracketGuidesInRangeByLine","highlightActive","highlightActiveBracketPair","horizontalGuides","bracketPairsHorizontal","Enabled","EnabledForActive","Disabled","includeInactive","indentGuides","getLinesIndentGuides","activeIndentStartLineNumber","activeIndentEndLineNumber","activeIndentLevel","highlightActiveIndentation","activeIndentInfo","getActiveIndentGuide","_this$_context$viewMo","model","getOptions","indentSize","lineGuides","Array","push","bracketGuidesInLine","bracketGuidesInLineQueue","indentGuidesInLine","_loop","indentGuide","indentLvl","isActive","length","apply","_toConsumableArray","takeWhile","g","peeked","peek","render","transparentToUndefined","color","isTransparent","undefined","theme","collector","colors","bracketColor","guideColor","guideColorActive","colorProvider","indentColors","indentColor","indentColorActive","colorValues","map","c","getColor","effectiveGuideColor","transparent","effectiveGuideColorActive","filter","indentColorValues","effectiveIndentColor","effectiveIndentColorActive","level","addRule","getInlineClassNameOfLevel","replace","activeClassName"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/browser/viewParts/indentGuides/indentGuides.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './indentGuides.css';\nimport { DynamicViewOverlay } from '../../view/dynamicViewOverlay.js';\nimport { editorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketPairGuideActiveBackground1, editorBracketPairGuideActiveBackground2, editorBracketPairGuideActiveBackground3, editorBracketPairGuideActiveBackground4, editorBracketPairGuideActiveBackground5, editorBracketPairGuideActiveBackground6, editorBracketPairGuideBackground1, editorBracketPairGuideBackground2, editorBracketPairGuideBackground3, editorBracketPairGuideBackground4, editorBracketPairGuideBackground5, editorBracketPairGuideBackground6, editorIndentGuide1, editorIndentGuide2, editorIndentGuide3, editorIndentGuide4, editorIndentGuide5, editorIndentGuide6, editorActiveIndentGuide1, editorActiveIndentGuide2, editorActiveIndentGuide3, editorActiveIndentGuide4, editorActiveIndentGuide5, editorActiveIndentGuide6 } from '../../../common/core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ArrayQueue } from '../../../../base/common/arrays.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { BracketPairGuidesClassNames } from '../../../common/model/guidesTextModelPart.js';\nimport { IndentGuide, HorizontalGuidesState } from '../../../common/textModelGuides.js';\nexport class IndentGuidesOverlay extends DynamicViewOverlay {\n    constructor(context) {\n        super();\n        this._context = context;\n        this._primaryPosition = null;\n        const options = this._context.configuration.options;\n        const wrappingInfo = options.get(146 /* EditorOption.wrappingInfo */);\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        this._spaceWidth = fontInfo.spaceWidth;\n        this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : (wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth);\n        this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n        this._renderResult = null;\n        this._context.addEventHandler(this);\n    }\n    dispose() {\n        this._context.removeEventHandler(this);\n        this._renderResult = null;\n        super.dispose();\n    }\n    // --- begin event handlers\n    onConfigurationChanged(e) {\n        const options = this._context.configuration.options;\n        const wrappingInfo = options.get(146 /* EditorOption.wrappingInfo */);\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        this._spaceWidth = fontInfo.spaceWidth;\n        this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : (wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth);\n        this._bracketPairGuideOptions = options.get(16 /* EditorOption.guides */);\n        return true;\n    }\n    onCursorStateChanged(e) {\n        var _a;\n        const selection = e.selections[0];\n        const newPosition = selection.getPosition();\n        if (!((_a = this._primaryPosition) === null || _a === void 0 ? void 0 : _a.equals(newPosition))) {\n            this._primaryPosition = newPosition;\n            return true;\n        }\n        return false;\n    }\n    onDecorationsChanged(e) {\n        // true for inline decorations\n        return true;\n    }\n    onFlushed(e) {\n        return true;\n    }\n    onLinesChanged(e) {\n        return true;\n    }\n    onLinesDeleted(e) {\n        return true;\n    }\n    onLinesInserted(e) {\n        return true;\n    }\n    onScrollChanged(e) {\n        return e.scrollTopChanged; // || e.scrollWidthChanged;\n    }\n    onZonesChanged(e) {\n        return true;\n    }\n    onLanguageConfigurationChanged(e) {\n        return true;\n    }\n    // --- end event handlers\n    prepareRender(ctx) {\n        var _a, _b, _c, _d;\n        if (!this._bracketPairGuideOptions.indentation && this._bracketPairGuideOptions.bracketPairs === false) {\n            this._renderResult = null;\n            return;\n        }\n        const visibleStartLineNumber = ctx.visibleRange.startLineNumber;\n        const visibleEndLineNumber = ctx.visibleRange.endLineNumber;\n        const scrollWidth = ctx.scrollWidth;\n        const activeCursorPosition = this._primaryPosition;\n        const indents = this.getGuidesByLine(visibleStartLineNumber, Math.min(visibleEndLineNumber + 1, this._context.viewModel.getLineCount()), activeCursorPosition);\n        const output = [];\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineIndex = lineNumber - visibleStartLineNumber;\n            const indent = indents[lineIndex];\n            let result = '';\n            const leftOffset = (_b = (_a = ctx.visibleRangeForPosition(new Position(lineNumber, 1))) === null || _a === void 0 ? void 0 : _a.left) !== null && _b !== void 0 ? _b : 0;\n            for (const guide of indent) {\n                const left = guide.column === -1\n                    ? leftOffset + (guide.visibleColumn - 1) * this._spaceWidth\n                    : ctx.visibleRangeForPosition(new Position(lineNumber, guide.column)).left;\n                if (left > scrollWidth || (this._maxIndentLeft > 0 && left > this._maxIndentLeft)) {\n                    break;\n                }\n                const className = guide.horizontalLine ? (guide.horizontalLine.top ? 'horizontal-top' : 'horizontal-bottom') : 'vertical';\n                const width = guide.horizontalLine\n                    ? ((_d = (_c = ctx.visibleRangeForPosition(new Position(lineNumber, guide.horizontalLine.endColumn))) === null || _c === void 0 ? void 0 : _c.left) !== null && _d !== void 0 ? _d : (left + this._spaceWidth)) - left\n                    : this._spaceWidth;\n                result += `<div class=\"core-guide ${guide.className} ${className}\" style=\"left:${left}px;width:${width}px\"></div>`;\n            }\n            output[lineIndex] = result;\n        }\n        this._renderResult = output;\n    }\n    getGuidesByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition) {\n        const bracketGuides = this._bracketPairGuideOptions.bracketPairs !== false\n            ? this._context.viewModel.getBracketGuidesInRangeByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition, {\n                highlightActive: this._bracketPairGuideOptions.highlightActiveBracketPair,\n                horizontalGuides: this._bracketPairGuideOptions.bracketPairsHorizontal === true\n                    ? HorizontalGuidesState.Enabled\n                    : this._bracketPairGuideOptions.bracketPairsHorizontal === 'active'\n                        ? HorizontalGuidesState.EnabledForActive\n                        : HorizontalGuidesState.Disabled,\n                includeInactive: this._bracketPairGuideOptions.bracketPairs === true,\n            })\n            : null;\n        const indentGuides = this._bracketPairGuideOptions.indentation\n            ? this._context.viewModel.getLinesIndentGuides(visibleStartLineNumber, visibleEndLineNumber)\n            : null;\n        let activeIndentStartLineNumber = 0;\n        let activeIndentEndLineNumber = 0;\n        let activeIndentLevel = 0;\n        if (this._bracketPairGuideOptions.highlightActiveIndentation !== false && activeCursorPosition) {\n            const activeIndentInfo = this._context.viewModel.getActiveIndentGuide(activeCursorPosition.lineNumber, visibleStartLineNumber, visibleEndLineNumber);\n            activeIndentStartLineNumber = activeIndentInfo.startLineNumber;\n            activeIndentEndLineNumber = activeIndentInfo.endLineNumber;\n            activeIndentLevel = activeIndentInfo.indent;\n        }\n        const { indentSize } = this._context.viewModel.model.getOptions();\n        const result = [];\n        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {\n            const lineGuides = new Array();\n            result.push(lineGuides);\n            const bracketGuidesInLine = bracketGuides ? bracketGuides[lineNumber - visibleStartLineNumber] : [];\n            const bracketGuidesInLineQueue = new ArrayQueue(bracketGuidesInLine);\n            const indentGuidesInLine = indentGuides ? indentGuides[lineNumber - visibleStartLineNumber] : 0;\n            for (let indentLvl = 1; indentLvl <= indentGuidesInLine; indentLvl++) {\n                const indentGuide = (indentLvl - 1) * indentSize + 1;\n                const isActive = \n                // Disable active indent guide if there are bracket guides.\n                (this._bracketPairGuideOptions.highlightActiveIndentation === 'always' || bracketGuidesInLine.length === 0) &&\n                    activeIndentStartLineNumber <= lineNumber &&\n                    lineNumber <= activeIndentEndLineNumber &&\n                    indentLvl === activeIndentLevel;\n                lineGuides.push(...bracketGuidesInLineQueue.takeWhile(g => g.visibleColumn < indentGuide) || []);\n                const peeked = bracketGuidesInLineQueue.peek();\n                if (!peeked || peeked.visibleColumn !== indentGuide || peeked.horizontalLine) {\n                    lineGuides.push(new IndentGuide(indentGuide, -1, `core-guide-indent lvl-${(indentLvl - 1) % 30}` + (isActive ? ' indent-active' : ''), null, -1, -1));\n                }\n            }\n            lineGuides.push(...bracketGuidesInLineQueue.takeWhile(g => true) || []);\n        }\n        return result;\n    }\n    render(startLineNumber, lineNumber) {\n        if (!this._renderResult) {\n            return '';\n        }\n        const lineIndex = lineNumber - startLineNumber;\n        if (lineIndex < 0 || lineIndex >= this._renderResult.length) {\n            return '';\n        }\n        return this._renderResult[lineIndex];\n    }\n}\nfunction transparentToUndefined(color) {\n    if (color && color.isTransparent()) {\n        return undefined;\n    }\n    return color;\n}\nregisterThemingParticipant((theme, collector) => {\n    const colors = [\n        { bracketColor: editorBracketHighlightingForeground1, guideColor: editorBracketPairGuideBackground1, guideColorActive: editorBracketPairGuideActiveBackground1 },\n        { bracketColor: editorBracketHighlightingForeground2, guideColor: editorBracketPairGuideBackground2, guideColorActive: editorBracketPairGuideActiveBackground2 },\n        { bracketColor: editorBracketHighlightingForeground3, guideColor: editorBracketPairGuideBackground3, guideColorActive: editorBracketPairGuideActiveBackground3 },\n        { bracketColor: editorBracketHighlightingForeground4, guideColor: editorBracketPairGuideBackground4, guideColorActive: editorBracketPairGuideActiveBackground4 },\n        { bracketColor: editorBracketHighlightingForeground5, guideColor: editorBracketPairGuideBackground5, guideColorActive: editorBracketPairGuideActiveBackground5 },\n        { bracketColor: editorBracketHighlightingForeground6, guideColor: editorBracketPairGuideBackground6, guideColorActive: editorBracketPairGuideActiveBackground6 }\n    ];\n    const colorProvider = new BracketPairGuidesClassNames();\n    const indentColors = [\n        { indentColor: editorIndentGuide1, indentColorActive: editorActiveIndentGuide1 },\n        { indentColor: editorIndentGuide2, indentColorActive: editorActiveIndentGuide2 },\n        { indentColor: editorIndentGuide3, indentColorActive: editorActiveIndentGuide3 },\n        { indentColor: editorIndentGuide4, indentColorActive: editorActiveIndentGuide4 },\n        { indentColor: editorIndentGuide5, indentColorActive: editorActiveIndentGuide5 },\n        { indentColor: editorIndentGuide6, indentColorActive: editorActiveIndentGuide6 },\n    ];\n    const colorValues = colors\n        .map(c => {\n        var _a, _b;\n        const bracketColor = theme.getColor(c.bracketColor);\n        const guideColor = theme.getColor(c.guideColor);\n        const guideColorActive = theme.getColor(c.guideColorActive);\n        const effectiveGuideColor = transparentToUndefined((_a = transparentToUndefined(guideColor)) !== null && _a !== void 0 ? _a : bracketColor === null || bracketColor === void 0 ? void 0 : bracketColor.transparent(0.3));\n        const effectiveGuideColorActive = transparentToUndefined((_b = transparentToUndefined(guideColorActive)) !== null && _b !== void 0 ? _b : bracketColor);\n        if (!effectiveGuideColor || !effectiveGuideColorActive) {\n            return undefined;\n        }\n        return {\n            guideColor: effectiveGuideColor,\n            guideColorActive: effectiveGuideColorActive,\n        };\n    })\n        .filter(isDefined);\n    const indentColorValues = indentColors\n        .map(c => {\n        const indentColor = theme.getColor(c.indentColor);\n        const indentColorActive = theme.getColor(c.indentColorActive);\n        const effectiveIndentColor = transparentToUndefined(indentColor);\n        const effectiveIndentColorActive = transparentToUndefined(indentColorActive);\n        if (!effectiveIndentColor || !effectiveIndentColorActive) {\n            return undefined;\n        }\n        return {\n            indentColor: effectiveIndentColor,\n            indentColorActive: effectiveIndentColorActive,\n        };\n    })\n        .filter(isDefined);\n    if (colorValues.length > 0) {\n        for (let level = 0; level < 30; level++) {\n            const colors = colorValues[level % colorValues.length];\n            collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level).replace(/ /g, '.')} { --guide-color: ${colors.guideColor}; --guide-color-active: ${colors.guideColorActive}; }`);\n        }\n        collector.addRule(`.monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }`);\n        collector.addRule(`.monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }`);\n        collector.addRule(`.monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }`);\n        collector.addRule(`.monaco-editor .vertical.${colorProvider.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`);\n        collector.addRule(`.monaco-editor .horizontal-top.${colorProvider.activeClassName} { border-top: 1px solid var(--guide-color-active); }`);\n        collector.addRule(`.monaco-editor .horizontal-bottom.${colorProvider.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`);\n    }\n    if (indentColorValues.length > 0) {\n        for (let level = 0; level < 30; level++) {\n            const colors = indentColorValues[level % indentColorValues.length];\n            collector.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${level} { --indent-color: ${colors.indentColor}; --indent-color-active: ${colors.indentColorActive}; }`);\n        }\n        collector.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }`);\n        collector.addRule(`.monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }`);\n    }\n});\n"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,OAAO,oBAAoB;AAC3B,SAASA,kBAAkB,QAAQ,kCAAkC;AACrE,SAASC,oCAAoC,EAAEC,oCAAoC,EAAEC,oCAAoC,EAAEC,oCAAoC,EAAEC,oCAAoC,EAAEC,oCAAoC,EAAEC,uCAAuC,EAAEC,uCAAuC,EAAEC,uCAAuC,EAAEC,uCAAuC,EAAEC,uCAAuC,EAAEC,uCAAuC,EAAEC,iCAAiC,EAAEC,iCAAiC,EAAEC,iCAAiC,EAAEC,iCAAiC,EAAEC,iCAAiC,EAAEC,iCAAiC,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,wBAAwB,EAAEC,wBAAwB,EAAEC,wBAAwB,EAAEC,wBAAwB,EAAEC,wBAAwB,EAAEC,wBAAwB,QAAQ,6CAA6C;AAC5/B,SAASC,0BAA0B,QAAQ,mDAAmD;AAC9F,SAASC,QAAQ,QAAQ,kCAAkC;AAC3D,SAASC,UAAU,QAAQ,mCAAmC;AAC9D,SAASC,SAAS,QAAQ,kCAAkC;AAC5D,SAASC,2BAA2B,QAAQ,8CAA8C;AAC1F,SAASC,WAAW,EAAEC,qBAAqB,QAAQ,oCAAoC;AACvF,WAAaC,mBAAmB,0BAAAC,mBAAA;EAC5B,SAAAD,oBAAYE,OAAO,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAJ,mBAAA;IACjBG,KAAA,GAAAE,UAAA,OAAAL,mBAAA;IACAG,KAAA,CAAKG,QAAQ,GAAGJ,OAAO;IACvBC,KAAA,CAAKI,gBAAgB,GAAG,IAAI;IAC5B,IAAMC,OAAO,GAAGL,KAAA,CAAKG,QAAQ,CAACG,aAAa,CAACD,OAAO;IACnD,IAAME,YAAY,GAAGF,OAAO,CAACG,GAAG,CAAC,GAAG,CAAC,+BAA+B,CAAC;IACrE,IAAMC,QAAQ,GAAGJ,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,2BAA2B,CAAC;IAC5DR,KAAA,CAAKU,WAAW,GAAGD,QAAQ,CAACE,UAAU;IACtCX,KAAA,CAAKY,cAAc,GAAGL,YAAY,CAACM,cAAc,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAIN,YAAY,CAACM,cAAc,GAAGJ,QAAQ,CAACK,8BAA+B;IACvId,KAAA,CAAKe,wBAAwB,GAAGV,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,yBAAyB,CAAC;IACzER,KAAA,CAAKgB,aAAa,GAAG,IAAI;IACzBhB,KAAA,CAAKG,QAAQ,CAACc,eAAe,CAAAjB,KAAK,CAAC;IAAC,OAAAA,KAAA;EACxC;EAACkB,SAAA,CAAArB,mBAAA,EAAAC,mBAAA;EAAA,OAAAqB,YAAA,CAAAtB,mBAAA;IAAAuB,GAAA;IAAAC,KAAA,EACD,SAAAC,QAAA,EAAU;MACN,IAAI,CAACnB,QAAQ,CAACoB,kBAAkB,CAAC,IAAI,CAAC;MACtC,IAAI,CAACP,aAAa,GAAG,IAAI;MACzBQ,IAAA,CAAAC,eAAA,CAAA5B,mBAAA,CAAA6B,SAAA,oBAAAC,IAAA;IACJ;IACA;EAAA;IAAAP,GAAA;IAAAC,KAAA,EACA,SAAAO,uBAAuBC,CAAC,EAAE;MACtB,IAAMxB,OAAO,GAAG,IAAI,CAACF,QAAQ,CAACG,aAAa,CAACD,OAAO;MACnD,IAAME,YAAY,GAAGF,OAAO,CAACG,GAAG,CAAC,GAAG,CAAC,+BAA+B,CAAC;MACrE,IAAMC,QAAQ,GAAGJ,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,2BAA2B,CAAC;MAC5D,IAAI,CAACE,WAAW,GAAGD,QAAQ,CAACE,UAAU;MACtC,IAAI,CAACC,cAAc,GAAGL,YAAY,CAACM,cAAc,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAIN,YAAY,CAACM,cAAc,GAAGJ,QAAQ,CAACK,8BAA+B;MACvI,IAAI,CAACC,wBAAwB,GAAGV,OAAO,CAACG,GAAG,CAAC,EAAE,CAAC,yBAAyB,CAAC;MACzE,OAAO,IAAI;IACf;EAAC;IAAAY,GAAA;IAAAC,KAAA,EACD,SAAAS,qBAAqBD,CAAC,EAAE;MACpB,IAAIE,EAAE;MACN,IAAMC,SAAS,GAAGH,CAAC,CAACI,UAAU,CAAC,CAAC,CAAC;MACjC,IAAMC,WAAW,GAAGF,SAAS,CAACG,WAAW,CAAC,CAAC;MAC3C,IAAI,EAAE,CAACJ,EAAE,GAAG,IAAI,CAAC3B,gBAAgB,MAAM,IAAI,IAAI2B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,MAAM,CAACF,WAAW,CAAC,CAAC,EAAE;QAC7F,IAAI,CAAC9B,gBAAgB,GAAG8B,WAAW;QACnC,OAAO,IAAI;MACf;MACA,OAAO,KAAK;IAChB;EAAC;IAAAd,GAAA;IAAAC,KAAA,EACD,SAAAgB,qBAAqBR,CAAC,EAAE;MACpB;MACA,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAiB,UAAUT,CAAC,EAAE;MACT,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAkB,eAAeV,CAAC,EAAE;MACd,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAmB,eAAeX,CAAC,EAAE;MACd,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAoB,gBAAgBZ,CAAC,EAAE;MACf,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAqB,gBAAgBb,CAAC,EAAE;MACf,OAAOA,CAAC,CAACc,gBAAgB,CAAC,CAAC;IAC/B;EAAC;IAAAvB,GAAA;IAAAC,KAAA,EACD,SAAAuB,eAAef,CAAC,EAAE;MACd,OAAO,IAAI;IACf;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAwB,+BAA+BhB,CAAC,EAAE;MAC9B,OAAO,IAAI;IACf;IACA;EAAA;IAAAT,GAAA;IAAAC,KAAA,EACA,SAAAyB,cAAcC,GAAG,EAAE;MACf,IAAIhB,EAAE,EAAEiB,EAAE,EAAEC,EAAE,EAAEC,EAAE;MAClB,IAAI,CAAC,IAAI,CAACnC,wBAAwB,CAACoC,WAAW,IAAI,IAAI,CAACpC,wBAAwB,CAACqC,YAAY,KAAK,KAAK,EAAE;QACpG,IAAI,CAACpC,aAAa,GAAG,IAAI;QACzB;MACJ;MACA,IAAMqC,sBAAsB,GAAGN,GAAG,CAACO,YAAY,CAACC,eAAe;MAC/D,IAAMC,oBAAoB,GAAGT,GAAG,CAACO,YAAY,CAACG,aAAa;MAC3D,IAAMC,WAAW,GAAGX,GAAG,CAACW,WAAW;MACnC,IAAMC,oBAAoB,GAAG,IAAI,CAACvD,gBAAgB;MAClD,IAAMwD,OAAO,GAAG,IAAI,CAACC,eAAe,CAACR,sBAAsB,EAAES,IAAI,CAACC,GAAG,CAACP,oBAAoB,GAAG,CAAC,EAAE,IAAI,CAACrD,QAAQ,CAAC6D,SAAS,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEN,oBAAoB,CAAC;MAC9J,IAAMO,MAAM,GAAG,EAAE;MACjB,KAAK,IAAIC,UAAU,GAAGd,sBAAsB,EAAEc,UAAU,IAAIX,oBAAoB,EAAEW,UAAU,EAAE,EAAE;QAC5F,IAAMC,SAAS,GAAGD,UAAU,GAAGd,sBAAsB;QACrD,IAAMgB,MAAM,GAAGT,OAAO,CAACQ,SAAS,CAAC;QACjC,IAAIE,MAAM,GAAG,EAAE;QACf,IAAMC,UAAU,GAAG,CAACvB,EAAE,GAAG,CAACjB,EAAE,GAAGgB,GAAG,CAACyB,uBAAuB,CAAC,IAAIjF,QAAQ,CAAC4E,UAAU,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,IAAIpC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC0C,IAAI,MAAM,IAAI,IAAIzB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC;QAAC,IAAA0B,SAAA,GAAAC,0BAAA,CACtJN,MAAM;UAAAO,KAAA;QAAA;UAA1B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA4B;YAAA,IAAjBC,KAAK,GAAAJ,KAAA,CAAAvD,KAAA;YACZ,IAAMoD,IAAI,GAAGO,KAAK,CAACC,MAAM,KAAK,CAAC,CAAC,GAC1BV,UAAU,GAAG,CAACS,KAAK,CAACE,aAAa,GAAG,CAAC,IAAI,IAAI,CAACxE,WAAW,GACzDqC,GAAG,CAACyB,uBAAuB,CAAC,IAAIjF,QAAQ,CAAC4E,UAAU,EAAEa,KAAK,CAACC,MAAM,CAAC,CAAC,CAACR,IAAI;YAC9E,IAAIA,IAAI,GAAGf,WAAW,IAAK,IAAI,CAAC9C,cAAc,GAAG,CAAC,IAAI6D,IAAI,GAAG,IAAI,CAAC7D,cAAe,EAAE;cAC/E;YACJ;YACA,IAAMuE,SAAS,GAAGH,KAAK,CAACI,cAAc,GAAIJ,KAAK,CAACI,cAAc,CAACC,GAAG,GAAG,gBAAgB,GAAG,mBAAmB,GAAI,UAAU;YACzH,IAAMC,KAAK,GAAGN,KAAK,CAACI,cAAc,GAC5B,CAAC,CAAClC,EAAE,GAAG,CAACD,EAAE,GAAGF,GAAG,CAACyB,uBAAuB,CAAC,IAAIjF,QAAQ,CAAC4E,UAAU,EAAEa,KAAK,CAACI,cAAc,CAACG,SAAS,CAAC,CAAC,MAAM,IAAI,IAAItC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwB,IAAI,MAAM,IAAI,IAAIvB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAIuB,IAAI,GAAG,IAAI,CAAC/D,WAAY,IAAI+D,IAAI,GACpN,IAAI,CAAC/D,WAAW;YACtB4D,MAAM,+BAAAkB,MAAA,CAA8BR,KAAK,CAACG,SAAS,OAAAK,MAAA,CAAIL,SAAS,sBAAAK,MAAA,CAAiBf,IAAI,eAAAe,MAAA,CAAYF,KAAK,gBAAY;UACtH;QAAC,SAAAG,GAAA;UAAAf,SAAA,CAAA7C,CAAA,CAAA4D,GAAA;QAAA;UAAAf,SAAA,CAAAgB,CAAA;QAAA;QACDxB,MAAM,CAACE,SAAS,CAAC,GAAGE,MAAM;MAC9B;MACA,IAAI,CAACtD,aAAa,GAAGkD,MAAM;IAC/B;EAAC;IAAA9C,GAAA;IAAAC,KAAA,EACD,SAAAwC,gBAAgBR,sBAAsB,EAAEG,oBAAoB,EAAEG,oBAAoB,EAAE;MAAA,IAAAgC,MAAA;MAChF,IAAMC,aAAa,GAAG,IAAI,CAAC7E,wBAAwB,CAACqC,YAAY,KAAK,KAAK,GACpE,IAAI,CAACjD,QAAQ,CAAC6D,SAAS,CAAC6B,6BAA6B,CAACxC,sBAAsB,EAAEG,oBAAoB,EAAEG,oBAAoB,EAAE;QACxHmC,eAAe,EAAE,IAAI,CAAC/E,wBAAwB,CAACgF,0BAA0B;QACzEC,gBAAgB,EAAE,IAAI,CAACjF,wBAAwB,CAACkF,sBAAsB,KAAK,IAAI,GACzErG,qBAAqB,CAACsG,OAAO,GAC7B,IAAI,CAACnF,wBAAwB,CAACkF,sBAAsB,KAAK,QAAQ,GAC7DrG,qBAAqB,CAACuG,gBAAgB,GACtCvG,qBAAqB,CAACwG,QAAQ;QACxCC,eAAe,EAAE,IAAI,CAACtF,wBAAwB,CAACqC,YAAY,KAAK;MACpE,CAAC,CAAC,GACA,IAAI;MACV,IAAMkD,YAAY,GAAG,IAAI,CAACvF,wBAAwB,CAACoC,WAAW,GACxD,IAAI,CAAChD,QAAQ,CAAC6D,SAAS,CAACuC,oBAAoB,CAAClD,sBAAsB,EAAEG,oBAAoB,CAAC,GAC1F,IAAI;MACV,IAAIgD,2BAA2B,GAAG,CAAC;MACnC,IAAIC,yBAAyB,GAAG,CAAC;MACjC,IAAIC,iBAAiB,GAAG,CAAC;MACzB,IAAI,IAAI,CAAC3F,wBAAwB,CAAC4F,0BAA0B,KAAK,KAAK,IAAIhD,oBAAoB,EAAE;QAC5F,IAAMiD,gBAAgB,GAAG,IAAI,CAACzG,QAAQ,CAAC6D,SAAS,CAAC6C,oBAAoB,CAAClD,oBAAoB,CAACQ,UAAU,EAAEd,sBAAsB,EAAEG,oBAAoB,CAAC;QACpJgD,2BAA2B,GAAGI,gBAAgB,CAACrD,eAAe;QAC9DkD,yBAAyB,GAAGG,gBAAgB,CAACnD,aAAa;QAC1DiD,iBAAiB,GAAGE,gBAAgB,CAACvC,MAAM;MAC/C;MACA,IAAAyC,qBAAA,GAAuB,IAAI,CAAC3G,QAAQ,CAAC6D,SAAS,CAAC+C,KAAK,CAACC,UAAU,CAAC,CAAC;QAAzDC,UAAU,GAAAH,qBAAA,CAAVG,UAAU;MAClB,IAAM3C,MAAM,GAAG,EAAE;MACjB,KAAK,IAAIH,UAAU,GAAGd,sBAAsB,EAAEc,UAAU,IAAIX,oBAAoB,EAAEW,UAAU,EAAE,EAAE;QAC5F,IAAM+C,UAAU,GAAG,IAAIC,KAAK,CAAC,CAAC;QAC9B7C,MAAM,CAAC8C,IAAI,CAACF,UAAU,CAAC;QACvB,IAAMG,mBAAmB,GAAGzB,aAAa,GAAGA,aAAa,CAACzB,UAAU,GAAGd,sBAAsB,CAAC,GAAG,EAAE;QACnG,IAAMiE,wBAAwB,GAAG,IAAI9H,UAAU,CAAC6H,mBAAmB,CAAC;QACpE,IAAME,kBAAkB,GAAGjB,YAAY,GAAGA,YAAY,CAACnC,UAAU,GAAGd,sBAAsB,CAAC,GAAG,CAAC;QAAC,IAAAmE,KAAA,YAAAA,MAAA,EAC1B;UAClE,IAAMC,WAAW,GAAG,CAACC,SAAS,GAAG,CAAC,IAAIT,UAAU,GAAG,CAAC;UACpD,IAAMU,QAAQ;UACd;UACA,CAAChC,MAAI,CAAC5E,wBAAwB,CAAC4F,0BAA0B,KAAK,QAAQ,IAAIU,mBAAmB,CAACO,MAAM,KAAK,CAAC,KACtGpB,2BAA2B,IAAIrC,UAAU,IACzCA,UAAU,IAAIsC,yBAAyB,IACvCiB,SAAS,KAAKhB,iBAAiB;UACnCQ,UAAU,CAACE,IAAI,CAAAS,KAAA,CAAfX,UAAU,EAAAY,kBAAA,CAASR,wBAAwB,CAACS,SAAS,CAAC,UAAAC,CAAC;YAAA,OAAIA,CAAC,CAAC9C,aAAa,GAAGuC,WAAW;UAAA,EAAC,IAAI,EAAE,EAAC;UAChG,IAAMQ,MAAM,GAAGX,wBAAwB,CAACY,IAAI,CAAC,CAAC;UAC9C,IAAI,CAACD,MAAM,IAAIA,MAAM,CAAC/C,aAAa,KAAKuC,WAAW,IAAIQ,MAAM,CAAC7C,cAAc,EAAE;YAC1E8B,UAAU,CAACE,IAAI,CAAC,IAAIzH,WAAW,CAAC8H,WAAW,EAAE,CAAC,CAAC,EAAE,yBAAAjC,MAAA,CAAyB,CAACkC,SAAS,GAAG,CAAC,IAAI,EAAE,KAAMC,QAAQ,GAAG,gBAAgB,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACzJ;QACJ,CAAC;QAbD,KAAK,IAAID,SAAS,GAAG,CAAC,EAAEA,SAAS,IAAIH,kBAAkB,EAAEG,SAAS,EAAE;UAAAF,KAAA;QAAA;QAcpEN,UAAU,CAACE,IAAI,CAAAS,KAAA,CAAfX,UAAU,EAAAY,kBAAA,CAASR,wBAAwB,CAACS,SAAS,CAAC,UAAAC,CAAC;UAAA,OAAI,IAAI;QAAA,EAAC,IAAI,EAAE,EAAC;MAC3E;MACA,OAAO1D,MAAM;IACjB;EAAC;IAAAlD,GAAA;IAAAC,KAAA,EACD,SAAA8G,OAAO5E,eAAe,EAAEY,UAAU,EAAE;MAChC,IAAI,CAAC,IAAI,CAACnD,aAAa,EAAE;QACrB,OAAO,EAAE;MACb;MACA,IAAMoD,SAAS,GAAGD,UAAU,GAAGZ,eAAe;MAC9C,IAAIa,SAAS,GAAG,CAAC,IAAIA,SAAS,IAAI,IAAI,CAACpD,aAAa,CAAC4G,MAAM,EAAE;QACzD,OAAO,EAAE;MACb;MACA,OAAO,IAAI,CAAC5G,aAAa,CAACoD,SAAS,CAAC;IACxC;EAAC;AAAA,EA9JoC7G,kBAAkB;AAgK3D,SAAS6K,sBAAsBA,CAACC,KAAK,EAAE;EACnC,IAAIA,KAAK,IAAIA,KAAK,CAACC,aAAa,CAAC,CAAC,EAAE;IAChC,OAAOC,SAAS;EACpB;EACA,OAAOF,KAAK;AAChB;AACA/I,0BAA0B,CAAC,UAACkJ,KAAK,EAAEC,SAAS,EAAK;EAC7C,IAAMC,MAAM,GAAG,CACX;IAAEC,YAAY,EAAEnL,oCAAoC;IAAEoL,UAAU,EAAExK,iCAAiC;IAAEyK,gBAAgB,EAAE/K;EAAwC,CAAC,EAChK;IAAE6K,YAAY,EAAElL,oCAAoC;IAAEmL,UAAU,EAAEvK,iCAAiC;IAAEwK,gBAAgB,EAAE9K;EAAwC,CAAC,EAChK;IAAE4K,YAAY,EAAEjL,oCAAoC;IAAEkL,UAAU,EAAEtK,iCAAiC;IAAEuK,gBAAgB,EAAE7K;EAAwC,CAAC,EAChK;IAAE2K,YAAY,EAAEhL,oCAAoC;IAAEiL,UAAU,EAAErK,iCAAiC;IAAEsK,gBAAgB,EAAE5K;EAAwC,CAAC,EAChK;IAAE0K,YAAY,EAAE/K,oCAAoC;IAAEgL,UAAU,EAAEpK,iCAAiC;IAAEqK,gBAAgB,EAAE3K;EAAwC,CAAC,EAChK;IAAEyK,YAAY,EAAE9K,oCAAoC;IAAE+K,UAAU,EAAEnK,iCAAiC;IAAEoK,gBAAgB,EAAE1K;EAAwC,CAAC,CACnK;EACD,IAAM2K,aAAa,GAAG,IAAIpJ,2BAA2B,CAAC,CAAC;EACvD,IAAMqJ,YAAY,GAAG,CACjB;IAAEC,WAAW,EAAEtK,kBAAkB;IAAEuK,iBAAiB,EAAEjK;EAAyB,CAAC,EAChF;IAAEgK,WAAW,EAAErK,kBAAkB;IAAEsK,iBAAiB,EAAEhK;EAAyB,CAAC,EAChF;IAAE+J,WAAW,EAAEpK,kBAAkB;IAAEqK,iBAAiB,EAAE/J;EAAyB,CAAC,EAChF;IAAE8J,WAAW,EAAEnK,kBAAkB;IAAEoK,iBAAiB,EAAE9J;EAAyB,CAAC,EAChF;IAAE6J,WAAW,EAAElK,kBAAkB;IAAEmK,iBAAiB,EAAE7J;EAAyB,CAAC,EAChF;IAAE4J,WAAW,EAAEjK,kBAAkB;IAAEkK,iBAAiB,EAAE5J;EAAyB,CAAC,CACnF;EACD,IAAM6J,WAAW,GAAGR,MAAM,CACrBS,GAAG,CAAC,UAAAC,CAAC,EAAI;IACV,IAAIrH,EAAE,EAAEiB,EAAE;IACV,IAAM2F,YAAY,GAAGH,KAAK,CAACa,QAAQ,CAACD,CAAC,CAACT,YAAY,CAAC;IACnD,IAAMC,UAAU,GAAGJ,KAAK,CAACa,QAAQ,CAACD,CAAC,CAACR,UAAU,CAAC;IAC/C,IAAMC,gBAAgB,GAAGL,KAAK,CAACa,QAAQ,CAACD,CAAC,CAACP,gBAAgB,CAAC;IAC3D,IAAMS,mBAAmB,GAAGlB,sBAAsB,CAAC,CAACrG,EAAE,GAAGqG,sBAAsB,CAACQ,UAAU,CAAC,MAAM,IAAI,IAAI7G,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG4G,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACY,WAAW,CAAC,GAAG,CAAC,CAAC;IACxN,IAAMC,yBAAyB,GAAGpB,sBAAsB,CAAC,CAACpF,EAAE,GAAGoF,sBAAsB,CAACS,gBAAgB,CAAC,MAAM,IAAI,IAAI7F,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG2F,YAAY,CAAC;IACvJ,IAAI,CAACW,mBAAmB,IAAI,CAACE,yBAAyB,EAAE;MACpD,OAAOjB,SAAS;IACpB;IACA,OAAO;MACHK,UAAU,EAAEU,mBAAmB;MAC/BT,gBAAgB,EAAEW;IACtB,CAAC;EACL,CAAC,CAAC,CACGC,MAAM,CAAChK,SAAS,CAAC;EACtB,IAAMiK,iBAAiB,GAAGX,YAAY,CACjCI,GAAG,CAAC,UAAAC,CAAC,EAAI;IACV,IAAMJ,WAAW,GAAGR,KAAK,CAACa,QAAQ,CAACD,CAAC,CAACJ,WAAW,CAAC;IACjD,IAAMC,iBAAiB,GAAGT,KAAK,CAACa,QAAQ,CAACD,CAAC,CAACH,iBAAiB,CAAC;IAC7D,IAAMU,oBAAoB,GAAGvB,sBAAsB,CAACY,WAAW,CAAC;IAChE,IAAMY,0BAA0B,GAAGxB,sBAAsB,CAACa,iBAAiB,CAAC;IAC5E,IAAI,CAACU,oBAAoB,IAAI,CAACC,0BAA0B,EAAE;MACtD,OAAOrB,SAAS;IACpB;IACA,OAAO;MACHS,WAAW,EAAEW,oBAAoB;MACjCV,iBAAiB,EAAEW;IACvB,CAAC;EACL,CAAC,CAAC,CACGH,MAAM,CAAChK,SAAS,CAAC;EACtB,IAAIyJ,WAAW,CAACtB,MAAM,GAAG,CAAC,EAAE;IACxB,KAAK,IAAIiC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,EAAE,EAAEA,KAAK,EAAE,EAAE;MACrC,IAAMnB,OAAM,GAAGQ,WAAW,CAACW,KAAK,GAAGX,WAAW,CAACtB,MAAM,CAAC;MACtDa,SAAS,CAACqB,OAAO,oBAAAtE,MAAA,CAAoBsD,aAAa,CAACiB,yBAAyB,CAACF,KAAK,CAAC,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,wBAAAxE,MAAA,CAAqBkD,OAAM,CAACE,UAAU,8BAAApD,MAAA,CAA2BkD,OAAM,CAACG,gBAAgB,QAAK,CAAC;IACxM;IACAJ,SAAS,CAACqB,OAAO,+EAA+E,CAAC;IACjGrB,SAAS,CAACqB,OAAO,+EAA+E,CAAC;IACjGrB,SAAS,CAACqB,OAAO,qFAAqF,CAAC;IACvGrB,SAAS,CAACqB,OAAO,6BAAAtE,MAAA,CAA6BsD,aAAa,CAACmB,eAAe,gEAA6D,CAAC;IACzIxB,SAAS,CAACqB,OAAO,mCAAAtE,MAAA,CAAmCsD,aAAa,CAACmB,eAAe,0DAAuD,CAAC;IACzIxB,SAAS,CAACqB,OAAO,sCAAAtE,MAAA,CAAsCsD,aAAa,CAACmB,eAAe,6DAA0D,CAAC;EACnJ;EACA,IAAIP,iBAAiB,CAAC9B,MAAM,GAAG,CAAC,EAAE;IAC9B,KAAK,IAAIiC,MAAK,GAAG,CAAC,EAAEA,MAAK,GAAG,EAAE,EAAEA,MAAK,EAAE,EAAE;MACrC,IAAMnB,QAAM,GAAGgB,iBAAiB,CAACG,MAAK,GAAGH,iBAAiB,CAAC9B,MAAM,CAAC;MAClEa,SAAS,CAACqB,OAAO,yDAAAtE,MAAA,CAAyDqE,MAAK,yBAAArE,MAAA,CAAsBkD,QAAM,CAACM,WAAW,+BAAAxD,MAAA,CAA4BkD,QAAM,CAACO,iBAAiB,QAAK,CAAC;IACrL;IACAR,SAAS,CAACqB,OAAO,wGAAwG,CAAC;IAC1HrB,SAAS,CAACqB,OAAO,6HAA6H,CAAC;EACnJ;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}