{"ast":null,"code":"import _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.at.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.at-alternative.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.timers.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, getWindow, isAncestor, scheduleAtNextAnimationFrame as _scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nimport { clamp } from '../../../common/numbers.js';\nvar StaticDND = {\n  CurrentDragAndDropData: undefined\n};\nvar DefaultOptions = {\n  useShadows: true,\n  verticalScrollMode: 1 /* ScrollbarVisibility.Auto */,\n  setRowLineHeight: true,\n  setRowHeight: true,\n  supportDynamicHeights: false,\n  dnd: {\n    getDragElements: function getDragElements(e) {\n      return [e];\n    },\n    getDragURI: function getDragURI() {\n      return null;\n    },\n    onDragStart: function onDragStart() {},\n    onDragOver: function onDragOver() {\n      return false;\n    },\n    drop: function drop() {},\n    dispose: function dispose() {}\n  },\n  horizontalScrolling: false,\n  transformOptimization: true,\n  alwaysConsumeMouseWheel: true\n};\nexport var ElementsDragAndDropData = /*#__PURE__*/function () {\n  function ElementsDragAndDropData(elements) {\n    _classCallCheck(this, ElementsDragAndDropData);\n    this.elements = elements;\n  }\n  return _createClass(ElementsDragAndDropData, [{\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.elements;\n    }\n  }]);\n}();\nexport var ExternalElementsDragAndDropData = /*#__PURE__*/function () {\n  function ExternalElementsDragAndDropData(elements) {\n    _classCallCheck(this, ExternalElementsDragAndDropData);\n    this.elements = elements;\n  }\n  return _createClass(ExternalElementsDragAndDropData, [{\n    key: \"update\",\n    value: function update() {}\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.elements;\n    }\n  }]);\n}();\nexport var NativeDragAndDropData = /*#__PURE__*/function () {\n  function NativeDragAndDropData() {\n    _classCallCheck(this, NativeDragAndDropData);\n    this.types = [];\n    this.files = [];\n  }\n  return _createClass(NativeDragAndDropData, [{\n    key: \"update\",\n    value: function update(dataTransfer) {\n      if (dataTransfer.types) {\n        var _this$types;\n        (_this$types = this.types).splice.apply(_this$types, [0, this.types.length].concat(_toConsumableArray(dataTransfer.types)));\n      }\n      if (dataTransfer.files) {\n        this.files.splice(0, this.files.length);\n        for (var i = 0; i < dataTransfer.files.length; i++) {\n          var file = dataTransfer.files.item(i);\n          if (file && (file.size || file.type)) {\n            this.files.push(file);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return {\n        types: this.types,\n        files: this.files\n      };\n    }\n  }]);\n}();\nfunction equalsDragFeedback(f1, f2) {\n  if (Array.isArray(f1) && Array.isArray(f2)) {\n    return equals(f1, f2);\n  }\n  return f1 === f2;\n}\nvar ListViewAccessibilityProvider = /*#__PURE__*/_createClass(function ListViewAccessibilityProvider(accessibilityProvider) {\n  _classCallCheck(this, ListViewAccessibilityProvider);\n  if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n    this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n  } else {\n    this.getSetSize = function (e, i, l) {\n      return l;\n    };\n  }\n  if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n    this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n  } else {\n    this.getPosInSet = function (e, i) {\n      return i + 1;\n    };\n  }\n  if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n    this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n  } else {\n    this.getRole = function (_) {\n      return 'listitem';\n    };\n  }\n  if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n    this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n  } else {\n    this.isChecked = function (_) {\n      return undefined;\n    };\n  }\n});\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport var ListView = /*#__PURE__*/function () {\n  function ListView(container, virtualDelegate, renderers) {\n    var _this = this;\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DefaultOptions;\n    _classCallCheck(this, ListView);\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n    this.virtualDelegate = virtualDelegate;\n    this.domId = \"list_id_\".concat(++ListView.InstanceCount);\n    this.renderers = new Map();\n    this.renderWidth = 0;\n    this._scrollHeight = 0;\n    this.scrollableElementUpdateDisposable = null;\n    this.scrollableElementWidthDelayer = new Delayer(50);\n    this.splicing = false;\n    this.dragOverAnimationStopDisposable = Disposable.None;\n    this.dragOverMouseY = 0;\n    this.canDrop = false;\n    this.currentDragFeedbackDisposable = Disposable.None;\n    this.onDragLeaveTimeout = Disposable.None;\n    this.disposables = new DisposableStore();\n    this._onDidChangeContentHeight = new Emitter();\n    this._onDidChangeContentWidth = new Emitter();\n    this.onDidChangeContentHeight = Event.latch(this._onDidChangeContentHeight.event, undefined, this.disposables);\n    this._horizontalScrolling = false;\n    if (options.horizontalScrolling && options.supportDynamicHeights) {\n      throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n    }\n    this.items = [];\n    this.itemId = 0;\n    this.rangeMap = this.createRangeMap((_a = options.paddingTop) !== null && _a !== void 0 ? _a : 0);\n    var _iterator = _createForOfIteratorHelper(renderers),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var renderer = _step.value;\n        this.renderers.set(renderer.templateId, renderer);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    this.cache = this.disposables.add(new RowCache(this.renderers));\n    this.lastRenderTop = 0;\n    this.lastRenderHeight = 0;\n    this.domNode = document.createElement('div');\n    this.domNode.className = 'monaco-list';\n    this.domNode.classList.add(this.domId);\n    this.domNode.tabIndex = 0;\n    this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n    this._horizontalScrolling = (_b = options.horizontalScrolling) !== null && _b !== void 0 ? _b : DefaultOptions.horizontalScrolling;\n    this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n    this.paddingBottom = typeof options.paddingBottom === 'undefined' ? 0 : options.paddingBottom;\n    this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n    this.rowsContainer = document.createElement('div');\n    this.rowsContainer.className = 'monaco-list-rows';\n    var transformOptimization = (_c = options.transformOptimization) !== null && _c !== void 0 ? _c : DefaultOptions.transformOptimization;\n    if (transformOptimization) {\n      this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n      this.rowsContainer.style.overflow = 'hidden';\n      this.rowsContainer.style.contain = 'strict';\n    }\n    this.disposables.add(Gesture.addTarget(this.rowsContainer));\n    this.scrollable = this.disposables.add(new Scrollable({\n      forceIntegerValues: true,\n      smoothScrollDuration: ((_d = options.smoothScrolling) !== null && _d !== void 0 ? _d : false) ? 125 : 0,\n      scheduleAtNextAnimationFrame: function scheduleAtNextAnimationFrame(cb) {\n        return _scheduleAtNextAnimationFrame(getWindow(_this.domNode), cb);\n      }\n    }));\n    this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n      alwaysConsumeMouseWheel: (_e = options.alwaysConsumeMouseWheel) !== null && _e !== void 0 ? _e : DefaultOptions.alwaysConsumeMouseWheel,\n      horizontal: 1 /* ScrollbarVisibility.Auto */,\n      vertical: (_f = options.verticalScrollMode) !== null && _f !== void 0 ? _f : DefaultOptions.verticalScrollMode,\n      useShadows: (_g = options.useShadows) !== null && _g !== void 0 ? _g : DefaultOptions.useShadows,\n      mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n      fastScrollSensitivity: options.fastScrollSensitivity,\n      scrollByPage: options.scrollByPage\n    }, this.scrollable));\n    this.domNode.appendChild(this.scrollableElement.getDomNode());\n    container.appendChild(this.domNode);\n    this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n    this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, function (e) {\n      return _this.onTouchChange(e);\n    }));\n    // Prevent the monaco-scrollable-element from scrolling\n    // https://github.com/microsoft/vscode/issues/44181\n    this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', function (e) {\n      return e.target.scrollTop = 0;\n    }));\n    this.disposables.add(addDisposableListener(this.domNode, 'dragover', function (e) {\n      return _this.onDragOver(_this.toDragEvent(e));\n    }));\n    this.disposables.add(addDisposableListener(this.domNode, 'drop', function (e) {\n      return _this.onDrop(_this.toDragEvent(e));\n    }));\n    this.disposables.add(addDisposableListener(this.domNode, 'dragleave', function (e) {\n      return _this.onDragLeave(_this.toDragEvent(e));\n    }));\n    this.disposables.add(addDisposableListener(this.domNode, 'dragend', function (e) {\n      return _this.onDragEnd(e);\n    }));\n    this.setRowLineHeight = (_h = options.setRowLineHeight) !== null && _h !== void 0 ? _h : DefaultOptions.setRowLineHeight;\n    this.setRowHeight = (_j = options.setRowHeight) !== null && _j !== void 0 ? _j : DefaultOptions.setRowHeight;\n    this.supportDynamicHeights = (_k = options.supportDynamicHeights) !== null && _k !== void 0 ? _k : DefaultOptions.supportDynamicHeights;\n    this.dnd = (_l = options.dnd) !== null && _l !== void 0 ? _l : this.disposables.add(DefaultOptions.dnd);\n    this.layout((_m = options.initialSize) === null || _m === void 0 ? void 0 : _m.height, (_o = options.initialSize) === null || _o === void 0 ? void 0 : _o.width);\n  }\n  return _createClass(ListView, [{\n    key: \"contentHeight\",\n    get: function get() {\n      return this.rangeMap.size;\n    }\n  }, {\n    key: \"onDidScroll\",\n    get: function get() {\n      return this.scrollableElement.onScroll;\n    }\n  }, {\n    key: \"scrollableElementDomNode\",\n    get: function get() {\n      return this.scrollableElement.getDomNode();\n    }\n  }, {\n    key: \"horizontalScrolling\",\n    get: function get() {\n      return this._horizontalScrolling;\n    },\n    set: function set(value) {\n      if (value === this._horizontalScrolling) {\n        return;\n      }\n      if (value && this.supportDynamicHeights) {\n        throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n      }\n      this._horizontalScrolling = value;\n      this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n      if (this._horizontalScrolling) {\n        var _iterator2 = _createForOfIteratorHelper(this.items),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var item = _step2.value;\n            this.measureItemWidth(item);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        this.updateScrollWidth();\n        this.scrollableElement.setScrollDimensions({\n          width: getContentWidth(this.domNode)\n        });\n        this.rowsContainer.style.width = \"\".concat(Math.max(this.scrollWidth || 0, this.renderWidth), \"px\");\n      } else {\n        this.scrollableElementWidthDelayer.cancel();\n        this.scrollableElement.setScrollDimensions({\n          width: this.renderWidth,\n          scrollWidth: this.renderWidth\n        });\n        this.rowsContainer.style.width = '';\n      }\n    }\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(options) {\n      if (options.paddingBottom !== undefined) {\n        this.paddingBottom = options.paddingBottom;\n        this.scrollableElement.setScrollDimensions({\n          scrollHeight: this.scrollHeight\n        });\n      }\n      if (options.smoothScrolling !== undefined) {\n        this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n      }\n      if (options.horizontalScrolling !== undefined) {\n        this.horizontalScrolling = options.horizontalScrolling;\n      }\n      var scrollableOptions;\n      if (options.scrollByPage !== undefined) {\n        scrollableOptions = _objectSpread(_objectSpread({}, scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), {}, {\n          scrollByPage: options.scrollByPage\n        });\n      }\n      if (options.mouseWheelScrollSensitivity !== undefined) {\n        scrollableOptions = _objectSpread(_objectSpread({}, scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), {}, {\n          mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity\n        });\n      }\n      if (options.fastScrollSensitivity !== undefined) {\n        scrollableOptions = _objectSpread(_objectSpread({}, scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), {}, {\n          fastScrollSensitivity: options.fastScrollSensitivity\n        });\n      }\n      if (scrollableOptions) {\n        this.scrollableElement.updateOptions(scrollableOptions);\n      }\n      if (options.paddingTop !== undefined && options.paddingTop !== this.rangeMap.paddingTop) {\n        // trigger a rerender\n        var lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        var offset = options.paddingTop - this.rangeMap.paddingTop;\n        this.rangeMap.paddingTop = options.paddingTop;\n        this.render(lastRenderRange, Math.max(0, this.lastRenderTop + offset), this.lastRenderHeight, undefined, undefined, true);\n        this.setScrollTop(this.lastRenderTop);\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n          this._rerender(this.lastRenderTop, this.lastRenderHeight);\n        }\n      }\n    }\n  }, {\n    key: \"createRangeMap\",\n    value: function createRangeMap(paddingTop) {\n      return new RangeMap(paddingTop);\n    }\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount) {\n      var elements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      if (this.splicing) {\n        throw new Error('Can\\'t run recursive splices.');\n      }\n      this.splicing = true;\n      try {\n        return this._splice(start, deleteCount, elements);\n      } finally {\n        this.splicing = false;\n        this._onDidChangeContentHeight.fire(this.contentHeight);\n      }\n    }\n  }, {\n    key: \"_splice\",\n    value: function _splice(start, deleteCount) {\n      var _this2 = this;\n      var elements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      var previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n      var deleteRange = {\n        start: start,\n        end: start + deleteCount\n      };\n      var removeRange = Range.intersect(previousRenderRange, deleteRange);\n      // try to reuse rows, avoid removing them from DOM\n      var rowsToDispose = new Map();\n      for (var i = removeRange.end - 1; i >= removeRange.start; i--) {\n        var item = this.items[i];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n          var rows = rowsToDispose.get(item.templateId);\n          if (!rows) {\n            rows = [];\n            rowsToDispose.set(item.templateId, rows);\n          }\n          var renderer = this.renderers.get(item.templateId);\n          if (renderer && renderer.disposeElement) {\n            renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n          }\n          rows.push(item.row);\n        }\n        item.row = null;\n        item.stale = true;\n      }\n      var previousRestRange = {\n        start: start + deleteCount,\n        end: this.items.length\n      };\n      var previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n      var previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n      var inserted = elements.map(function (element) {\n        return {\n          id: String(_this2.itemId++),\n          element: element,\n          templateId: _this2.virtualDelegate.getTemplateId(element),\n          size: _this2.virtualDelegate.getHeight(element),\n          width: undefined,\n          hasDynamicHeight: !!_this2.virtualDelegate.hasDynamicHeight && _this2.virtualDelegate.hasDynamicHeight(element),\n          lastDynamicHeightWidth: undefined,\n          row: null,\n          uri: undefined,\n          dropTarget: false,\n          dragStartDisposable: Disposable.None,\n          checkedDisposable: Disposable.None,\n          stale: false\n        };\n      });\n      var deleted;\n      // TODO@joao: improve this optimization to catch even more cases\n      if (start === 0 && deleteCount >= this.items.length) {\n        this.rangeMap = this.createRangeMap(this.rangeMap.paddingTop);\n        this.rangeMap.splice(0, 0, inserted);\n        deleted = this.items;\n        this.items = inserted;\n      } else {\n        var _this$items;\n        this.rangeMap.splice(start, deleteCount, inserted);\n        deleted = (_this$items = this.items).splice.apply(_this$items, [start, deleteCount].concat(_toConsumableArray(inserted)));\n      }\n      var delta = elements.length - deleteCount;\n      var renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n      var renderedRestRange = shift(previousRenderedRestRange, delta);\n      var updateRange = Range.intersect(renderRange, renderedRestRange);\n      for (var _i = updateRange.start; _i < updateRange.end; _i++) {\n        this.updateItemInDOM(this.items[_i], _i);\n      }\n      var removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n      var _iterator3 = _createForOfIteratorHelper(removeRanges),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var range = _step3.value;\n          for (var _i2 = range.start; _i2 < range.end; _i2++) {\n            this.removeItemFromDOM(_i2);\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      var unrenderedRestRanges = previousUnrenderedRestRanges.map(function (r) {\n        return shift(r, delta);\n      });\n      var elementsRange = {\n        start: start,\n        end: start + elements.length\n      };\n      var insertRanges = [elementsRange].concat(_toConsumableArray(unrenderedRestRanges)).map(function (r) {\n        return Range.intersect(renderRange, r);\n      }).reverse();\n      var _iterator4 = _createForOfIteratorHelper(insertRanges),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _range = _step4.value;\n          for (var _i3 = _range.end - 1; _i3 >= _range.start; _i3--) {\n            var _item = this.items[_i3];\n            var _rows = rowsToDispose.get(_item.templateId);\n            var row = _rows === null || _rows === void 0 ? void 0 : _rows.pop();\n            this.insertItemInDOM(_i3, row);\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      var _iterator5 = _createForOfIteratorHelper(rowsToDispose.values()),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var _rows2 = _step5.value;\n          var _iterator6 = _createForOfIteratorHelper(_rows2),\n            _step6;\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var _row = _step6.value;\n              this.cache.release(_row);\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      this.eventuallyUpdateScrollDimensions();\n      if (this.supportDynamicHeights) {\n        this._rerender(this.scrollTop, this.renderHeight);\n      }\n      return deleted.map(function (i) {\n        return i.element;\n      });\n    }\n  }, {\n    key: \"eventuallyUpdateScrollDimensions\",\n    value: function eventuallyUpdateScrollDimensions() {\n      var _this3 = this;\n      this._scrollHeight = this.contentHeight;\n      this.rowsContainer.style.height = \"\".concat(this._scrollHeight, \"px\");\n      if (!this.scrollableElementUpdateDisposable) {\n        this.scrollableElementUpdateDisposable = _scheduleAtNextAnimationFrame(getWindow(this.domNode), function () {\n          _this3.scrollableElement.setScrollDimensions({\n            scrollHeight: _this3.scrollHeight\n          });\n          _this3.updateScrollWidth();\n          _this3.scrollableElementUpdateDisposable = null;\n        });\n      }\n    }\n  }, {\n    key: \"eventuallyUpdateScrollWidth\",\n    value: function eventuallyUpdateScrollWidth() {\n      var _this4 = this;\n      if (!this.horizontalScrolling) {\n        this.scrollableElementWidthDelayer.cancel();\n        return;\n      }\n      this.scrollableElementWidthDelayer.trigger(function () {\n        return _this4.updateScrollWidth();\n      });\n    }\n  }, {\n    key: \"updateScrollWidth\",\n    value: function updateScrollWidth() {\n      if (!this.horizontalScrolling) {\n        return;\n      }\n      var scrollWidth = 0;\n      var _iterator7 = _createForOfIteratorHelper(this.items),\n        _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var item = _step7.value;\n          if (typeof item.width !== 'undefined') {\n            scrollWidth = Math.max(scrollWidth, item.width);\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n      this.scrollWidth = scrollWidth;\n      this.scrollableElement.setScrollDimensions({\n        scrollWidth: scrollWidth === 0 ? 0 : scrollWidth + 10\n      });\n      this._onDidChangeContentWidth.fire(this.scrollWidth);\n    }\n  }, {\n    key: \"rerender\",\n    value: function rerender() {\n      if (!this.supportDynamicHeights) {\n        return;\n      }\n      var _iterator8 = _createForOfIteratorHelper(this.items),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var item = _step8.value;\n          item.lastDynamicHeightWidth = undefined;\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n      this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.items.length;\n    }\n  }, {\n    key: \"renderHeight\",\n    get: function get() {\n      var scrollDimensions = this.scrollableElement.getScrollDimensions();\n      return scrollDimensions.height;\n    }\n  }, {\n    key: \"firstVisibleIndex\",\n    get: function get() {\n      var range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n      return range.start;\n    }\n  }, {\n    key: \"element\",\n    value: function element(index) {\n      return this.items[index].element;\n    }\n  }, {\n    key: \"indexOf\",\n    value: function indexOf(element) {\n      return this.items.findIndex(function (item) {\n        return item.element === element;\n      });\n    }\n  }, {\n    key: \"domElement\",\n    value: function domElement(index) {\n      var row = this.items[index].row;\n      return row && row.domNode;\n    }\n  }, {\n    key: \"elementHeight\",\n    value: function elementHeight(index) {\n      return this.items[index].size;\n    }\n  }, {\n    key: \"elementTop\",\n    value: function elementTop(index) {\n      return this.rangeMap.positionAt(index);\n    }\n  }, {\n    key: \"indexAt\",\n    value: function indexAt(position) {\n      return this.rangeMap.indexAt(position);\n    }\n  }, {\n    key: \"indexAfter\",\n    value: function indexAfter(position) {\n      return this.rangeMap.indexAfter(position);\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(height, width) {\n      var scrollDimensions = {\n        height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n      };\n      if (this.scrollableElementUpdateDisposable) {\n        this.scrollableElementUpdateDisposable.dispose();\n        this.scrollableElementUpdateDisposable = null;\n        scrollDimensions.scrollHeight = this.scrollHeight;\n      }\n      this.scrollableElement.setScrollDimensions(scrollDimensions);\n      if (typeof width !== 'undefined') {\n        this.renderWidth = width;\n        if (this.supportDynamicHeights) {\n          this._rerender(this.scrollTop, this.renderHeight);\n        }\n      }\n      if (this.horizontalScrolling) {\n        this.scrollableElement.setScrollDimensions({\n          width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n        });\n      }\n    }\n    // Render\n  }, {\n    key: \"render\",\n    value: function render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth) {\n      var _this5 = this;\n      var updateItemsInDOM = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n      var renderRange = this.getRenderRange(renderTop, renderHeight);\n      var rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n      var rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n      if (updateItemsInDOM) {\n        var rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n        for (var i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n          this.updateItemInDOM(this.items[i], i);\n        }\n      }\n      this.cache.transact(function () {\n        var _iterator9 = _createForOfIteratorHelper(rangesToRemove),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var range = _step9.value;\n            for (var _i4 = range.start; _i4 < range.end; _i4++) {\n              _this5.removeItemFromDOM(_i4);\n            }\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n        var _iterator10 = _createForOfIteratorHelper(rangesToInsert),\n          _step10;\n        try {\n          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n            var _range2 = _step10.value;\n            for (var _i5 = _range2.end - 1; _i5 >= _range2.start; _i5--) {\n              _this5.insertItemInDOM(_i5);\n            }\n          }\n        } catch (err) {\n          _iterator10.e(err);\n        } finally {\n          _iterator10.f();\n        }\n      });\n      if (renderLeft !== undefined) {\n        this.rowsContainer.style.left = \"-\".concat(renderLeft, \"px\");\n      }\n      this.rowsContainer.style.top = \"-\".concat(renderTop, \"px\");\n      if (this.horizontalScrolling && scrollWidth !== undefined) {\n        this.rowsContainer.style.width = \"\".concat(Math.max(scrollWidth, this.renderWidth), \"px\");\n      }\n      this.lastRenderTop = renderTop;\n      this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n  }, {\n    key: \"insertItemInDOM\",\n    value: function insertItemInDOM(index, row) {\n      var _this6 = this;\n      var _a, _b, _c;\n      var item = this.items[index];\n      if (!item.row) {\n        if (row) {\n          item.row = row;\n          item.stale = true;\n        } else {\n          var result = this.cache.alloc(item.templateId);\n          item.row = result.row;\n          item.stale || (item.stale = result.isReusingConnectedDomNode);\n        }\n      }\n      var role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n      item.row.domNode.setAttribute('role', role);\n      var checked = this.accessibilityProvider.isChecked(item.element);\n      if (typeof checked === 'boolean') {\n        item.row.domNode.setAttribute('aria-checked', String(!!checked));\n      } else if (checked) {\n        var update = function update(checked) {\n          return item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        };\n        update(checked.value);\n        item.checkedDisposable = checked.onDidChange(update);\n      }\n      if (item.stale || !item.row.domNode.parentElement) {\n        var referenceNode = (_c = (_b = (_a = this.items.at(index + 1)) === null || _a === void 0 ? void 0 : _a.row) === null || _b === void 0 ? void 0 : _b.domNode) !== null && _c !== void 0 ? _c : null;\n        this.rowsContainer.insertBefore(item.row.domNode, referenceNode);\n        item.stale = false;\n      }\n      this.updateItemInDOM(item, index);\n      var renderer = this.renderers.get(item.templateId);\n      if (!renderer) {\n        throw new Error(\"No renderer found for template id \".concat(item.templateId));\n      }\n      renderer === null || renderer === void 0 ? void 0 : renderer.renderElement(item.element, index, item.row.templateData, item.size);\n      var uri = this.dnd.getDragURI(item.element);\n      item.dragStartDisposable.dispose();\n      item.row.domNode.draggable = !!uri;\n      if (uri) {\n        item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', function (event) {\n          return _this6.onDragStart(item.element, uri, event);\n        });\n      }\n      if (this.horizontalScrolling) {\n        this.measureItemWidth(item);\n        this.eventuallyUpdateScrollWidth();\n      }\n    }\n  }, {\n    key: \"measureItemWidth\",\n    value: function measureItemWidth(item) {\n      if (!item.row || !item.row.domNode) {\n        return;\n      }\n      item.row.domNode.style.width = 'fit-content';\n      item.width = getContentWidth(item.row.domNode);\n      var style = getWindow(item.row.domNode).getComputedStyle(item.row.domNode);\n      if (style.paddingLeft) {\n        item.width += parseFloat(style.paddingLeft);\n      }\n      if (style.paddingRight) {\n        item.width += parseFloat(style.paddingRight);\n      }\n      item.row.domNode.style.width = '';\n    }\n  }, {\n    key: \"updateItemInDOM\",\n    value: function updateItemInDOM(item, index) {\n      item.row.domNode.style.top = \"\".concat(this.elementTop(index), \"px\");\n      if (this.setRowHeight) {\n        item.row.domNode.style.height = \"\".concat(item.size, \"px\");\n      }\n      if (this.setRowLineHeight) {\n        item.row.domNode.style.lineHeight = \"\".concat(item.size, \"px\");\n      }\n      item.row.domNode.setAttribute('data-index', \"\".concat(index));\n      item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n      item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n      item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n      item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n      item.row.domNode.setAttribute('id', this.getElementDomId(index));\n      item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n  }, {\n    key: \"removeItemFromDOM\",\n    value: function removeItemFromDOM(index) {\n      var item = this.items[index];\n      item.dragStartDisposable.dispose();\n      item.checkedDisposable.dispose();\n      if (item.row) {\n        var renderer = this.renderers.get(item.templateId);\n        if (renderer && renderer.disposeElement) {\n          renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n        }\n        this.cache.release(item.row);\n        item.row = null;\n      }\n      if (this.horizontalScrolling) {\n        this.eventuallyUpdateScrollWidth();\n      }\n    }\n  }, {\n    key: \"getScrollTop\",\n    value: function getScrollTop() {\n      var scrollPosition = this.scrollableElement.getScrollPosition();\n      return scrollPosition.scrollTop;\n    }\n  }, {\n    key: \"setScrollTop\",\n    value: function setScrollTop(scrollTop, reuseAnimation) {\n      if (this.scrollableElementUpdateDisposable) {\n        this.scrollableElementUpdateDisposable.dispose();\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElement.setScrollDimensions({\n          scrollHeight: this.scrollHeight\n        });\n      }\n      this.scrollableElement.setScrollPosition({\n        scrollTop: scrollTop,\n        reuseAnimation: reuseAnimation\n      });\n    }\n  }, {\n    key: \"scrollTop\",\n    get: function get() {\n      return this.getScrollTop();\n    },\n    set: function set(scrollTop) {\n      this.setScrollTop(scrollTop);\n    }\n  }, {\n    key: \"scrollHeight\",\n    get: function get() {\n      return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.paddingBottom;\n    }\n    // Events\n  }, {\n    key: \"onMouseClick\",\n    get: function get() {\n      var _this7 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, function (e) {\n        return _this7.toMouseEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onMouseDblClick\",\n    get: function get() {\n      var _this8 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, function (e) {\n        return _this8.toMouseEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onMouseMiddleClick\",\n    get: function get() {\n      var _this9 = this;\n      return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, function (e) {\n        return _this9.toMouseEvent(e);\n      }, this.disposables), function (e) {\n        return e.browserEvent.button === 1;\n      }, this.disposables);\n    }\n  }, {\n    key: \"onMouseDown\",\n    get: function get() {\n      var _this10 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, function (e) {\n        return _this10.toMouseEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onMouseOver\",\n    get: function get() {\n      var _this11 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, function (e) {\n        return _this11.toMouseEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onMouseOut\",\n    get: function get() {\n      var _this12 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, function (e) {\n        return _this12.toMouseEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onContextMenu\",\n    get: function get() {\n      var _this13 = this;\n      return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, function (e) {\n        return _this13.toMouseEvent(e);\n      }, this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, function (e) {\n        return _this13.toGestureEvent(e);\n      }, this.disposables));\n    }\n  }, {\n    key: \"onTouchStart\",\n    get: function get() {\n      var _this14 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, function (e) {\n        return _this14.toTouchEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onTap\",\n    get: function get() {\n      var _this15 = this;\n      return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, function (e) {\n        return _this15.toGestureEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"toMouseEvent\",\n    value: function toMouseEvent(browserEvent) {\n      var index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n      var item = typeof index === 'undefined' ? undefined : this.items[index];\n      var element = item && item.element;\n      return {\n        browserEvent: browserEvent,\n        index: index,\n        element: element\n      };\n    }\n  }, {\n    key: \"toTouchEvent\",\n    value: function toTouchEvent(browserEvent) {\n      var index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n      var item = typeof index === 'undefined' ? undefined : this.items[index];\n      var element = item && item.element;\n      return {\n        browserEvent: browserEvent,\n        index: index,\n        element: element\n      };\n    }\n  }, {\n    key: \"toGestureEvent\",\n    value: function toGestureEvent(browserEvent) {\n      var index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n      var item = typeof index === 'undefined' ? undefined : this.items[index];\n      var element = item && item.element;\n      return {\n        browserEvent: browserEvent,\n        index: index,\n        element: element\n      };\n    }\n  }, {\n    key: \"toDragEvent\",\n    value: function toDragEvent(browserEvent) {\n      var index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n      var item = typeof index === 'undefined' ? undefined : this.items[index];\n      var element = item && item.element;\n      var sector = this.getTargetSector(browserEvent, index);\n      return {\n        browserEvent: browserEvent,\n        index: index,\n        element: element,\n        sector: sector\n      };\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(e) {\n      try {\n        var previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n        if (this.supportDynamicHeights) {\n          this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n        }\n      } catch (err) {\n        console.error('Got bad scroll event:', e);\n        throw err;\n      }\n    }\n  }, {\n    key: \"onTouchChange\",\n    value: function onTouchChange(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.scrollTop -= event.translationY;\n    }\n    // DND\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(element, uri, event) {\n      var _this16 = this;\n      var _a, _b;\n      if (!event.dataTransfer) {\n        return;\n      }\n      var elements = this.dnd.getDragElements(element);\n      event.dataTransfer.effectAllowed = 'copyMove';\n      event.dataTransfer.setData(DataTransfers.TEXT, uri);\n      if (event.dataTransfer.setDragImage) {\n        var label;\n        if (this.dnd.getDragLabel) {\n          label = this.dnd.getDragLabel(elements, event);\n        }\n        if (typeof label === 'undefined') {\n          label = String(elements.length);\n        }\n        var dragImage = $('.monaco-drag-image');\n        dragImage.textContent = label;\n        var getDragImageContainer = function getDragImageContainer(e) {\n          while (e && !e.classList.contains('monaco-workbench')) {\n            e = e.parentElement;\n          }\n          return e || _this16.domNode.ownerDocument;\n        };\n        var container = getDragImageContainer(this.domNode);\n        container.appendChild(dragImage);\n        event.dataTransfer.setDragImage(dragImage, -10, -10);\n        setTimeout(function () {\n          return container.removeChild(dragImage);\n        }, 0);\n      }\n      this.domNode.classList.add('dragging');\n      this.currentDragData = new ElementsDragAndDropData(elements);\n      StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n      (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event);\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      var _this17 = this;\n      var _a, _b;\n      event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n      this.onDragLeaveTimeout.dispose();\n      if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n        return false;\n      }\n      this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n      if (!event.browserEvent.dataTransfer) {\n        return false;\n      }\n      // Drag over from outside\n      if (!this.currentDragData) {\n        if (StaticDND.CurrentDragAndDropData) {\n          // Drag over from another list\n          this.currentDragData = StaticDND.CurrentDragAndDropData;\n        } else {\n          // Drag over from the desktop\n          if (!event.browserEvent.dataTransfer.types) {\n            return false;\n          }\n          this.currentDragData = new NativeDragAndDropData();\n        }\n      }\n      var result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.sector, event.browserEvent);\n      this.canDrop = typeof result === 'boolean' ? result : result.accept;\n      if (!this.canDrop) {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        return false;\n      }\n      event.browserEvent.dataTransfer.dropEffect = typeof result !== 'boolean' && ((_a = result.effect) === null || _a === void 0 ? void 0 : _a.type) === 0 /* ListDragOverEffectType.Copy */ ? 'copy' : 'move';\n      var feedback;\n      if (typeof result !== 'boolean' && result.feedback) {\n        feedback = result.feedback;\n      } else {\n        if (typeof event.index === 'undefined') {\n          feedback = [-1];\n        } else {\n          feedback = [event.index];\n        }\n      }\n      // sanitize feedback list\n      feedback = distinct(feedback).filter(function (i) {\n        return i >= -1 && i < _this17.length;\n      }).sort(function (a, b) {\n        return a - b;\n      });\n      feedback = feedback[0] === -1 ? [-1] : feedback;\n      var dragOverEffectPosition = typeof result !== 'boolean' && result.effect && result.effect.position ? result.effect.position : \"drop-target\" /* ListDragOverEffectPosition.Over */;\n      if (equalsDragFeedback(this.currentDragFeedback, feedback) && this.currentDragFeedbackPosition === dragOverEffectPosition) {\n        return true;\n      }\n      this.currentDragFeedback = feedback;\n      this.currentDragFeedbackPosition = dragOverEffectPosition;\n      this.currentDragFeedbackDisposable.dispose();\n      if (feedback[0] === -1) {\n        // entire list feedback\n        this.domNode.classList.add(dragOverEffectPosition);\n        this.rowsContainer.classList.add(dragOverEffectPosition);\n        this.currentDragFeedbackDisposable = toDisposable(function () {\n          _this17.domNode.classList.remove(dragOverEffectPosition);\n          _this17.rowsContainer.classList.remove(dragOverEffectPosition);\n        });\n      } else {\n        if (feedback.length > 1 && dragOverEffectPosition !== \"drop-target\" /* ListDragOverEffectPosition.Over */) {\n          throw new Error('Can\\'t use multiple feedbacks with position different than \\'over\\'');\n        }\n        // Make sure there is no flicker when moving between two items\n        // Always use the before feedback if possible\n        if (dragOverEffectPosition === \"drop-target-after\" /* ListDragOverEffectPosition.After */) {\n          if (feedback[0] < this.length - 1) {\n            feedback[0] += 1;\n            dragOverEffectPosition = \"drop-target-before\" /* ListDragOverEffectPosition.Before */;\n          }\n        }\n        var _iterator11 = _createForOfIteratorHelper(feedback),\n          _step11;\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var index = _step11.value;\n            var item = this.items[index];\n            item.dropTarget = true;\n            (_b = item.row) === null || _b === void 0 ? void 0 : _b.domNode.classList.add(dragOverEffectPosition);\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n        this.currentDragFeedbackDisposable = toDisposable(function () {\n          var _a;\n          var _iterator12 = _createForOfIteratorHelper(feedback),\n            _step12;\n          try {\n            for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n              var index = _step12.value;\n              var item = _this17.items[index];\n              item.dropTarget = false;\n              (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.remove(dragOverEffectPosition);\n            }\n          } catch (err) {\n            _iterator12.e(err);\n          } finally {\n            _iterator12.f();\n          }\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      var _this18 = this;\n      var _a, _b;\n      this.onDragLeaveTimeout.dispose();\n      this.onDragLeaveTimeout = disposableTimeout(function () {\n        return _this18.clearDragOverFeedback();\n      }, 100, this.disposables);\n      if (this.currentDragData) {\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n      }\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (!this.canDrop) {\n        return;\n      }\n      var dragData = this.currentDragData;\n      this.teardownDragAndDropScrollTopAnimation();\n      this.clearDragOverFeedback();\n      this.domNode.classList.remove('dragging');\n      this.currentDragData = undefined;\n      StaticDND.CurrentDragAndDropData = undefined;\n      if (!dragData || !event.browserEvent.dataTransfer) {\n        return;\n      }\n      event.browserEvent.preventDefault();\n      dragData.update(event.browserEvent.dataTransfer);\n      this.dnd.drop(dragData, event.element, event.index, event.sector, event.browserEvent);\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(event) {\n      var _a, _b;\n      this.canDrop = false;\n      this.teardownDragAndDropScrollTopAnimation();\n      this.clearDragOverFeedback();\n      this.domNode.classList.remove('dragging');\n      this.currentDragData = undefined;\n      StaticDND.CurrentDragAndDropData = undefined;\n      (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    }\n  }, {\n    key: \"clearDragOverFeedback\",\n    value: function clearDragOverFeedback() {\n      this.currentDragFeedback = undefined;\n      this.currentDragFeedbackPosition = undefined;\n      this.currentDragFeedbackDisposable.dispose();\n      this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n  }, {\n    key: \"setupDragAndDropScrollTopAnimation\",\n    value: function setupDragAndDropScrollTopAnimation(event) {\n      var _this19 = this;\n      if (!this.dragOverAnimationDisposable) {\n        var viewTop = getTopLeftOffset(this.domNode).top;\n        this.dragOverAnimationDisposable = animate(getWindow(this.domNode), this.animateDragAndDropScrollTop.bind(this, viewTop));\n      }\n      this.dragOverAnimationStopDisposable.dispose();\n      this.dragOverAnimationStopDisposable = disposableTimeout(function () {\n        if (_this19.dragOverAnimationDisposable) {\n          _this19.dragOverAnimationDisposable.dispose();\n          _this19.dragOverAnimationDisposable = undefined;\n        }\n      }, 1000, this.disposables);\n      this.dragOverMouseY = event.pageY;\n    }\n  }, {\n    key: \"animateDragAndDropScrollTop\",\n    value: function animateDragAndDropScrollTop(viewTop) {\n      if (this.dragOverMouseY === undefined) {\n        return;\n      }\n      var diff = this.dragOverMouseY - viewTop;\n      var upperLimit = this.renderHeight - 35;\n      if (diff < 35) {\n        this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n      } else if (diff > upperLimit) {\n        this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n      }\n    }\n  }, {\n    key: \"teardownDragAndDropScrollTopAnimation\",\n    value: function teardownDragAndDropScrollTopAnimation() {\n      this.dragOverAnimationStopDisposable.dispose();\n      if (this.dragOverAnimationDisposable) {\n        this.dragOverAnimationDisposable.dispose();\n        this.dragOverAnimationDisposable = undefined;\n      }\n    }\n    // Util\n  }, {\n    key: \"getTargetSector\",\n    value: function getTargetSector(browserEvent, targetIndex) {\n      if (targetIndex === undefined) {\n        return undefined;\n      }\n      var relativePosition = browserEvent.offsetY / this.items[targetIndex].size;\n      var sector = Math.floor(relativePosition / 0.25);\n      return clamp(sector, 0, 3);\n    }\n  }, {\n    key: \"getItemIndexFromEventTarget\",\n    value: function getItemIndexFromEventTarget(target) {\n      var scrollableElement = this.scrollableElement.getDomNode();\n      var element = target;\n      while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n        var rawIndex = element.getAttribute('data-index');\n        if (rawIndex) {\n          var index = Number(rawIndex);\n          if (!isNaN(index)) {\n            return index;\n          }\n        }\n        element = element.parentElement;\n      }\n      return undefined;\n    }\n  }, {\n    key: \"getRenderRange\",\n    value: function getRenderRange(renderTop, renderHeight) {\n      return {\n        start: this.rangeMap.indexAt(renderTop),\n        end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n      };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n  }, {\n    key: \"_rerender\",\n    value: function _rerender(renderTop, renderHeight, inSmoothScrolling) {\n      var previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n      // Let's remember the second element's position, this helps in scrolling up\n      // and preserving a linear upwards scroll movement\n      var anchorElementIndex;\n      var anchorElementTopDelta;\n      if (renderTop === this.elementTop(previousRenderRange.start)) {\n        anchorElementIndex = previousRenderRange.start;\n        anchorElementTopDelta = 0;\n      } else if (previousRenderRange.end - previousRenderRange.start > 1) {\n        anchorElementIndex = previousRenderRange.start + 1;\n        anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n      }\n      var heightDiff = 0;\n      while (true) {\n        var renderRange = this.getRenderRange(renderTop, renderHeight);\n        var didChange = false;\n        for (var i = renderRange.start; i < renderRange.end; i++) {\n          var diff = this.probeDynamicHeight(i);\n          if (diff !== 0) {\n            this.rangeMap.splice(i, 1, [this.items[i]]);\n          }\n          heightDiff += diff;\n          didChange = didChange || diff !== 0;\n        }\n        if (!didChange) {\n          if (heightDiff !== 0) {\n            this.eventuallyUpdateScrollDimensions();\n          }\n          var unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n          var _iterator13 = _createForOfIteratorHelper(unrenderRanges),\n            _step13;\n          try {\n            for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n              var range = _step13.value;\n              for (var _i7 = range.start; _i7 < range.end; _i7++) {\n                if (this.items[_i7].row) {\n                  this.removeItemFromDOM(_i7);\n                }\n              }\n            }\n          } catch (err) {\n            _iterator13.e(err);\n          } finally {\n            _iterator13.f();\n          }\n          var renderRanges = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n          var _iterator14 = _createForOfIteratorHelper(renderRanges),\n            _step14;\n          try {\n            for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n              var _range3 = _step14.value;\n              for (var _i8 = _range3.end - 1; _i8 >= _range3.start; _i8--) {\n                this.insertItemInDOM(_i8);\n              }\n            }\n          } catch (err) {\n            _iterator14.e(err);\n          } finally {\n            _iterator14.f();\n          }\n          for (var _i6 = renderRange.start; _i6 < renderRange.end; _i6++) {\n            if (this.items[_i6].row) {\n              this.updateItemInDOM(this.items[_i6], _i6);\n            }\n          }\n          if (typeof anchorElementIndex === 'number') {\n            // To compute a destination scroll top, we need to take into account the current smooth scrolling\n            // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n            // See https://github.com/microsoft/vscode/issues/104144\n            // See https://github.com/microsoft/vscode/pull/104284\n            // See https://github.com/microsoft/vscode/issues/107704\n            var deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n            var newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n            this.setScrollTop(newScrollTop, inSmoothScrolling);\n          }\n          this._onDidChangeContentHeight.fire(this.contentHeight);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"probeDynamicHeight\",\n    value: function probeDynamicHeight(index) {\n      var _a, _b, _c;\n      var item = this.items[index];\n      if (!!this.virtualDelegate.getDynamicHeight) {\n        var newSize = this.virtualDelegate.getDynamicHeight(item.element);\n        if (newSize !== null) {\n          var _size = item.size;\n          item.size = newSize;\n          item.lastDynamicHeightWidth = this.renderWidth;\n          return newSize - _size;\n        }\n      }\n      if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n        return 0;\n      }\n      if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n        return 0;\n      }\n      var size = item.size;\n      if (item.row) {\n        item.row.domNode.style.height = '';\n        item.size = item.row.domNode.offsetHeight;\n        if (item.size === 0 && !isAncestor(item.row.domNode, getWindow(item.row.domNode).document.body)) {\n          console.warn('Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!');\n        }\n        item.lastDynamicHeightWidth = this.renderWidth;\n        return item.size - size;\n      }\n      var _this$cache$alloc = this.cache.alloc(item.templateId),\n        row = _this$cache$alloc.row;\n      row.domNode.style.height = '';\n      this.rowsContainer.appendChild(row.domNode);\n      var renderer = this.renderers.get(item.templateId);\n      if (!renderer) {\n        throw new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n      }\n      renderer.renderElement(item.element, index, row.templateData, undefined);\n      item.size = row.domNode.offsetHeight;\n      (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, index, row.templateData, undefined);\n      (_c = (_b = this.virtualDelegate).setDynamicHeight) === null || _c === void 0 ? void 0 : _c.call(_b, item.element, item.size);\n      item.lastDynamicHeightWidth = this.renderWidth;\n      this.rowsContainer.removeChild(row.domNode);\n      this.cache.release(row);\n      return item.size - size;\n    }\n  }, {\n    key: \"getElementDomId\",\n    value: function getElementDomId(index) {\n      return \"\".concat(this.domId, \"_\").concat(index);\n    }\n    // Dispose\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _a, _b;\n      var _iterator15 = _createForOfIteratorHelper(this.items),\n        _step15;\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var item = _step15.value;\n          item.dragStartDisposable.dispose();\n          item.checkedDisposable.dispose();\n          if (item.row) {\n            var renderer = this.renderers.get(item.row.templateId);\n            if (renderer) {\n              (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, -1, item.row.templateData, undefined);\n              renderer.disposeTemplate(item.row.templateData);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n      this.items = [];\n      if (this.domNode && this.domNode.parentNode) {\n        this.domNode.parentNode.removeChild(this.domNode);\n      }\n      (_b = this.dragOverAnimationDisposable) === null || _b === void 0 ? void 0 : _b.dispose();\n      this.disposables.dispose();\n    }\n  }]);\n}();\nListView.InstanceCount = 0;\n__decorate([memoize], ListView.prototype, \"onMouseClick\", null);\n__decorate([memoize], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([memoize], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([memoize], ListView.prototype, \"onMouseDown\", null);\n__decorate([memoize], ListView.prototype, \"onMouseOver\", null);\n__decorate([memoize], ListView.prototype, \"onMouseOut\", null);\n__decorate([memoize], ListView.prototype, \"onContextMenu\", null);\n__decorate([memoize], ListView.prototype, \"onTouchStart\", null);\n__decorate([memoize], ListView.prototype, \"onTap\", null);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","DataTransfers","$","addDisposableListener","animate","getContentHeight","getContentWidth","getTopLeftOffset","getWindow","isAncestor","scheduleAtNextAnimationFrame","DomEmitter","EventType","TouchEventType","Gesture","SmoothScrollableElement","distinct","equals","Delayer","disposableTimeout","memoize","Emitter","Event","Disposable","DisposableStore","toDisposable","Range","Scrollable","RangeMap","shift","RowCache","BugIndicatingError","clamp","StaticDND","CurrentDragAndDropData","undefined","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","e","getDragURI","onDragStart","onDragOver","drop","dispose","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","elements","_classCallCheck","_createClass","value","update","getData","ExternalElementsDragAndDropData","NativeDragAndDropData","types","files","dataTransfer","_this$types","splice","apply","concat","_toConsumableArray","file","item","size","type","push","equalsDragFeedback","f1","f2","Array","isArray","ListViewAccessibilityProvider","accessibilityProvider","getSetSize","bind","l","getPosInSet","getRole","_","isChecked","ListView","container","virtualDelegate","renderers","_this","options","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","domId","InstanceCount","Map","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","splicing","dragOverAnimationStopDisposable","None","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","disposables","_onDidChangeContentHeight","_onDidChangeContentWidth","onDidChangeContentHeight","latch","event","_horizontalScrolling","Error","items","itemId","rangeMap","createRangeMap","paddingTop","_iterator","_createForOfIteratorHelper","_step","s","n","done","renderer","set","templateId","err","f","cache","add","lastRenderTop","lastRenderHeight","domNode","document","createElement","className","classList","tabIndex","toggle","mouseSupport","paddingBottom","rowsContainer","style","transform","overflow","contain","addTarget","scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","cb","scrollableElement","horizontal","vertical","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollByPage","appendChild","getDomNode","onScroll","Change","onTouchChange","scrollTop","toDragEvent","onDrop","onDragLeave","onDragEnd","layout","initialSize","height","width","get","_iterator2","_step2","measureItemWidth","updateScrollWidth","setScrollDimensions","Math","max","scrollWidth","cancel","updateOptions","scrollHeight","setSmoothScrollDuration","scrollableOptions","_objectSpread","lastRenderRange","getRenderRange","offset","render","setScrollTop","eventuallyUpdateScrollDimensions","_rerender","start","deleteCount","_splice","fire","contentHeight","_this2","previousRenderRange","deleteRange","end","removeRange","intersect","rowsToDispose","dragStartDisposable","checkedDisposable","row","rows","disposeElement","element","templateData","stale","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","relativeComplement","inserted","map","id","String","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","uri","dropTarget","deleted","_this$items","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","_iterator3","_step3","range","removeItemFromDOM","unrenderedRestRanges","elementsRange","insertRanges","reverse","_iterator4","_step4","pop","insertItemInDOM","_iterator5","values","_step5","_iterator6","_step6","release","renderHeight","_this3","eventuallyUpdateScrollWidth","_this4","trigger","_iterator7","_step7","rerender","_iterator8","_step8","scrollDimensions","getScrollDimensions","index","indexOf","findIndex","domElement","elementHeight","elementTop","positionAt","indexAt","position","indexAfter","renderTop","renderLeft","_this5","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","transact","_iterator9","_step9","_iterator10","_step10","left","top","_this6","result","alloc","isReusingConnectedDomNode","role","setAttribute","checked","onDidChange","parentElement","referenceNode","at","insertBefore","renderElement","draggable","getComputedStyle","paddingLeft","parseFloat","paddingRight","lineHeight","getElementDomId","getScrollTop","scrollPosition","getScrollPosition","reuseAnimation","setScrollPosition","_this7","toMouseEvent","_this8","_this9","filter","browserEvent","button","_this10","_this11","_this12","_this13","any","Contextmenu","toGestureEvent","_this14","toTouchEvent","_this15","Tap","getItemIndexFromEventTarget","initialTarget","sector","getTargetSector","scrollLeft","inSmoothScrolling","console","error","preventDefault","stopPropagation","translationY","_this16","effectAllowed","setData","TEXT","setDragImage","label","getDragLabel","dragImage","textContent","getDragImageContainer","contains","ownerDocument","setTimeout","removeChild","currentDragData","call","_this17","setupDragAndDropScrollTopAnimation","accept","currentDragFeedback","dropEffect","effect","feedback","sort","a","b","dragOverEffectPosition","currentDragFeedbackPosition","remove","_iterator11","_step11","_iterator12","_step12","_this18","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","_this19","dragOverAnimationDisposable","viewTop","animateDragAndDropScrollTop","pageY","diff","upperLimit","floor","min","targetIndex","relativePosition","offsetY","HTMLElement","rawIndex","getAttribute","Number","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","unrenderRanges","_iterator13","_step13","renderRanges","_iterator14","_step14","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","newSize","offsetHeight","body","warn","_this$cache$alloc","setDynamicHeight","_iterator15","_step15","disposeTemplate","parentNode","prototype"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, getWindow, isAncestor, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nimport { clamp } from '../../../common/numbers.js';\nconst StaticDND = {\n    CurrentDragAndDropData: undefined\n};\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* ScrollbarVisibility.Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { },\n        dispose() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView {\n    get contentHeight() { return this.rangeMap.size; }\n    get onDidScroll() { return this.scrollableElement.onScroll; }\n    get scrollableElementDomNode() { return this.scrollableElement.getDomNode(); }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._onDidChangeContentWidth = new Emitter();\n        this.onDidChangeContentHeight = Event.latch(this._onDidChangeContentHeight.event, undefined, this.disposables);\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = this.createRangeMap((_a = options.paddingTop) !== null && _a !== void 0 ? _a : 0);\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = (_b = options.horizontalScrolling) !== null && _b !== void 0 ? _b : DefaultOptions.horizontalScrolling;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.paddingBottom = typeof options.paddingBottom === 'undefined' ? 0 : options.paddingBottom;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = (_c = options.transformOptimization) !== null && _c !== void 0 ? _c : DefaultOptions.transformOptimization;\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n            this.rowsContainer.style.overflow = 'hidden';\n            this.rowsContainer.style.contain = 'strict';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = this.disposables.add(new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: ((_d = options.smoothScrolling) !== null && _d !== void 0 ? _d : false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(getWindow(this.domNode), cb)\n        }));\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: (_e = options.alwaysConsumeMouseWheel) !== null && _e !== void 0 ? _e : DefaultOptions.alwaysConsumeMouseWheel,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: (_f = options.verticalScrollMode) !== null && _f !== void 0 ? _f : DefaultOptions.verticalScrollMode,\n            useShadows: (_g = options.useShadows) !== null && _g !== void 0 ? _g : DefaultOptions.useShadows,\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity,\n            scrollByPage: options.scrollByPage\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = (_h = options.setRowLineHeight) !== null && _h !== void 0 ? _h : DefaultOptions.setRowLineHeight;\n        this.setRowHeight = (_j = options.setRowHeight) !== null && _j !== void 0 ? _j : DefaultOptions.setRowHeight;\n        this.supportDynamicHeights = (_k = options.supportDynamicHeights) !== null && _k !== void 0 ? _k : DefaultOptions.supportDynamicHeights;\n        this.dnd = (_l = options.dnd) !== null && _l !== void 0 ? _l : this.disposables.add(DefaultOptions.dnd);\n        this.layout((_m = options.initialSize) === null || _m === void 0 ? void 0 : _m.height, (_o = options.initialSize) === null || _o === void 0 ? void 0 : _o.width);\n    }\n    updateOptions(options) {\n        if (options.paddingBottom !== undefined) {\n            this.paddingBottom = options.paddingBottom;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        let scrollableOptions;\n        if (options.scrollByPage !== undefined) {\n            scrollableOptions = { ...(scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), scrollByPage: options.scrollByPage };\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            scrollableOptions = { ...(scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity };\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            scrollableOptions = { ...(scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {}), fastScrollSensitivity: options.fastScrollSensitivity };\n        }\n        if (scrollableOptions) {\n            this.scrollableElement.updateOptions(scrollableOptions);\n        }\n        if (options.paddingTop !== undefined && options.paddingTop !== this.rangeMap.paddingTop) {\n            // trigger a rerender\n            const lastRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            const offset = options.paddingTop - this.rangeMap.paddingTop;\n            this.rangeMap.paddingTop = options.paddingTop;\n            this.render(lastRenderRange, Math.max(0, this.lastRenderTop + offset), this.lastRenderHeight, undefined, undefined, true);\n            this.setScrollTop(this.lastRenderTop);\n            this.eventuallyUpdateScrollDimensions();\n            if (this.supportDynamicHeights) {\n                this._rerender(this.lastRenderTop, this.lastRenderHeight);\n            }\n        }\n    }\n    createRangeMap(paddingTop) {\n        return new RangeMap(paddingTop);\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            item.checkedDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n            item.stale = true;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None,\n            checkedDisposable: Disposable.None,\n            stale: false\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = this.createRangeMap(this.rangeMap.paddingTop);\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r)).reverse();\n        for (const range of insertRanges) {\n            for (let i = range.end - 1; i >= range.start; i--) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(getWindow(this.domNode), () => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n        this._onDidChangeContentWidth.fire(this.scrollWidth);\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    get firstVisibleIndex() {\n        const range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        return range.start;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    indexOf(element) {\n        return this.items.findIndex(item => item.element === element);\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        const scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        this.cache.transact(() => {\n            for (const range of rangesToRemove) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.removeItemFromDOM(i);\n                }\n            }\n            for (const range of rangesToInsert) {\n                for (let i = range.end - 1; i >= range.start; i--) {\n                    this.insertItemInDOM(i);\n                }\n            }\n        });\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, row) {\n        var _a, _b, _c;\n        const item = this.items[index];\n        if (!item.row) {\n            if (row) {\n                item.row = row;\n                item.stale = true;\n            }\n            else {\n                const result = this.cache.alloc(item.templateId);\n                item.row = result.row;\n                item.stale || (item.stale = result.isReusingConnectedDomNode);\n            }\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked === 'boolean') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        else if (checked) {\n            const update = (checked) => item.row.domNode.setAttribute('aria-checked', String(!!checked));\n            update(checked.value);\n            item.checkedDisposable = checked.onDidChange(update);\n        }\n        if (item.stale || !item.row.domNode.parentElement) {\n            const referenceNode = (_c = (_b = (_a = this.items.at(index + 1)) === null || _a === void 0 ? void 0 : _a.row) === null || _b === void 0 ? void 0 : _b.domNode) !== null && _c !== void 0 ? _c : null;\n            this.rowsContainer.insertBefore(item.row.domNode, referenceNode);\n            item.stale = false;\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        renderer === null || renderer === void 0 ? void 0 : renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = getWindow(item.row.domNode).getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.paddingBottom;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOver() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOut() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e), this.disposables)); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e), this.disposables); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        const sector = this.getTargetSector(browserEvent, index);\n        return { browserEvent, index, element, sector };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        var _a, _b;\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            const getDragImageContainer = (e) => {\n                while (e && !e.classList.contains('monaco-workbench')) {\n                    e = e.parentElement;\n                }\n                return e || this.domNode.ownerDocument;\n            };\n            const container = getDragImageContainer(this.domNode);\n            container.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => container.removeChild(dragImage), 0);\n        }\n        this.domNode.classList.add('dragging');\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event);\n    }\n    onDragOver(event) {\n        var _a, _b;\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.sector, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && ((_a = result.effect) === null || _a === void 0 ? void 0 : _a.type) === 0 /* ListDragOverEffectType.Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        let dragOverEffectPosition = typeof result !== 'boolean' && result.effect && result.effect.position ? result.effect.position : \"drop-target\" /* ListDragOverEffectPosition.Over */;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback) && this.currentDragFeedbackPosition === dragOverEffectPosition) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackPosition = dragOverEffectPosition;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add(dragOverEffectPosition);\n            this.rowsContainer.classList.add(dragOverEffectPosition);\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove(dragOverEffectPosition);\n                this.rowsContainer.classList.remove(dragOverEffectPosition);\n            });\n        }\n        else {\n            if (feedback.length > 1 && dragOverEffectPosition !== \"drop-target\" /* ListDragOverEffectPosition.Over */) {\n                throw new Error('Can\\'t use multiple feedbacks with position different than \\'over\\'');\n            }\n            // Make sure there is no flicker when moving between two items\n            // Always use the before feedback if possible\n            if (dragOverEffectPosition === \"drop-target-after\" /* ListDragOverEffectPosition.After */) {\n                if (feedback[0] < this.length - 1) {\n                    feedback[0] += 1;\n                    dragOverEffectPosition = \"drop-target-before\" /* ListDragOverEffectPosition.Before */;\n                }\n            }\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                (_b = item.row) === null || _b === void 0 ? void 0 : _b.domNode.classList.add(dragOverEffectPosition);\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                var _a;\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.remove(dragOverEffectPosition);\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100, this.disposables);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.sector, event.browserEvent);\n    }\n    onDragEnd(event) {\n        var _a, _b;\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackPosition = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(getWindow(this.domNode), this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000, this.disposables);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getTargetSector(browserEvent, targetIndex) {\n        if (targetIndex === undefined) {\n            return undefined;\n        }\n        const relativePosition = browserEvent.offsetY / this.items[targetIndex].size;\n        const sector = Math.floor(relativePosition / 0.25);\n        return clamp(sector, 0, 3);\n    }\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange).reverse();\n                for (const range of renderRanges) {\n                    for (let i = range.end - 1; i >= range.start; i--) {\n                        this.insertItemInDOM(i);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        var _a, _b, _c;\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (item.row) {\n            item.row.domNode.style.height = '';\n            item.size = item.row.domNode.offsetHeight;\n            if (item.size === 0 && !isAncestor(item.row.domNode, getWindow(item.row.domNode).document.body)) {\n                console.warn('Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!');\n            }\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return item.size - size;\n        }\n        const { row } = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n        }\n        renderer.renderElement(item.element, index, row.templateData, undefined);\n        item.size = row.domNode.offsetHeight;\n        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, index, row.templateData, undefined);\n        (_c = (_b = this.virtualDelegate).setDynamicHeight) === null || _c === void 0 ? void 0 : _c.call(_b, item.element, item.size);\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        var _a, _b;\n        for (const item of this.items) {\n            item.dragStartDisposable.dispose();\n            item.checkedDisposable.dispose();\n            if (item.row) {\n                const renderer = this.renderers.get(item.row.templateId);\n                if (renderer) {\n                    (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, -1, item.row.templateData, undefined);\n                    renderer.disposeTemplate(item.row.templateData);\n                }\n            }\n        }\n        this.items = [];\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        (_b = this.dragOverAnimationDisposable) === null || _b === void 0 ? void 0 : _b.dispose();\n        this.disposables.dispose();\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOver\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOut\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}