{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _callSuper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport var TreeElement = /*#__PURE__*/function () {\n  function TreeElement() {\n    _classCallCheck(this, TreeElement);\n  }\n  return _createClass(TreeElement, [{\n    key: \"remove\",\n    value: function remove() {\n      var _a;\n      (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children[\"delete\"](this.id);\n    }\n  }], [{\n    key: \"findId\",\n    value: function findId(candidate, container) {\n      // complex id-computation which contains the origin/extension,\n      // the parent path, and some dedupe logic when names collide\n      var candidateId;\n      if (typeof candidate === 'string') {\n        candidateId = \"\".concat(container.id, \"/\").concat(candidate);\n      } else {\n        candidateId = \"\".concat(container.id, \"/\").concat(candidate.name);\n        if (container.children.get(candidateId) !== undefined) {\n          candidateId = \"\".concat(container.id, \"/\").concat(candidate.name, \"_\").concat(candidate.range.startLineNumber, \"_\").concat(candidate.range.startColumn);\n        }\n      }\n      var id = candidateId;\n      for (var i = 0; container.children.get(id) !== undefined; i++) {\n        id = \"\".concat(candidateId, \"_\").concat(i);\n      }\n      return id;\n    }\n  }, {\n    key: \"empty\",\n    value: function empty(element) {\n      return element.children.size === 0;\n    }\n  }]);\n}();\nexport var OutlineElement = /*#__PURE__*/function (_TreeElement) {\n  function OutlineElement(id, parent, symbol) {\n    var _this;\n    _classCallCheck(this, OutlineElement);\n    _this = _callSuper(this, OutlineElement);\n    _this.id = id;\n    _this.parent = parent;\n    _this.symbol = symbol;\n    _this.children = new Map();\n    return _this;\n  }\n  _inherits(OutlineElement, _TreeElement);\n  return _createClass(OutlineElement);\n}(TreeElement);\nexport var OutlineGroup = /*#__PURE__*/function (_TreeElement2) {\n  function OutlineGroup(id, parent, label, order) {\n    var _this2;\n    _classCallCheck(this, OutlineGroup);\n    _this2 = _callSuper(this, OutlineGroup);\n    _this2.id = id;\n    _this2.parent = parent;\n    _this2.label = label;\n    _this2.order = order;\n    _this2.children = new Map();\n    return _this2;\n  }\n  _inherits(OutlineGroup, _TreeElement2);\n  return _createClass(OutlineGroup);\n}(TreeElement);\nexport var OutlineModel = /*#__PURE__*/function (_TreeElement3) {\n  function OutlineModel(uri) {\n    var _this3;\n    _classCallCheck(this, OutlineModel);\n    _this3 = _callSuper(this, OutlineModel);\n    _this3.uri = uri;\n    _this3.id = 'root';\n    _this3.parent = undefined;\n    _this3._groups = new Map();\n    _this3.children = new Map();\n    _this3.id = 'root';\n    _this3.parent = undefined;\n    return _this3;\n  }\n  _inherits(OutlineModel, _TreeElement3);\n  return _createClass(OutlineModel, [{\n    key: \"_compact\",\n    value: function _compact() {\n      var count = 0;\n      var _iterator = _createForOfIteratorHelper(this._groups),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            _group = _step$value[1];\n          if (_group.children.size === 0) {\n            // empty\n            this._groups[\"delete\"](key);\n          } else {\n            count += 1;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      if (count !== 1) {\n        //\n        this.children = this._groups;\n      } else {\n        // adopt all elements of the first group\n        var group = Iterable.first(this._groups.values());\n        var _iterator2 = _createForOfIteratorHelper(group.children),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _step2$value = _slicedToArray(_step2.value, 2),\n              child = _step2$value[1];\n            child.parent = this;\n            this.children.set(child.id, child);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"getTopLevelSymbols\",\n    value: function getTopLevelSymbols() {\n      var roots = [];\n      var _iterator3 = _createForOfIteratorHelper(this.children.values()),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var child = _step3.value;\n          if (child instanceof OutlineElement) {\n            roots.push(child.symbol);\n          } else {\n            roots.push.apply(roots, _toConsumableArray(Iterable.map(child.children.values(), function (child) {\n              return child.symbol;\n            })));\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      return roots.sort(function (a, b) {\n        return Range.compareRangesUsingStarts(a.range, b.range);\n      });\n    }\n  }, {\n    key: \"asListOfDocumentSymbols\",\n    value: function asListOfDocumentSymbols() {\n      var roots = this.getTopLevelSymbols();\n      var bucket = [];\n      OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n      return bucket.sort(function (a, b) {\n        return Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range));\n      });\n    }\n  }], [{\n    key: \"create\",\n    value: function create(registry, textModel, token) {\n      var cts = new CancellationTokenSource(token);\n      var result = new OutlineModel(textModel.uri);\n      var provider = registry.ordered(textModel);\n      var promises = provider.map(function (provider, index) {\n        var _a;\n        var id = TreeElement.findId(\"provider_\".concat(index), result);\n        var group = new OutlineGroup(id, result, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);\n        return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(function (result) {\n          var _iterator4 = _createForOfIteratorHelper(result || []),\n            _step4;\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var info = _step4.value;\n              OutlineModel._makeOutlineElement(info, group);\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n          return group;\n        }, function (err) {\n          onUnexpectedExternalError(err);\n          return group;\n        }).then(function (group) {\n          if (!TreeElement.empty(group)) {\n            result._groups.set(id, group);\n          } else {\n            group.remove();\n          }\n        });\n      });\n      var listener = registry.onDidChange(function () {\n        var newProvider = registry.ordered(textModel);\n        if (!equals(newProvider, provider)) {\n          cts.cancel();\n        }\n      });\n      return Promise.all(promises).then(function () {\n        if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n          return OutlineModel.create(registry, textModel, token);\n        } else {\n          return result._compact();\n        }\n      })[\"finally\"](function () {\n        cts.dispose();\n        listener.dispose();\n        cts.dispose();\n      });\n    }\n  }, {\n    key: \"_makeOutlineElement\",\n    value: function _makeOutlineElement(info, container) {\n      var id = TreeElement.findId(info, container);\n      var res = new OutlineElement(id, container, info);\n      if (info.children) {\n        var _iterator5 = _createForOfIteratorHelper(info.children),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var childInfo = _step5.value;\n            OutlineModel._makeOutlineElement(childInfo, res);\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n      }\n      container.children.set(res.id, res);\n    }\n  }, {\n    key: \"_flattenDocumentSymbols\",\n    value: function _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n      var _iterator6 = _createForOfIteratorHelper(entries),\n        _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var entry = _step6.value;\n          bucket.push({\n            kind: entry.kind,\n            tags: entry.tags,\n            name: entry.name,\n            detail: entry.detail,\n            containerName: entry.containerName || overrideContainerLabel,\n            range: entry.range,\n            selectionRange: entry.selectionRange,\n            children: undefined // we flatten it...\n          });\n          // Recurse over children\n          if (entry.children) {\n            OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n    }\n  }]);\n}(TreeElement);\nexport var IOutlineModelService = createDecorator('IOutlineModelService');\nvar OutlineModelService = /*#__PURE__*/function () {\n  function OutlineModelService(_languageFeaturesService, debounces, modelService) {\n    var _this4 = this;\n    _classCallCheck(this, OutlineModelService);\n    this._languageFeaturesService = _languageFeaturesService;\n    this._disposables = new DisposableStore();\n    this._cache = new LRUCache(10, 0.7);\n    this._debounceInformation = debounces[\"for\"](_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', {\n      min: 350\n    });\n    // don't cache outline models longer than their text model\n    this._disposables.add(modelService.onModelRemoved(function (textModel) {\n      _this4._cache[\"delete\"](textModel.id);\n    }));\n  }\n  return _createClass(OutlineModelService, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._disposables.dispose();\n    }\n  }, {\n    key: \"getOrCreate\",\n    value: function () {\n      var _getOrCreate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(textModel, token) {\n        var _this5 = this;\n        var registry, provider, data, source, now, listener;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              registry = this._languageFeaturesService.documentSymbolProvider;\n              provider = registry.ordered(textModel);\n              data = this._cache.get(textModel.id);\n              if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n                source = new CancellationTokenSource();\n                data = {\n                  versionId: textModel.getVersionId(),\n                  provider: provider,\n                  promiseCnt: 0,\n                  source: source,\n                  promise: OutlineModel.create(registry, textModel, source.token),\n                  model: undefined\n                };\n                this._cache.set(textModel.id, data);\n                now = Date.now();\n                data.promise.then(function (outlineModel) {\n                  data.model = outlineModel;\n                  _this5._debounceInformation.update(textModel, Date.now() - now);\n                })[\"catch\"](function (_err) {\n                  _this5._cache[\"delete\"](textModel.id);\n                });\n              }\n              if (!data.model) {\n                _context.next = 6;\n                break;\n              }\n              return _context.abrupt(\"return\", data.model);\n            case 6:\n              // increase usage counter\n              data.promiseCnt += 1;\n              listener = token.onCancellationRequested(function () {\n                // last -> cancel provider request, remove cached promise\n                if (--data.promiseCnt === 0) {\n                  data.source.cancel();\n                  _this5._cache[\"delete\"](textModel.id);\n                }\n              });\n              _context.prev = 8;\n              _context.next = 11;\n              return data.promise;\n            case 11:\n              return _context.abrupt(\"return\", _context.sent);\n            case 12:\n              _context.prev = 12;\n              listener.dispose();\n              return _context.finish(12);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[8,, 12, 15]]);\n      }));\n      function getOrCreate(_x, _x2) {\n        return _getOrCreate.apply(this, arguments);\n      }\n      return getOrCreate;\n    }()\n  }]);\n}();\nOutlineModelService = __decorate([__param(0, ILanguageFeaturesService), __param(1, ILanguageFeatureDebounceService), __param(2, IModelService)], OutlineModelService);\nexport { OutlineModelService };\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","equals","CancellationTokenSource","onUnexpectedExternalError","Iterable","LRUCache","Position","Range","ILanguageFeatureDebounceService","createDecorator","registerSingleton","IModelService","DisposableStore","ILanguageFeaturesService","TreeElement","_classCallCheck","_createClass","value","remove","_a","parent","children","id","findId","candidate","container","candidateId","concat","name","get","undefined","range","startLineNumber","startColumn","empty","element","size","OutlineElement","_TreeElement","symbol","_this","_callSuper","Map","_inherits","OutlineGroup","_TreeElement2","label","order","_this2","OutlineModel","_TreeElement3","uri","_this3","_groups","_compact","count","_iterator","_createForOfIteratorHelper","_step","s","n","done","_step$value","_slicedToArray","group","err","e","f","first","values","_iterator2","_step2","_step2$value","child","set","getTopLevelSymbols","roots","_iterator3","_step3","push","apply","_toConsumableArray","map","sort","a","b","compareRangesUsingStarts","asListOfDocumentSymbols","bucket","_flattenDocumentSymbols","compare","getStartPosition","getEndPosition","create","registry","textModel","token","cts","result","provider","ordered","promises","index","displayName","Promise","resolve","provideDocumentSymbols","then","_iterator4","_step4","info","_makeOutlineElement","listener","onDidChange","newProvider","cancel","all","isCancellationRequested","dispose","res","_iterator5","_step5","childInfo","entries","overrideContainerLabel","_iterator6","_step6","entry","kind","tags","detail","containerName","selectionRange","IOutlineModelService","OutlineModelService","_languageFeaturesService","debounces","modelService","_this4","_disposables","_cache","_debounceInformation","documentSymbolProvider","min","add","onModelRemoved","_getOrCreate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this5","data","source","now","wrap","_callee$","_context","prev","next","versionId","getVersionId","promiseCnt","promise","model","Date","outlineModel","update","_err","abrupt","onCancellationRequested","sent","finish","stop","getOrCreate","_x","_x2"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/outlineModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class TreeElement {\n    remove() {\n        var _a;\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children.delete(this.id);\n    }\n    static findId(candidate, container) {\n        // complex id-computation which contains the origin/extension,\n        // the parent path, and some dedupe logic when names collide\n        let candidateId;\n        if (typeof candidate === 'string') {\n            candidateId = `${container.id}/${candidate}`;\n        }\n        else {\n            candidateId = `${container.id}/${candidate.name}`;\n            if (container.children.get(candidateId) !== undefined) {\n                candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;\n            }\n        }\n        let id = candidateId;\n        for (let i = 0; container.children.get(id) !== undefined; i++) {\n            id = `${candidateId}_${i}`;\n        }\n        return id;\n    }\n    static empty(element) {\n        return element.children.size === 0;\n    }\n}\nexport class OutlineElement extends TreeElement {\n    constructor(id, parent, symbol) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.symbol = symbol;\n        this.children = new Map();\n    }\n}\nexport class OutlineGroup extends TreeElement {\n    constructor(id, parent, label, order) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.label = label;\n        this.order = order;\n        this.children = new Map();\n    }\n}\nexport class OutlineModel extends TreeElement {\n    static create(registry, textModel, token) {\n        const cts = new CancellationTokenSource(token);\n        const result = new OutlineModel(textModel.uri);\n        const provider = registry.ordered(textModel);\n        const promises = provider.map((provider, index) => {\n            var _a;\n            const id = TreeElement.findId(`provider_${index}`, result);\n            const group = new OutlineGroup(id, result, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);\n            return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(result => {\n                for (const info of result || []) {\n                    OutlineModel._makeOutlineElement(info, group);\n                }\n                return group;\n            }, err => {\n                onUnexpectedExternalError(err);\n                return group;\n            }).then(group => {\n                if (!TreeElement.empty(group)) {\n                    result._groups.set(id, group);\n                }\n                else {\n                    group.remove();\n                }\n            });\n        });\n        const listener = registry.onDidChange(() => {\n            const newProvider = registry.ordered(textModel);\n            if (!equals(newProvider, provider)) {\n                cts.cancel();\n            }\n        });\n        return Promise.all(promises).then(() => {\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n                return OutlineModel.create(registry, textModel, token);\n            }\n            else {\n                return result._compact();\n            }\n        }).finally(() => {\n            cts.dispose();\n            listener.dispose();\n            cts.dispose();\n        });\n    }\n    static _makeOutlineElement(info, container) {\n        const id = TreeElement.findId(info, container);\n        const res = new OutlineElement(id, container, info);\n        if (info.children) {\n            for (const childInfo of info.children) {\n                OutlineModel._makeOutlineElement(childInfo, res);\n            }\n        }\n        container.children.set(res.id, res);\n    }\n    constructor(uri) {\n        super();\n        this.uri = uri;\n        this.id = 'root';\n        this.parent = undefined;\n        this._groups = new Map();\n        this.children = new Map();\n        this.id = 'root';\n        this.parent = undefined;\n    }\n    _compact() {\n        let count = 0;\n        for (const [key, group] of this._groups) {\n            if (group.children.size === 0) { // empty\n                this._groups.delete(key);\n            }\n            else {\n                count += 1;\n            }\n        }\n        if (count !== 1) {\n            //\n            this.children = this._groups;\n        }\n        else {\n            // adopt all elements of the first group\n            const group = Iterable.first(this._groups.values());\n            for (const [, child] of group.children) {\n                child.parent = this;\n                this.children.set(child.id, child);\n            }\n        }\n        return this;\n    }\n    getTopLevelSymbols() {\n        const roots = [];\n        for (const child of this.children.values()) {\n            if (child instanceof OutlineElement) {\n                roots.push(child.symbol);\n            }\n            else {\n                roots.push(...Iterable.map(child.children.values(), child => child.symbol));\n            }\n        }\n        return roots.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n    }\n    asListOfDocumentSymbols() {\n        const roots = this.getTopLevelSymbols();\n        const bucket = [];\n        OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n        return bucket.sort((a, b) => Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range)));\n    }\n    static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n        for (const entry of entries) {\n            bucket.push({\n                kind: entry.kind,\n                tags: entry.tags,\n                name: entry.name,\n                detail: entry.detail,\n                containerName: entry.containerName || overrideContainerLabel,\n                range: entry.range,\n                selectionRange: entry.selectionRange,\n                children: undefined, // we flatten it...\n            });\n            // Recurse over children\n            if (entry.children) {\n                OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n            }\n        }\n    }\n}\nexport const IOutlineModelService = createDecorator('IOutlineModelService');\nlet OutlineModelService = class OutlineModelService {\n    constructor(_languageFeaturesService, debounces, modelService) {\n        this._languageFeaturesService = _languageFeaturesService;\n        this._disposables = new DisposableStore();\n        this._cache = new LRUCache(10, 0.7);\n        this._debounceInformation = debounces.for(_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', { min: 350 });\n        // don't cache outline models longer than their text model\n        this._disposables.add(modelService.onModelRemoved(textModel => {\n            this._cache.delete(textModel.id);\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    async getOrCreate(textModel, token) {\n        const registry = this._languageFeaturesService.documentSymbolProvider;\n        const provider = registry.ordered(textModel);\n        let data = this._cache.get(textModel.id);\n        if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n            const source = new CancellationTokenSource();\n            data = {\n                versionId: textModel.getVersionId(),\n                provider,\n                promiseCnt: 0,\n                source,\n                promise: OutlineModel.create(registry, textModel, source.token),\n                model: undefined,\n            };\n            this._cache.set(textModel.id, data);\n            const now = Date.now();\n            data.promise.then(outlineModel => {\n                data.model = outlineModel;\n                this._debounceInformation.update(textModel, Date.now() - now);\n            }).catch(_err => {\n                this._cache.delete(textModel.id);\n            });\n        }\n        if (data.model) {\n            // resolved -> return data\n            return data.model;\n        }\n        // increase usage counter\n        data.promiseCnt += 1;\n        const listener = token.onCancellationRequested(() => {\n            // last -> cancel provider request, remove cached promise\n            if (--data.promiseCnt === 0) {\n                data.source.cancel();\n                this._cache.delete(textModel.id);\n            }\n        });\n        try {\n            return await data.promise;\n        }\n        finally {\n            listener.dispose();\n        }\n    }\n};\nOutlineModelService = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, ILanguageFeatureDebounceService),\n    __param(2, IModelService)\n], OutlineModelService);\nexport { OutlineModelService };\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}