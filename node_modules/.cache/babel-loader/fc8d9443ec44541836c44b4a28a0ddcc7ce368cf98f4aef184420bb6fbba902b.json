{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nexport var CommitCharacterController = /*#__PURE__*/function () {\n  function CommitCharacterController(editor, widget, model, accept) {\n    var _this = this;\n    _classCallCheck(this, CommitCharacterController);\n    this._disposables = new DisposableStore();\n    this._disposables.add(model.onDidSuggest(function (e) {\n      if (e.completionModel.items.length === 0) {\n        _this.reset();\n      }\n    }));\n    this._disposables.add(model.onDidCancel(function (e) {\n      _this.reset();\n    }));\n    this._disposables.add(widget.onDidShow(function () {\n      return _this._onItem(widget.getFocusedItem());\n    }));\n    this._disposables.add(widget.onDidFocus(this._onItem, this));\n    this._disposables.add(widget.onDidHide(this.reset, this));\n    this._disposables.add(editor.onWillType(function (text) {\n      if (_this._active && !widget.isFrozen() && model.state !== 0 /* State.Idle */) {\n        var ch = text.charCodeAt(text.length - 1);\n        if (_this._active.acceptCharacters.has(ch) && editor.getOption(0 /* EditorOption.acceptSuggestionOnCommitCharacter */)) {\n          accept(_this._active.item);\n        }\n      }\n    }));\n  }\n  return _createClass(CommitCharacterController, [{\n    key: \"_onItem\",\n    value: function _onItem(selected) {\n      if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\n        // no item or no commit characters\n        this.reset();\n        return;\n      }\n      if (this._active && this._active.item.item === selected.item) {\n        // still the same item\n        return;\n      }\n      // keep item and its commit characters\n      var acceptCharacters = new CharacterSet();\n      var _iterator = _createForOfIteratorHelper(selected.item.completion.commitCharacters),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var ch = _step.value;\n          if (ch.length > 0) {\n            acceptCharacters.add(ch.charCodeAt(0));\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this._active = {\n        acceptCharacters: acceptCharacters,\n        item: selected\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._active = undefined;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._disposables.dispose();\n    }\n  }]);\n}();","map":{"version":3,"names":["isNonEmptyArray","DisposableStore","CharacterSet","CommitCharacterController","editor","widget","model","accept","_this","_classCallCheck","_disposables","add","onDidSuggest","e","completionModel","items","length","reset","onDidCancel","onDidShow","_onItem","getFocusedItem","onDidFocus","onDidHide","onWillType","text","_active","isFrozen","state","ch","charCodeAt","acceptCharacters","has","getOption","item","_createClass","key","value","selected","completion","commitCharacters","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","f","undefined","dispose"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestCommitCharacters.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nexport class CommitCharacterController {\n    constructor(editor, widget, model, accept) {\n        this._disposables = new DisposableStore();\n        this._disposables.add(model.onDidSuggest(e => {\n            if (e.completionModel.items.length === 0) {\n                this.reset();\n            }\n        }));\n        this._disposables.add(model.onDidCancel(e => {\n            this.reset();\n        }));\n        this._disposables.add(widget.onDidShow(() => this._onItem(widget.getFocusedItem())));\n        this._disposables.add(widget.onDidFocus(this._onItem, this));\n        this._disposables.add(widget.onDidHide(this.reset, this));\n        this._disposables.add(editor.onWillType(text => {\n            if (this._active && !widget.isFrozen() && model.state !== 0 /* State.Idle */) {\n                const ch = text.charCodeAt(text.length - 1);\n                if (this._active.acceptCharacters.has(ch) && editor.getOption(0 /* EditorOption.acceptSuggestionOnCommitCharacter */)) {\n                    accept(this._active.item);\n                }\n            }\n        }));\n    }\n    _onItem(selected) {\n        if (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\n            // no item or no commit characters\n            this.reset();\n            return;\n        }\n        if (this._active && this._active.item.item === selected.item) {\n            // still the same item\n            return;\n        }\n        // keep item and its commit characters\n        const acceptCharacters = new CharacterSet();\n        for (const ch of selected.item.completion.commitCharacters) {\n            if (ch.length > 0) {\n                acceptCharacters.add(ch.charCodeAt(0));\n            }\n        }\n        this._active = { acceptCharacters, item: selected };\n    }\n    reset() {\n        this._active = undefined;\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}