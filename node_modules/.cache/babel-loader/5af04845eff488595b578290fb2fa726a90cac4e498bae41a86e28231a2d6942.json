{"ast":null,"code":"import _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nvar defaultColor = new Color(new RGBA(0, 122, 204));\nvar defaultOptions = {\n  showArrow: true,\n  showFrame: true,\n  className: '',\n  frameColor: defaultColor,\n  arrowColor: defaultColor,\n  keepEditorSelection: false\n};\nvar WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nvar ViewZoneDelegate = /*#__PURE__*/function () {\n  function ViewZoneDelegate(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n    _classCallCheck(this, ViewZoneDelegate);\n    this.id = ''; // A valid zone id should be greater than 0\n    this.domNode = domNode;\n    this.afterLineNumber = afterLineNumber;\n    this.afterColumn = afterColumn;\n    this.heightInLines = heightInLines;\n    this.showInHiddenAreas = showInHiddenAreas;\n    this.ordinal = ordinal;\n    this._onDomNodeTop = onDomNodeTop;\n    this._onComputedHeight = onComputedHeight;\n  }\n  return _createClass(ViewZoneDelegate, [{\n    key: \"onDomNodeTop\",\n    value: function onDomNodeTop(top) {\n      this._onDomNodeTop(top);\n    }\n  }, {\n    key: \"onComputedHeight\",\n    value: function onComputedHeight(height) {\n      this._onComputedHeight(height);\n    }\n  }]);\n}();\nexport var OverlayWidgetDelegate = /*#__PURE__*/function () {\n  function OverlayWidgetDelegate(id, domNode) {\n    _classCallCheck(this, OverlayWidgetDelegate);\n    this._id = id;\n    this._domNode = domNode;\n  }\n  return _createClass(OverlayWidgetDelegate, [{\n    key: \"getId\",\n    value: function getId() {\n      return this._id;\n    }\n  }, {\n    key: \"getDomNode\",\n    value: function getDomNode() {\n      return this._domNode;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return null;\n    }\n  }]);\n}();\nvar Arrow = /*#__PURE__*/function () {\n  function Arrow(_editor) {\n    _classCallCheck(this, Arrow);\n    this._editor = _editor;\n    this._ruleName = Arrow._IdGenerator.nextId();\n    this._decorations = this._editor.createDecorationsCollection();\n    this._color = null;\n    this._height = -1;\n  }\n  return _createClass(Arrow, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this.hide();\n      dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n  }, {\n    key: \"color\",\n    set: function set(value) {\n      if (this._color !== value) {\n        this._color = value;\n        this._updateStyle();\n      }\n    }\n  }, {\n    key: \"height\",\n    set: function set(value) {\n      if (this._height !== value) {\n        this._height = value;\n        this._updateStyle();\n      }\n    }\n  }, {\n    key: \"_updateStyle\",\n    value: function _updateStyle() {\n      dom.removeCSSRulesContainingSelector(this._ruleName);\n      dom.createCSSRule(\".monaco-editor \".concat(this._ruleName), \"border-style: solid; border-color: transparent; border-bottom-color: \".concat(this._color, \"; border-width: \").concat(this._height, \"px; bottom: -\").concat(this._height, \"px !important; margin-left: -\").concat(this._height, \"px; \"));\n    }\n  }, {\n    key: \"show\",\n    value: function show(where) {\n      if (where.column === 1) {\n        // the arrow isn't pretty at column 1 and we need to push it out a little\n        where = {\n          lineNumber: where.lineNumber,\n          column: 2\n        };\n      }\n      this._decorations.set([{\n        range: Range.fromPositions(where),\n        options: {\n          description: 'zone-widget-arrow',\n          className: this._ruleName,\n          stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n        }\n      }]);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._decorations.clear();\n    }\n  }]);\n}();\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport var ZoneWidget = /*#__PURE__*/function () {\n  function ZoneWidget(editor) {\n    var _this = this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, ZoneWidget);\n    this._arrow = null;\n    this._overlayWidget = null;\n    this._resizeSash = null;\n    this._viewZone = null;\n    this._disposables = new DisposableStore();\n    this.container = null;\n    this._isShowing = false;\n    this.editor = editor;\n    this._positionMarkerId = this.editor.createDecorationsCollection();\n    this.options = objects.deepClone(options);\n    objects.mixin(this.options, defaultOptions, false);\n    this.domNode = document.createElement('div');\n    if (!this.options.isAccessible) {\n      this.domNode.setAttribute('aria-hidden', 'true');\n      this.domNode.setAttribute('role', 'presentation');\n    }\n    this._disposables.add(this.editor.onDidLayoutChange(function (info) {\n      var width = _this._getWidth(info);\n      _this.domNode.style.width = width + 'px';\n      _this.domNode.style.left = _this._getLeft(info) + 'px';\n      _this._onWidth(width);\n    }));\n  }\n  return _createClass(ZoneWidget, [{\n    key: \"dispose\",\n    value: function dispose() {\n      var _this2 = this;\n      if (this._overlayWidget) {\n        this.editor.removeOverlayWidget(this._overlayWidget);\n        this._overlayWidget = null;\n      }\n      if (this._viewZone) {\n        this.editor.changeViewZones(function (accessor) {\n          if (_this2._viewZone) {\n            accessor.removeZone(_this2._viewZone.id);\n          }\n          _this2._viewZone = null;\n        });\n      }\n      this._positionMarkerId.clear();\n      this._disposables.dispose();\n    }\n  }, {\n    key: \"create\",\n    value: function create() {\n      this.domNode.classList.add('zone-widget');\n      if (this.options.className) {\n        this.domNode.classList.add(this.options.className);\n      }\n      this.container = document.createElement('div');\n      this.container.classList.add('zone-widget-container');\n      this.domNode.appendChild(this.container);\n      if (this.options.showArrow) {\n        this._arrow = new Arrow(this.editor);\n        this._disposables.add(this._arrow);\n      }\n      this._fillContainer(this.container);\n      this._initSash();\n      this._applyStyles();\n    }\n  }, {\n    key: \"style\",\n    value: function style(styles) {\n      if (styles.frameColor) {\n        this.options.frameColor = styles.frameColor;\n      }\n      if (styles.arrowColor) {\n        this.options.arrowColor = styles.arrowColor;\n      }\n      this._applyStyles();\n    }\n  }, {\n    key: \"_applyStyles\",\n    value: function _applyStyles() {\n      if (this.container && this.options.frameColor) {\n        var frameColor = this.options.frameColor.toString();\n        this.container.style.borderTopColor = frameColor;\n        this.container.style.borderBottomColor = frameColor;\n      }\n      if (this._arrow && this.options.arrowColor) {\n        var arrowColor = this.options.arrowColor.toString();\n        this._arrow.color = arrowColor;\n      }\n    }\n  }, {\n    key: \"_getWidth\",\n    value: function _getWidth(info) {\n      return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n  }, {\n    key: \"_getLeft\",\n    value: function _getLeft(info) {\n      // If minimap is to the left, we move beyond it\n      if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n        return info.minimap.minimapWidth;\n      }\n      return 0;\n    }\n  }, {\n    key: \"_onViewZoneTop\",\n    value: function _onViewZoneTop(top) {\n      this.domNode.style.top = top + 'px';\n    }\n  }, {\n    key: \"_onViewZoneHeight\",\n    value: function _onViewZoneHeight(height) {\n      var _a;\n      this.domNode.style.height = \"\".concat(height, \"px\");\n      if (this.container) {\n        var containerHeight = height - this._decoratingElementsHeight();\n        this.container.style.height = \"\".concat(containerHeight, \"px\");\n        var layoutInfo = this.editor.getLayoutInfo();\n        this._doLayout(containerHeight, this._getWidth(layoutInfo));\n      }\n      (_a = this._resizeSash) === null || _a === void 0 ? void 0 : _a.layout();\n    }\n  }, {\n    key: \"position\",\n    get: function get() {\n      var range = this._positionMarkerId.getRange(0);\n      if (!range) {\n        return undefined;\n      }\n      return range.getStartPosition();\n    }\n  }, {\n    key: \"show\",\n    value: function show(rangeOrPos, heightInLines) {\n      var range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n      this._isShowing = true;\n      this._showImpl(range, heightInLines);\n      this._isShowing = false;\n      this._positionMarkerId.set([{\n        range: range,\n        options: ModelDecorationOptions.EMPTY\n      }]);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this3 = this;\n      var _a;\n      if (this._viewZone) {\n        this.editor.changeViewZones(function (accessor) {\n          if (_this3._viewZone) {\n            accessor.removeZone(_this3._viewZone.id);\n          }\n        });\n        this._viewZone = null;\n      }\n      if (this._overlayWidget) {\n        this.editor.removeOverlayWidget(this._overlayWidget);\n        this._overlayWidget = null;\n      }\n      (_a = this._arrow) === null || _a === void 0 ? void 0 : _a.hide();\n      this._positionMarkerId.clear();\n    }\n  }, {\n    key: \"_decoratingElementsHeight\",\n    value: function _decoratingElementsHeight() {\n      var lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n      var result = 0;\n      if (this.options.showArrow) {\n        var arrowHeight = Math.round(lineHeight / 3);\n        result += 2 * arrowHeight;\n      }\n      if (this.options.showFrame) {\n        var frameThickness = Math.round(lineHeight / 9);\n        result += 2 * frameThickness;\n      }\n      return result;\n    }\n  }, {\n    key: \"_showImpl\",\n    value: function _showImpl(where, heightInLines) {\n      var _this4 = this;\n      var position = where.getStartPosition();\n      var layoutInfo = this.editor.getLayoutInfo();\n      var width = this._getWidth(layoutInfo);\n      this.domNode.style.width = \"\".concat(width, \"px\");\n      this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n      // Render the widget as zone (rendering) and widget (lifecycle)\n      var viewZoneDomNode = document.createElement('div');\n      viewZoneDomNode.style.overflow = 'hidden';\n      var lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n      // adjust heightInLines to viewport\n      if (!this.options.allowUnlimitedHeight) {\n        var maxHeightInLines = Math.max(12, this.editor.getLayoutInfo().height / lineHeight * 0.8);\n        heightInLines = Math.min(heightInLines, maxHeightInLines);\n      }\n      var arrowHeight = 0;\n      var frameThickness = 0;\n      // Render the arrow one 1/3 of an editor line height\n      if (this._arrow && this.options.showArrow) {\n        arrowHeight = Math.round(lineHeight / 3);\n        this._arrow.height = arrowHeight;\n        this._arrow.show(position);\n      }\n      // Render the frame as 1/9 of an editor line height\n      if (this.options.showFrame) {\n        frameThickness = Math.round(lineHeight / 9);\n      }\n      // insert zone widget\n      this.editor.changeViewZones(function (accessor) {\n        if (_this4._viewZone) {\n          accessor.removeZone(_this4._viewZone.id);\n        }\n        if (_this4._overlayWidget) {\n          _this4.editor.removeOverlayWidget(_this4._overlayWidget);\n          _this4._overlayWidget = null;\n        }\n        _this4.domNode.style.top = '-1000px';\n        _this4._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, function (top) {\n          return _this4._onViewZoneTop(top);\n        }, function (height) {\n          return _this4._onViewZoneHeight(height);\n        }, _this4.options.showInHiddenAreas, _this4.options.ordinal);\n        _this4._viewZone.id = accessor.addZone(_this4._viewZone);\n        _this4._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + _this4._viewZone.id, _this4.domNode);\n        _this4.editor.addOverlayWidget(_this4._overlayWidget);\n      });\n      if (this.container && this.options.showFrame) {\n        var _width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n        this.container.style.borderTopWidth = _width + 'px';\n        this.container.style.borderBottomWidth = _width + 'px';\n      }\n      var containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n      if (this.container) {\n        this.container.style.top = arrowHeight + 'px';\n        this.container.style.height = containerHeight + 'px';\n        this.container.style.overflow = 'hidden';\n      }\n      this._doLayout(containerHeight, width);\n      if (!this.options.keepEditorSelection) {\n        this.editor.setSelection(where);\n      }\n      var model = this.editor.getModel();\n      if (model) {\n        var range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n        this.revealRange(range, range.startLineNumber === model.getLineCount());\n      }\n    }\n  }, {\n    key: \"revealRange\",\n    value: function revealRange(range, isLastLine) {\n      if (isLastLine) {\n        this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n      } else {\n        this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n      }\n    }\n  }, {\n    key: \"setCssClass\",\n    value: function setCssClass(className, classToReplace) {\n      if (!this.container) {\n        return;\n      }\n      if (classToReplace) {\n        this.container.classList.remove(classToReplace);\n      }\n      this.container.classList.add(className);\n    }\n  }, {\n    key: \"_onWidth\",\n    value: function _onWidth(widthInPixel) {\n      // implement in subclass\n    }\n  }, {\n    key: \"_doLayout\",\n    value: function _doLayout(heightInPixel, widthInPixel) {\n      // implement in subclass\n    }\n  }, {\n    key: \"_relayout\",\n    value: function _relayout(newHeightInLines) {\n      var _this5 = this;\n      if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n        this.editor.changeViewZones(function (accessor) {\n          if (_this5._viewZone) {\n            _this5._viewZone.heightInLines = newHeightInLines;\n            accessor.layoutZone(_this5._viewZone.id);\n          }\n        });\n      }\n    }\n    // --- sash\n  }, {\n    key: \"_initSash\",\n    value: function _initSash() {\n      var _this6 = this;\n      if (this._resizeSash) {\n        return;\n      }\n      this._resizeSash = this._disposables.add(new Sash(this.domNode, this, {\n        orientation: 1 /* Orientation.HORIZONTAL */\n      }));\n      if (!this.options.isResizeable) {\n        this._resizeSash.state = 0 /* SashState.Disabled */;\n      }\n      var data;\n      this._disposables.add(this._resizeSash.onDidStart(function (e) {\n        if (_this6._viewZone) {\n          data = {\n            startY: e.startY,\n            heightInLines: _this6._viewZone.heightInLines\n          };\n        }\n      }));\n      this._disposables.add(this._resizeSash.onDidEnd(function () {\n        data = undefined;\n      }));\n      this._disposables.add(this._resizeSash.onDidChange(function (evt) {\n        if (data) {\n          var lineDelta = (evt.currentY - data.startY) / _this6.editor.getOption(67 /* EditorOption.lineHeight */);\n          var roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n          var newHeightInLines = data.heightInLines + roundedLineDelta;\n          if (newHeightInLines > 5 && newHeightInLines < 35) {\n            _this6._relayout(newHeightInLines);\n          }\n        }\n      }));\n    }\n  }, {\n    key: \"getHorizontalSashLeft\",\n    value: function getHorizontalSashLeft() {\n      return 0;\n    }\n  }, {\n    key: \"getHorizontalSashTop\",\n    value: function getHorizontalSashTop() {\n      return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - this._decoratingElementsHeight() / 2;\n    }\n  }, {\n    key: \"getHorizontalSashWidth\",\n    value: function getHorizontalSashWidth() {\n      var layoutInfo = this.editor.getLayoutInfo();\n      return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n  }]);\n}();","map":{"version":3,"names":["dom","Sash","Color","RGBA","IdGenerator","DisposableStore","objects","Range","ModelDecorationOptions","defaultColor","defaultOptions","showArrow","showFrame","className","frameColor","arrowColor","keepEditorSelection","WIDGET_ID","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","showInHiddenAreas","ordinal","_classCallCheck","id","_onDomNodeTop","_onComputedHeight","_createClass","key","value","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","getPosition","Arrow","_editor","_ruleName","_IdGenerator","nextId","_decorations","createDecorationsCollection","_color","_height","dispose","hide","removeCSSRulesContainingSelector","set","_updateStyle","createCSSRule","concat","show","where","column","lineNumber","range","fromPositions","options","description","stickiness","clear","ZoneWidget","editor","_this","arguments","length","undefined","_arrow","_overlayWidget","_resizeSash","_viewZone","_disposables","container","_isShowing","_positionMarkerId","deepClone","mixin","document","createElement","isAccessible","setAttribute","add","onDidLayoutChange","info","width","_getWidth","style","left","_getLeft","_onWidth","_this2","removeOverlayWidget","changeViewZones","accessor","removeZone","create","classList","appendChild","_fillContainer","_initSash","_applyStyles","styles","toString","borderTopColor","borderBottomColor","color","minimap","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","_a","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","get","getRange","getStartPosition","rangeOrPos","isIRange","lift","_showImpl","EMPTY","_this3","lineHeight","getOption","result","arrowHeight","Math","round","frameThickness","_this4","position","viewZoneDomNode","overflow","allowUnlimitedHeight","maxHeightInLines","max","min","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","model","getModel","validateRange","startLineNumber","endLineNumber","revealRange","getLineCount","isLastLine","revealLineNearTop","setCssClass","classToReplace","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","_this5","layoutZone","_this6","orientation","isResizeable","state","data","onDidStart","e","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nclass ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this.showInHiddenAreas = showInHiddenAreas;\n        this.ordinal = ordinal;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._color = null;\n        this._height = -1;\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations.set([{\n                range: Range.fromPositions(where),\n                options: {\n                    description: 'zone-widget-arrow',\n                    className: this._ruleName,\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n                }\n            }]);\n    }\n    hide() {\n        this._decorations.clear();\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this._positionMarkerId = this.editor.createDecorationsCollection();\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this._positionMarkerId.clear();\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            const frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            const arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        var _a;\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            const containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        (_a = this._resizeSash) === null || _a === void 0 ? void 0 : _a.layout();\n    }\n    get position() {\n        const range = this._positionMarkerId.getRange(0);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId.set([{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        var _a;\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        (_a = this._arrow) === null || _a === void 0 ? void 0 : _a.hide();\n        this._positionMarkerId.clear();\n    }\n    _decoratingElementsHeight() {\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            const arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            const frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        // adjust heightInLines to viewport\n        if (!this.options.allowUnlimitedHeight) {\n            const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n            heightInLines = Math.min(heightInLines, maxHeightInLines);\n        }\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height), this.options.showInHiddenAreas, this.options.ordinal);\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        const containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n            this.revealRange(range, range.startLineNumber === model.getLineCount());\n        }\n    }\n    revealRange(range, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n        }\n        else {\n            this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* Orientation.HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* SashState.Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                const lineDelta = (evt.currentY - data.startY) / this.editor.getOption(67 /* EditorOption.lineHeight */);\n                const roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                const newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}