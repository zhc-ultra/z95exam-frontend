{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar InlineCompletionsController_1;\nimport { createStyleSheet2 } from '../../../../base/browser/dom.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunHandleChanges, constObservable, derived, disposableObservableValue, observableFromEvent, observableSignal, observableValue, transaction } from '../../../../base/common/observable.js';\nimport { CoreEditingCommands } from '../../../browser/coreCommands.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { inlineSuggestCommitId } from './commandIds.js';\nimport { GhostTextWidget } from './ghostTextWidget.js';\nimport { InlineCompletionContextKeys } from './inlineCompletionContextKeys.js';\nimport { InlineCompletionsHintsWidget, InlineSuggestionHintsContentWidget } from './inlineCompletionsHintsWidget.js';\nimport { InlineCompletionsModel, VersionIdChangeReason } from './inlineCompletionsModel.js';\nimport { SuggestWidgetAdaptor } from './suggestWidgetInlineCompletionProvider.js';\nimport { localize } from '../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { mapObservableArrayCached } from '../../../../base/common/observableInternal/utils.js';\nvar InlineCompletionsController = InlineCompletionsController_1 = /*#__PURE__*/function (_Disposable) {\n  function InlineCompletionsController(editor, _instantiationService, _contextKeyService, _configurationService, _commandService, _debounceService, _languageFeaturesService, _accessibilitySignalService, _keybindingService) {\n    var _this;\n    _classCallCheck(this, InlineCompletionsController);\n    _this = _callSuper(this, InlineCompletionsController);\n    _this.editor = editor;\n    _this._instantiationService = _instantiationService;\n    _this._contextKeyService = _contextKeyService;\n    _this._configurationService = _configurationService;\n    _this._commandService = _commandService;\n    _this._debounceService = _debounceService;\n    _this._languageFeaturesService = _languageFeaturesService;\n    _this._accessibilitySignalService = _accessibilitySignalService;\n    _this._keybindingService = _keybindingService;\n    _this.model = _this._register(disposableObservableValue('inlineCompletionModel', undefined));\n    _this._textModelVersionId = observableValue(_this, -1);\n    _this._positions = observableValue(_this, [new Position(1, 1)]);\n    _this._suggestWidgetAdaptor = _this._register(new SuggestWidgetAdaptor(_this.editor, function () {\n      var _a, _b;\n      return (_b = (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.selectedInlineCompletion.get()) === null || _b === void 0 ? void 0 : _b.toSingleTextEdit(undefined);\n    }, function (tx) {\n      return _this.updateObservables(tx, VersionIdChangeReason.Other);\n    }, function (item) {\n      transaction(function (tx) {\n        var _a;\n        /** @description InlineCompletionsController.handleSuggestAccepted */\n        _this.updateObservables(tx, VersionIdChangeReason.Other);\n        (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.handleSuggestAccepted(item);\n      });\n    }));\n    _this._enabled = observableFromEvent(_this.editor.onDidChangeConfiguration, function () {\n      return _this.editor.getOption(62 /* EditorOption.inlineSuggest */).enabled;\n    });\n    _this._fontFamily = observableFromEvent(_this.editor.onDidChangeConfiguration, function () {\n      return _this.editor.getOption(62 /* EditorOption.inlineSuggest */).fontFamily;\n    });\n    _this._ghostTexts = derived(_this, function (reader) {\n      var _a;\n      var model = _this.model.read(reader);\n      return (_a = model === null || model === void 0 ? void 0 : model.ghostTexts.read(reader)) !== null && _a !== void 0 ? _a : [];\n    });\n    _this._stablizedGhostTexts = convertItemsToStableObservables(_this._ghostTexts, _this._store);\n    _this._ghostTextWidgets = mapObservableArrayCached(_this, _this._stablizedGhostTexts, function (ghostText, store) {\n      return store.add(_this._instantiationService.createInstance(GhostTextWidget, _this.editor, {\n        ghostText: ghostText,\n        minReservedLineCount: constObservable(0),\n        targetTextModel: _this.model.map(function (v) {\n          return v === null || v === void 0 ? void 0 : v.textModel;\n        })\n      }));\n    }).recomputeInitiallyAndOnChange(_this._store);\n    _this._debounceValue = _this._debounceService[\"for\"](_this._languageFeaturesService.inlineCompletionsProvider, 'InlineCompletionsDebounce', {\n      min: 50,\n      max: 50\n    });\n    _this._playAccessibilitySignal = observableSignal(_this);\n    _this._isReadonly = observableFromEvent(_this.editor.onDidChangeConfiguration, function () {\n      return _this.editor.getOption(91 /* EditorOption.readOnly */);\n    });\n    _this._textModel = observableFromEvent(_this.editor.onDidChangeModel, function () {\n      return _this.editor.getModel();\n    });\n    _this._textModelIfWritable = derived(function (reader) {\n      return _this._isReadonly.read(reader) ? undefined : _this._textModel.read(reader);\n    });\n    _this._register(new InlineCompletionContextKeys(_this._contextKeyService, _this.model));\n    _this._register(autorun(function (reader) {\n      /** @description InlineCompletionsController.update model */\n      var textModel = _this._textModelIfWritable.read(reader);\n      transaction(function (tx) {\n        /** @description InlineCompletionsController.onDidChangeModel/readonly */\n        _this.model.set(undefined, tx);\n        _this.updateObservables(tx, VersionIdChangeReason.Other);\n        if (textModel) {\n          var model = _instantiationService.createInstance(InlineCompletionsModel, textModel, _this._suggestWidgetAdaptor.selectedItem, _this._textModelVersionId, _this._positions, _this._debounceValue, observableFromEvent(editor.onDidChangeConfiguration, function () {\n            return editor.getOption(118 /* EditorOption.suggest */).preview;\n          }), observableFromEvent(editor.onDidChangeConfiguration, function () {\n            return editor.getOption(118 /* EditorOption.suggest */).previewMode;\n          }), observableFromEvent(editor.onDidChangeConfiguration, function () {\n            return editor.getOption(62 /* EditorOption.inlineSuggest */).mode;\n          }), _this._enabled);\n          _this.model.set(model, tx);\n        }\n      });\n    }));\n    var styleElement = _this._register(createStyleSheet2());\n    _this._register(autorun(function (reader) {\n      var fontFamily = _this._fontFamily.read(reader);\n      styleElement.setStyle(fontFamily === '' || fontFamily === 'default' ? \"\" : \"\\n.monaco-editor .ghost-text-decoration,\\n.monaco-editor .ghost-text-decoration-preview,\\n.monaco-editor .ghost-text {\\n\\tfont-family: \".concat(fontFamily, \";\\n}\"));\n    }));\n    var getReason = function getReason(e) {\n      var _a;\n      if (e.isUndoing) {\n        return VersionIdChangeReason.Undo;\n      }\n      if (e.isRedoing) {\n        return VersionIdChangeReason.Redo;\n      }\n      if ((_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.isAcceptingPartially) {\n        return VersionIdChangeReason.AcceptWord;\n      }\n      return VersionIdChangeReason.Other;\n    };\n    _this._register(editor.onDidChangeModelContent(function (e) {\n      return transaction(function (tx) {\n        return /** @description InlineCompletionsController.onDidChangeModelContent */(\n          _this.updateObservables(tx, getReason(e))\n        );\n      });\n    }));\n    _this._register(editor.onDidChangeCursorPosition(function (e) {\n      return transaction(function (tx) {\n        var _a;\n        /** @description InlineCompletionsController.onDidChangeCursorPosition */\n        _this.updateObservables(tx, VersionIdChangeReason.Other);\n        if (e.reason === 3 /* CursorChangeReason.Explicit */ || e.source === 'api') {\n          (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.stop(tx);\n        }\n      });\n    }));\n    _this._register(editor.onDidType(function () {\n      return transaction(function (tx) {\n        var _a;\n        /** @description InlineCompletionsController.onDidType */\n        _this.updateObservables(tx, VersionIdChangeReason.Other);\n        if (_this._enabled.get()) {\n          (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.trigger(tx);\n        }\n      });\n    }));\n    _this._register(_this._commandService.onDidExecuteCommand(function (e) {\n      // These commands don't trigger onDidType.\n      var commands = new Set([CoreEditingCommands.Tab.id, CoreEditingCommands.DeleteLeft.id, CoreEditingCommands.DeleteRight.id, inlineSuggestCommitId, 'acceptSelectedSuggestion']);\n      if (commands.has(e.commandId) && editor.hasTextFocus() && _this._enabled.get()) {\n        transaction(function (tx) {\n          var _a;\n          /** @description onDidExecuteCommand */\n          (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.trigger(tx);\n        });\n      }\n    }));\n    _this._register(_this.editor.onDidBlurEditorWidget(function () {\n      // This is a hidden setting very useful for debugging\n      if (_this._contextKeyService.getContextKeyValue('accessibleViewIsShown') || _this._configurationService.getValue('editor.inlineSuggest.keepOnBlur') || editor.getOption(62 /* EditorOption.inlineSuggest */).keepOnBlur) {\n        return;\n      }\n      if (InlineSuggestionHintsContentWidget.dropDownVisible) {\n        return;\n      }\n      transaction(function (tx) {\n        var _a;\n        /** @description InlineCompletionsController.onDidBlurEditorWidget */\n        (_a = _this.model.get()) === null || _a === void 0 ? void 0 : _a.stop(tx);\n      });\n    }));\n    _this._register(autorun(function (reader) {\n      var _a;\n      /** @description InlineCompletionsController.forceRenderingAbove */\n      var state = (_a = _this.model.read(reader)) === null || _a === void 0 ? void 0 : _a.state.read(reader);\n      if (state === null || state === void 0 ? void 0 : state.suggestItem) {\n        if (state.primaryGhostText.lineCount >= 2) {\n          _this._suggestWidgetAdaptor.forceRenderingAbove();\n        }\n      } else {\n        _this._suggestWidgetAdaptor.stopForceRenderingAbove();\n      }\n    }));\n    _this._register(toDisposable(function () {\n      _this._suggestWidgetAdaptor.stopForceRenderingAbove();\n    }));\n    var lastInlineCompletionId = undefined;\n    _this._register(autorunHandleChanges({\n      handleChange: function handleChange(context, changeSummary) {\n        if (context.didChange(_this._playAccessibilitySignal)) {\n          lastInlineCompletionId = undefined;\n        }\n        return true;\n      }\n    }, /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(reader) {\n        var model, state, lineText;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              /** @description InlineCompletionsController.playAccessibilitySignalAndReadSuggestion */\n              _this._playAccessibilitySignal.read(reader);\n              model = _this.model.read(reader);\n              state = model === null || model === void 0 ? void 0 : model.state.read(reader);\n              if (!(!model || !state || !state.inlineCompletion)) {\n                _context.next = 6;\n                break;\n              }\n              lastInlineCompletionId = undefined;\n              return _context.abrupt(\"return\");\n            case 6:\n              if (state.inlineCompletion.semanticId !== lastInlineCompletionId) {\n                lastInlineCompletionId = state.inlineCompletion.semanticId;\n                lineText = model.textModel.getLineContent(state.primaryGhostText.lineNumber);\n                _this._accessibilitySignalService.playSignal(AccessibilitySignal.inlineSuggestion).then(function () {\n                  if (_this.editor.getOption(8 /* EditorOption.screenReaderAnnounceInlineSuggestion */)) {\n                    _this.provideScreenReaderUpdate(state.primaryGhostText.renderForScreenReader(lineText));\n                  }\n                });\n              }\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()));\n    _this._register(new InlineCompletionsHintsWidget(_this.editor, _this.model, _this._instantiationService));\n    _this._register(_this._configurationService.onDidChangeConfiguration(function (e) {\n      if (e.affectsConfiguration('accessibility.verbosity.inlineCompletions')) {\n        _this.editor.updateOptions({\n          inlineCompletionsAccessibilityVerbose: _this._configurationService.getValue('accessibility.verbosity.inlineCompletions')\n        });\n      }\n    }));\n    _this.editor.updateOptions({\n      inlineCompletionsAccessibilityVerbose: _this._configurationService.getValue('accessibility.verbosity.inlineCompletions')\n    });\n    return _this;\n  }\n  _inherits(InlineCompletionsController, _Disposable);\n  return _createClass(InlineCompletionsController, [{\n    key: \"playAccessibilitySignal\",\n    value: function playAccessibilitySignal(tx) {\n      this._playAccessibilitySignal.trigger(tx);\n    }\n  }, {\n    key: \"provideScreenReaderUpdate\",\n    value: function provideScreenReaderUpdate(content) {\n      var accessibleViewShowing = this._contextKeyService.getContextKeyValue('accessibleViewIsShown');\n      var accessibleViewKeybinding = this._keybindingService.lookupKeybinding('editor.action.accessibleView');\n      var hint;\n      if (!accessibleViewShowing && accessibleViewKeybinding && this.editor.getOption(149 /* EditorOption.inlineCompletionsAccessibilityVerbose */)) {\n        hint = localize('showAccessibleViewHint', \"Inspect this in the accessible view ({0})\", accessibleViewKeybinding.getAriaLabel());\n      }\n      hint ? alert(content + ', ' + hint) : alert(content);\n    }\n    /**\n     * Copies over the relevant state from the text model to observables.\n     * This solves all kind of eventing issues, as we make sure we always operate on the latest state,\n     * regardless of who calls into us.\n     */\n  }, {\n    key: \"updateObservables\",\n    value: function updateObservables(tx, changeReason) {\n      var _a, _b, _c;\n      var newModel = this.editor.getModel();\n      this._textModelVersionId.set((_a = newModel === null || newModel === void 0 ? void 0 : newModel.getVersionId()) !== null && _a !== void 0 ? _a : -1, tx, changeReason);\n      this._positions.set((_c = (_b = this.editor.getSelections()) === null || _b === void 0 ? void 0 : _b.map(function (selection) {\n        return selection.getPosition();\n      })) !== null && _c !== void 0 ? _c : [new Position(1, 1)], tx);\n    }\n  }, {\n    key: \"shouldShowHoverAt\",\n    value: function shouldShowHoverAt(range) {\n      var _a;\n      var ghostText = (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.primaryGhostText.get();\n      if (ghostText) {\n        return ghostText.parts.some(function (p) {\n          return range.containsPosition(new Position(ghostText.lineNumber, p.column));\n        });\n      }\n      return false;\n    }\n  }, {\n    key: \"shouldShowHoverAtViewZone\",\n    value: function shouldShowHoverAtViewZone(viewZoneId) {\n      var _a, _b;\n      return (_b = (_a = this._ghostTextWidgets.get()[0]) === null || _a === void 0 ? void 0 : _a.ownsViewZone(viewZoneId)) !== null && _b !== void 0 ? _b : false;\n    }\n  }], [{\n    key: \"get\",\n    value: function get(editor) {\n      return editor.getContribution(InlineCompletionsController_1.ID);\n    }\n  }]);\n}(Disposable);\nInlineCompletionsController.ID = 'editor.contrib.inlineCompletionsController';\nInlineCompletionsController = InlineCompletionsController_1 = __decorate([__param(1, IInstantiationService), __param(2, IContextKeyService), __param(3, IConfigurationService), __param(4, ICommandService), __param(5, ILanguageFeatureDebounceService), __param(6, ILanguageFeaturesService), __param(7, IAccessibilitySignalService), __param(8, IKeybindingService)], InlineCompletionsController);\nexport { InlineCompletionsController };\nfunction convertItemsToStableObservables(items, store) {\n  var result = observableValue('result', []);\n  var innerObservables = [];\n  store.add(autorun(function (reader) {\n    var itemsValue = items.read(reader);\n    transaction(function (tx) {\n      if (itemsValue.length !== innerObservables.length) {\n        innerObservables.length = itemsValue.length;\n        for (var i = 0; i < innerObservables.length; i++) {\n          if (!innerObservables[i]) {\n            innerObservables[i] = observableValue('item', itemsValue[i]);\n          }\n        }\n        result.set([].concat(innerObservables), tx);\n      }\n      innerObservables.forEach(function (o, i) {\n        return o.set(itemsValue[i], tx);\n      });\n    });\n  }));\n  return result;\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","InlineCompletionsController_1","createStyleSheet2","alert","Disposable","toDisposable","autorun","autorunHandleChanges","constObservable","derived","disposableObservableValue","observableFromEvent","observableSignal","observableValue","transaction","CoreEditingCommands","Position","ILanguageFeatureDebounceService","ILanguageFeaturesService","inlineSuggestCommitId","GhostTextWidget","InlineCompletionContextKeys","InlineCompletionsHintsWidget","InlineSuggestionHintsContentWidget","InlineCompletionsModel","VersionIdChangeReason","SuggestWidgetAdaptor","localize","AccessibilitySignal","IAccessibilitySignalService","ICommandService","IConfigurationService","IContextKeyService","IInstantiationService","IKeybindingService","mapObservableArrayCached","InlineCompletionsController","_Disposable","editor","_instantiationService","_contextKeyService","_configurationService","_commandService","_debounceService","_languageFeaturesService","_accessibilitySignalService","_keybindingService","_this","_classCallCheck","_callSuper","model","_register","undefined","_textModelVersionId","_positions","_suggestWidgetAdaptor","_a","_b","get","selectedInlineCompletion","toSingleTextEdit","tx","updateObservables","Other","item","handleSuggestAccepted","_enabled","onDidChangeConfiguration","getOption","enabled","_fontFamily","fontFamily","_ghostTexts","reader","read","ghostTexts","_stablizedGhostTexts","convertItemsToStableObservables","_store","_ghostTextWidgets","ghostText","store","add","createInstance","minReservedLineCount","targetTextModel","map","v","textModel","recomputeInitiallyAndOnChange","_debounceValue","inlineCompletionsProvider","min","max","_playAccessibilitySignal","_isReadonly","_textModel","onDidChangeModel","getModel","_textModelIfWritable","set","selectedItem","preview","previewMode","mode","styleElement","setStyle","concat","getReason","e","isUndoing","Undo","isRedoing","Redo","isAcceptingPartially","AcceptWord","onDidChangeModelContent","onDidChangeCursorPosition","reason","source","stop","onDidType","trigger","onDidExecuteCommand","commands","Set","Tab","id","DeleteLeft","DeleteRight","has","commandId","hasTextFocus","onDidBlurEditorWidget","getContextKeyValue","getValue","keepOnBlur","dropDownVisible","state","suggestItem","primaryGhostText","lineCount","forceRenderingAbove","stopForceRenderingAbove","lastInlineCompletionId","handleChange","context","changeSummary","didChange","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lineText","wrap","_callee$","_context","prev","next","inlineCompletion","abrupt","semanticId","getLineContent","lineNumber","playSignal","inlineSuggestion","then","provideScreenReaderUpdate","renderForScreenReader","_x","apply","affectsConfiguration","updateOptions","inlineCompletionsAccessibilityVerbose","_inherits","_createClass","value","playAccessibilitySignal","content","accessibleViewShowing","accessibleViewKeybinding","lookupKeybinding","hint","getAriaLabel","changeReason","_c","newModel","getVersionId","getSelections","selection","getPosition","shouldShowHoverAt","range","parts","some","p","containsPosition","column","shouldShowHoverAtViewZone","viewZoneId","ownsViewZone","getContribution","ID","items","result","innerObservables","itemsValue","forEach","o"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar InlineCompletionsController_1;\nimport { createStyleSheet2 } from '../../../../base/browser/dom.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunHandleChanges, constObservable, derived, disposableObservableValue, observableFromEvent, observableSignal, observableValue, transaction } from '../../../../base/common/observable.js';\nimport { CoreEditingCommands } from '../../../browser/coreCommands.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { inlineSuggestCommitId } from './commandIds.js';\nimport { GhostTextWidget } from './ghostTextWidget.js';\nimport { InlineCompletionContextKeys } from './inlineCompletionContextKeys.js';\nimport { InlineCompletionsHintsWidget, InlineSuggestionHintsContentWidget } from './inlineCompletionsHintsWidget.js';\nimport { InlineCompletionsModel, VersionIdChangeReason } from './inlineCompletionsModel.js';\nimport { SuggestWidgetAdaptor } from './suggestWidgetInlineCompletionProvider.js';\nimport { localize } from '../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { mapObservableArrayCached } from '../../../../base/common/observableInternal/utils.js';\nlet InlineCompletionsController = InlineCompletionsController_1 = class InlineCompletionsController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(InlineCompletionsController_1.ID);\n    }\n    constructor(editor, _instantiationService, _contextKeyService, _configurationService, _commandService, _debounceService, _languageFeaturesService, _accessibilitySignalService, _keybindingService) {\n        super();\n        this.editor = editor;\n        this._instantiationService = _instantiationService;\n        this._contextKeyService = _contextKeyService;\n        this._configurationService = _configurationService;\n        this._commandService = _commandService;\n        this._debounceService = _debounceService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._accessibilitySignalService = _accessibilitySignalService;\n        this._keybindingService = _keybindingService;\n        this.model = this._register(disposableObservableValue('inlineCompletionModel', undefined));\n        this._textModelVersionId = observableValue(this, -1);\n        this._positions = observableValue(this, [new Position(1, 1)]);\n        this._suggestWidgetAdaptor = this._register(new SuggestWidgetAdaptor(this.editor, () => { var _a, _b; return (_b = (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.selectedInlineCompletion.get()) === null || _b === void 0 ? void 0 : _b.toSingleTextEdit(undefined); }, (tx) => this.updateObservables(tx, VersionIdChangeReason.Other), (item) => {\n            transaction(tx => {\n                var _a;\n                /** @description InlineCompletionsController.handleSuggestAccepted */\n                this.updateObservables(tx, VersionIdChangeReason.Other);\n                (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.handleSuggestAccepted(item);\n            });\n        }));\n        this._enabled = observableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(62 /* EditorOption.inlineSuggest */).enabled);\n        this._fontFamily = observableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(62 /* EditorOption.inlineSuggest */).fontFamily);\n        this._ghostTexts = derived(this, (reader) => {\n            var _a;\n            const model = this.model.read(reader);\n            return (_a = model === null || model === void 0 ? void 0 : model.ghostTexts.read(reader)) !== null && _a !== void 0 ? _a : [];\n        });\n        this._stablizedGhostTexts = convertItemsToStableObservables(this._ghostTexts, this._store);\n        this._ghostTextWidgets = mapObservableArrayCached(this, this._stablizedGhostTexts, (ghostText, store) => {\n            return store.add(this._instantiationService.createInstance(GhostTextWidget, this.editor, {\n                ghostText: ghostText,\n                minReservedLineCount: constObservable(0),\n                targetTextModel: this.model.map(v => v === null || v === void 0 ? void 0 : v.textModel),\n            }));\n        }).recomputeInitiallyAndOnChange(this._store);\n        this._debounceValue = this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider, 'InlineCompletionsDebounce', { min: 50, max: 50 });\n        this._playAccessibilitySignal = observableSignal(this);\n        this._isReadonly = observableFromEvent(this.editor.onDidChangeConfiguration, () => this.editor.getOption(91 /* EditorOption.readOnly */));\n        this._textModel = observableFromEvent(this.editor.onDidChangeModel, () => this.editor.getModel());\n        this._textModelIfWritable = derived(reader => this._isReadonly.read(reader) ? undefined : this._textModel.read(reader));\n        this._register(new InlineCompletionContextKeys(this._contextKeyService, this.model));\n        this._register(autorun(reader => {\n            /** @description InlineCompletionsController.update model */\n            const textModel = this._textModelIfWritable.read(reader);\n            transaction(tx => {\n                /** @description InlineCompletionsController.onDidChangeModel/readonly */\n                this.model.set(undefined, tx);\n                this.updateObservables(tx, VersionIdChangeReason.Other);\n                if (textModel) {\n                    const model = _instantiationService.createInstance(InlineCompletionsModel, textModel, this._suggestWidgetAdaptor.selectedItem, this._textModelVersionId, this._positions, this._debounceValue, observableFromEvent(editor.onDidChangeConfiguration, () => editor.getOption(118 /* EditorOption.suggest */).preview), observableFromEvent(editor.onDidChangeConfiguration, () => editor.getOption(118 /* EditorOption.suggest */).previewMode), observableFromEvent(editor.onDidChangeConfiguration, () => editor.getOption(62 /* EditorOption.inlineSuggest */).mode), this._enabled);\n                    this.model.set(model, tx);\n                }\n            });\n        }));\n        const styleElement = this._register(createStyleSheet2());\n        this._register(autorun(reader => {\n            const fontFamily = this._fontFamily.read(reader);\n            styleElement.setStyle(fontFamily === '' || fontFamily === 'default' ? `` : `\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .ghost-text {\n\tfont-family: ${fontFamily};\n}`);\n        }));\n        const getReason = (e) => {\n            var _a;\n            if (e.isUndoing) {\n                return VersionIdChangeReason.Undo;\n            }\n            if (e.isRedoing) {\n                return VersionIdChangeReason.Redo;\n            }\n            if ((_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.isAcceptingPartially) {\n                return VersionIdChangeReason.AcceptWord;\n            }\n            return VersionIdChangeReason.Other;\n        };\n        this._register(editor.onDidChangeModelContent((e) => transaction(tx => \n        /** @description InlineCompletionsController.onDidChangeModelContent */\n        this.updateObservables(tx, getReason(e)))));\n        this._register(editor.onDidChangeCursorPosition(e => transaction(tx => {\n            var _a;\n            /** @description InlineCompletionsController.onDidChangeCursorPosition */\n            this.updateObservables(tx, VersionIdChangeReason.Other);\n            if (e.reason === 3 /* CursorChangeReason.Explicit */ || e.source === 'api') {\n                (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.stop(tx);\n            }\n        })));\n        this._register(editor.onDidType(() => transaction(tx => {\n            var _a;\n            /** @description InlineCompletionsController.onDidType */\n            this.updateObservables(tx, VersionIdChangeReason.Other);\n            if (this._enabled.get()) {\n                (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.trigger(tx);\n            }\n        })));\n        this._register(this._commandService.onDidExecuteCommand((e) => {\n            // These commands don't trigger onDidType.\n            const commands = new Set([\n                CoreEditingCommands.Tab.id,\n                CoreEditingCommands.DeleteLeft.id,\n                CoreEditingCommands.DeleteRight.id,\n                inlineSuggestCommitId,\n                'acceptSelectedSuggestion',\n            ]);\n            if (commands.has(e.commandId) && editor.hasTextFocus() && this._enabled.get()) {\n                transaction(tx => {\n                    var _a;\n                    /** @description onDidExecuteCommand */\n                    (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.trigger(tx);\n                });\n            }\n        }));\n        this._register(this.editor.onDidBlurEditorWidget(() => {\n            // This is a hidden setting very useful for debugging\n            if (this._contextKeyService.getContextKeyValue('accessibleViewIsShown') || this._configurationService.getValue('editor.inlineSuggest.keepOnBlur') ||\n                editor.getOption(62 /* EditorOption.inlineSuggest */).keepOnBlur) {\n                return;\n            }\n            if (InlineSuggestionHintsContentWidget.dropDownVisible) {\n                return;\n            }\n            transaction(tx => {\n                var _a;\n                /** @description InlineCompletionsController.onDidBlurEditorWidget */\n                (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.stop(tx);\n            });\n        }));\n        this._register(autorun(reader => {\n            var _a;\n            /** @description InlineCompletionsController.forceRenderingAbove */\n            const state = (_a = this.model.read(reader)) === null || _a === void 0 ? void 0 : _a.state.read(reader);\n            if (state === null || state === void 0 ? void 0 : state.suggestItem) {\n                if (state.primaryGhostText.lineCount >= 2) {\n                    this._suggestWidgetAdaptor.forceRenderingAbove();\n                }\n            }\n            else {\n                this._suggestWidgetAdaptor.stopForceRenderingAbove();\n            }\n        }));\n        this._register(toDisposable(() => {\n            this._suggestWidgetAdaptor.stopForceRenderingAbove();\n        }));\n        let lastInlineCompletionId = undefined;\n        this._register(autorunHandleChanges({\n            handleChange: (context, changeSummary) => {\n                if (context.didChange(this._playAccessibilitySignal)) {\n                    lastInlineCompletionId = undefined;\n                }\n                return true;\n            },\n        }, async (reader) => {\n            /** @description InlineCompletionsController.playAccessibilitySignalAndReadSuggestion */\n            this._playAccessibilitySignal.read(reader);\n            const model = this.model.read(reader);\n            const state = model === null || model === void 0 ? void 0 : model.state.read(reader);\n            if (!model || !state || !state.inlineCompletion) {\n                lastInlineCompletionId = undefined;\n                return;\n            }\n            if (state.inlineCompletion.semanticId !== lastInlineCompletionId) {\n                lastInlineCompletionId = state.inlineCompletion.semanticId;\n                const lineText = model.textModel.getLineContent(state.primaryGhostText.lineNumber);\n                this._accessibilitySignalService.playSignal(AccessibilitySignal.inlineSuggestion).then(() => {\n                    if (this.editor.getOption(8 /* EditorOption.screenReaderAnnounceInlineSuggestion */)) {\n                        this.provideScreenReaderUpdate(state.primaryGhostText.renderForScreenReader(lineText));\n                    }\n                });\n            }\n        }));\n        this._register(new InlineCompletionsHintsWidget(this.editor, this.model, this._instantiationService));\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('accessibility.verbosity.inlineCompletions')) {\n                this.editor.updateOptions({ inlineCompletionsAccessibilityVerbose: this._configurationService.getValue('accessibility.verbosity.inlineCompletions') });\n            }\n        }));\n        this.editor.updateOptions({ inlineCompletionsAccessibilityVerbose: this._configurationService.getValue('accessibility.verbosity.inlineCompletions') });\n    }\n    playAccessibilitySignal(tx) {\n        this._playAccessibilitySignal.trigger(tx);\n    }\n    provideScreenReaderUpdate(content) {\n        const accessibleViewShowing = this._contextKeyService.getContextKeyValue('accessibleViewIsShown');\n        const accessibleViewKeybinding = this._keybindingService.lookupKeybinding('editor.action.accessibleView');\n        let hint;\n        if (!accessibleViewShowing && accessibleViewKeybinding && this.editor.getOption(149 /* EditorOption.inlineCompletionsAccessibilityVerbose */)) {\n            hint = localize('showAccessibleViewHint', \"Inspect this in the accessible view ({0})\", accessibleViewKeybinding.getAriaLabel());\n        }\n        hint ? alert(content + ', ' + hint) : alert(content);\n    }\n    /**\n     * Copies over the relevant state from the text model to observables.\n     * This solves all kind of eventing issues, as we make sure we always operate on the latest state,\n     * regardless of who calls into us.\n     */\n    updateObservables(tx, changeReason) {\n        var _a, _b, _c;\n        const newModel = this.editor.getModel();\n        this._textModelVersionId.set((_a = newModel === null || newModel === void 0 ? void 0 : newModel.getVersionId()) !== null && _a !== void 0 ? _a : -1, tx, changeReason);\n        this._positions.set((_c = (_b = this.editor.getSelections()) === null || _b === void 0 ? void 0 : _b.map(selection => selection.getPosition())) !== null && _c !== void 0 ? _c : [new Position(1, 1)], tx);\n    }\n    shouldShowHoverAt(range) {\n        var _a;\n        const ghostText = (_a = this.model.get()) === null || _a === void 0 ? void 0 : _a.primaryGhostText.get();\n        if (ghostText) {\n            return ghostText.parts.some(p => range.containsPosition(new Position(ghostText.lineNumber, p.column)));\n        }\n        return false;\n    }\n    shouldShowHoverAtViewZone(viewZoneId) {\n        var _a, _b;\n        return (_b = (_a = this._ghostTextWidgets.get()[0]) === null || _a === void 0 ? void 0 : _a.ownsViewZone(viewZoneId)) !== null && _b !== void 0 ? _b : false;\n    }\n};\nInlineCompletionsController.ID = 'editor.contrib.inlineCompletionsController';\nInlineCompletionsController = InlineCompletionsController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IContextKeyService),\n    __param(3, IConfigurationService),\n    __param(4, ICommandService),\n    __param(5, ILanguageFeatureDebounceService),\n    __param(6, ILanguageFeaturesService),\n    __param(7, IAccessibilitySignalService),\n    __param(8, IKeybindingService)\n], InlineCompletionsController);\nexport { InlineCompletionsController };\nfunction convertItemsToStableObservables(items, store) {\n    const result = observableValue('result', []);\n    const innerObservables = [];\n    store.add(autorun(reader => {\n        const itemsValue = items.read(reader);\n        transaction(tx => {\n            if (itemsValue.length !== innerObservables.length) {\n                innerObservables.length = itemsValue.length;\n                for (let i = 0; i < innerObservables.length; i++) {\n                    if (!innerObservables[i]) {\n                        innerObservables[i] = observableValue('item', itemsValue[i]);\n                    }\n                }\n                result.set([...innerObservables], tx);\n            }\n            innerObservables.forEach((o, i) => o.set(itemsValue[i], tx));\n        });\n    }));\n    return result;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}