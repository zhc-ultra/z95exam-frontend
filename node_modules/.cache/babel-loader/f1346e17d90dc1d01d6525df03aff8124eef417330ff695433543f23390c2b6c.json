{"ast":null,"code":"import _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { createCancelablePromise, disposableTimeout, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../common/config/editorOptions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { getCodeLensModel } from './codelens.js';\nimport { ICodeLensCache } from './codeLensCache.js';\nimport { CodeLensHelper, CodeLensWidget } from './codelensWidget.js';\nimport { localize } from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nvar CodeLensContribution = /*#__PURE__*/function () {\n  function CodeLensContribution(_editor, _languageFeaturesService, debounceService, _commandService, _notificationService, _codeLensCache) {\n    var _this = this;\n    _classCallCheck(this, CodeLensContribution);\n    this._editor = _editor;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._commandService = _commandService;\n    this._notificationService = _notificationService;\n    this._codeLensCache = _codeLensCache;\n    this._disposables = new DisposableStore();\n    this._localToDispose = new DisposableStore();\n    this._lenses = [];\n    this._oldCodeLensModels = new DisposableStore();\n    this._provideCodeLensDebounce = debounceService[\"for\"](_languageFeaturesService.codeLensProvider, 'CodeLensProvide', {\n      min: 250\n    });\n    this._resolveCodeLensesDebounce = debounceService[\"for\"](_languageFeaturesService.codeLensProvider, 'CodeLensResolve', {\n      min: 250,\n      salt: 'resolve'\n    });\n    this._resolveCodeLensesScheduler = new RunOnceScheduler(function () {\n      return _this._resolveCodeLensesInViewport();\n    }, this._resolveCodeLensesDebounce[\"default\"]());\n    this._disposables.add(this._editor.onDidChangeModel(function () {\n      return _this._onModelChange();\n    }));\n    this._disposables.add(this._editor.onDidChangeModelLanguage(function () {\n      return _this._onModelChange();\n    }));\n    this._disposables.add(this._editor.onDidChangeConfiguration(function (e) {\n      if (e.hasChanged(50 /* EditorOption.fontInfo */) || e.hasChanged(19 /* EditorOption.codeLensFontSize */) || e.hasChanged(18 /* EditorOption.codeLensFontFamily */)) {\n        _this._updateLensStyle();\n      }\n      if (e.hasChanged(17 /* EditorOption.codeLens */)) {\n        _this._onModelChange();\n      }\n    }));\n    this._disposables.add(_languageFeaturesService.codeLensProvider.onDidChange(this._onModelChange, this));\n    this._onModelChange();\n    this._updateLensStyle();\n  }\n  return _createClass(CodeLensContribution, [{\n    key: \"dispose\",\n    value: function dispose() {\n      var _a;\n      this._localDispose();\n      this._disposables.dispose();\n      this._oldCodeLensModels.dispose();\n      (_a = this._currentCodeLensModel) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n  }, {\n    key: \"_getLayoutInfo\",\n    value: function _getLayoutInfo() {\n      var lineHeightFactor = Math.max(1.3, this._editor.getOption(67 /* EditorOption.lineHeight */) / this._editor.getOption(52 /* EditorOption.fontSize */));\n      var fontSize = this._editor.getOption(19 /* EditorOption.codeLensFontSize */);\n      if (!fontSize || fontSize < 5) {\n        fontSize = this._editor.getOption(52 /* EditorOption.fontSize */) * .9 | 0;\n      }\n      return {\n        fontSize: fontSize,\n        codeLensHeight: fontSize * lineHeightFactor | 0\n      };\n    }\n  }, {\n    key: \"_updateLensStyle\",\n    value: function _updateLensStyle() {\n      var _this2 = this;\n      var _this$_getLayoutInfo = this._getLayoutInfo(),\n        codeLensHeight = _this$_getLayoutInfo.codeLensHeight,\n        fontSize = _this$_getLayoutInfo.fontSize;\n      var fontFamily = this._editor.getOption(18 /* EditorOption.codeLensFontFamily */);\n      var editorFontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n      var _this$_editor$getCont = this._editor.getContainerDomNode(),\n        style = _this$_editor$getCont.style;\n      style.setProperty('--vscode-editorCodeLens-lineHeight', \"\".concat(codeLensHeight, \"px\"));\n      style.setProperty('--vscode-editorCodeLens-fontSize', \"\".concat(fontSize, \"px\"));\n      style.setProperty('--vscode-editorCodeLens-fontFeatureSettings', editorFontInfo.fontFeatureSettings);\n      if (fontFamily) {\n        style.setProperty('--vscode-editorCodeLens-fontFamily', fontFamily);\n        style.setProperty('--vscode-editorCodeLens-fontFamilyDefault', EDITOR_FONT_DEFAULTS.fontFamily);\n      }\n      //\n      this._editor.changeViewZones(function (accessor) {\n        var _iterator = _createForOfIteratorHelper(_this2._lenses),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var lens = _step.value;\n            lens.updateHeight(codeLensHeight, accessor);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      });\n    }\n  }, {\n    key: \"_localDispose\",\n    value: function _localDispose() {\n      var _a, _b, _c;\n      (_a = this._getCodeLensModelPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n      this._getCodeLensModelPromise = undefined;\n      (_b = this._resolveCodeLensesPromise) === null || _b === void 0 ? void 0 : _b.cancel();\n      this._resolveCodeLensesPromise = undefined;\n      this._localToDispose.clear();\n      this._oldCodeLensModels.clear();\n      (_c = this._currentCodeLensModel) === null || _c === void 0 ? void 0 : _c.dispose();\n    }\n  }, {\n    key: \"_onModelChange\",\n    value: function _onModelChange() {\n      var _this3 = this;\n      this._localDispose();\n      var model = this._editor.getModel();\n      if (!model) {\n        return;\n      }\n      if (!this._editor.getOption(17 /* EditorOption.codeLens */) || model.isTooLargeForTokenization()) {\n        return;\n      }\n      var cachedLenses = this._codeLensCache.get(model);\n      if (cachedLenses) {\n        this._renderCodeLensSymbols(cachedLenses);\n      }\n      if (!this._languageFeaturesService.codeLensProvider.has(model)) {\n        // no provider -> return but check with\n        // cached lenses. they expire after 30 seconds\n        if (cachedLenses) {\n          disposableTimeout(function () {\n            var cachedLensesNow = _this3._codeLensCache.get(model);\n            if (cachedLenses === cachedLensesNow) {\n              _this3._codeLensCache[\"delete\"](model);\n              _this3._onModelChange();\n            }\n          }, 30 * 1000, this._localToDispose);\n        }\n        return;\n      }\n      var _iterator2 = _createForOfIteratorHelper(this._languageFeaturesService.codeLensProvider.all(model)),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var provider = _step2.value;\n          if (typeof provider.onDidChange === 'function') {\n            var registration = provider.onDidChange(function () {\n              return scheduler.schedule();\n            });\n            this._localToDispose.add(registration);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var scheduler = new RunOnceScheduler(function () {\n        var _a;\n        var t1 = Date.now();\n        (_a = _this3._getCodeLensModelPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n        _this3._getCodeLensModelPromise = createCancelablePromise(function (token) {\n          return getCodeLensModel(_this3._languageFeaturesService.codeLensProvider, model, token);\n        });\n        _this3._getCodeLensModelPromise.then(function (result) {\n          if (_this3._currentCodeLensModel) {\n            _this3._oldCodeLensModels.add(_this3._currentCodeLensModel);\n          }\n          _this3._currentCodeLensModel = result;\n          // cache model to reduce flicker\n          _this3._codeLensCache.put(model, result);\n          // update moving average\n          var newDelay = _this3._provideCodeLensDebounce.update(model, Date.now() - t1);\n          scheduler.delay = newDelay;\n          // render lenses\n          _this3._renderCodeLensSymbols(result);\n          // dom.scheduleAtNextAnimationFrame(() => this._resolveCodeLensesInViewport());\n          _this3._resolveCodeLensesInViewportSoon();\n        }, onUnexpectedError);\n      }, this._provideCodeLensDebounce.get(model));\n      this._localToDispose.add(scheduler);\n      this._localToDispose.add(toDisposable(function () {\n        return _this3._resolveCodeLensesScheduler.cancel();\n      }));\n      this._localToDispose.add(this._editor.onDidChangeModelContent(function () {\n        var _a;\n        _this3._editor.changeDecorations(function (decorationsAccessor) {\n          _this3._editor.changeViewZones(function (viewZonesAccessor) {\n            var toDispose = [];\n            var lastLensLineNumber = -1;\n            _this3._lenses.forEach(function (lens) {\n              if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\n                // invalid -> lens collapsed, attach range doesn't exist anymore\n                // line_number -> lenses should never be on the same line\n                toDispose.push(lens);\n              } else {\n                lens.update(viewZonesAccessor);\n                lastLensLineNumber = lens.getLineNumber();\n              }\n            });\n            var helper = new CodeLensHelper();\n            toDispose.forEach(function (l) {\n              l.dispose(helper, viewZonesAccessor);\n              _this3._lenses.splice(_this3._lenses.indexOf(l), 1);\n            });\n            helper.commit(decorationsAccessor);\n          });\n        });\n        // Ask for all references again\n        scheduler.schedule();\n        // Cancel pending and active resolve requests\n        _this3._resolveCodeLensesScheduler.cancel();\n        (_a = _this3._resolveCodeLensesPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n        _this3._resolveCodeLensesPromise = undefined;\n      }));\n      this._localToDispose.add(this._editor.onDidFocusEditorWidget(function () {\n        scheduler.schedule();\n      }));\n      this._localToDispose.add(this._editor.onDidBlurEditorText(function () {\n        scheduler.cancel();\n      }));\n      this._localToDispose.add(this._editor.onDidScrollChange(function (e) {\n        if (e.scrollTopChanged && _this3._lenses.length > 0) {\n          _this3._resolveCodeLensesInViewportSoon();\n        }\n      }));\n      this._localToDispose.add(this._editor.onDidLayoutChange(function () {\n        _this3._resolveCodeLensesInViewportSoon();\n      }));\n      this._localToDispose.add(toDisposable(function () {\n        if (_this3._editor.getModel()) {\n          var scrollState = StableEditorScrollState.capture(_this3._editor);\n          _this3._editor.changeDecorations(function (decorationsAccessor) {\n            _this3._editor.changeViewZones(function (viewZonesAccessor) {\n              _this3._disposeAllLenses(decorationsAccessor, viewZonesAccessor);\n            });\n          });\n          scrollState.restore(_this3._editor);\n        } else {\n          // No accessors available\n          _this3._disposeAllLenses(undefined, undefined);\n        }\n      }));\n      this._localToDispose.add(this._editor.onMouseDown(function (e) {\n        if (e.target.type !== 9 /* MouseTargetType.CONTENT_WIDGET */) {\n          return;\n        }\n        var target = e.target.element;\n        if ((target === null || target === void 0 ? void 0 : target.tagName) === 'SPAN') {\n          target = target.parentElement;\n        }\n        if ((target === null || target === void 0 ? void 0 : target.tagName) === 'A') {\n          var _iterator3 = _createForOfIteratorHelper(_this3._lenses),\n            _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              var lens = _step3.value;\n              var command = lens.getCommand(target);\n              if (command) {\n                var _this3$_commandServic;\n                (_this3$_commandServic = _this3._commandService).executeCommand.apply(_this3$_commandServic, [command.id].concat(_toConsumableArray(command.arguments || [])))[\"catch\"](function (err) {\n                  return _this3._notificationService.error(err);\n                });\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n        }\n      }));\n      scheduler.schedule();\n    }\n  }, {\n    key: \"_disposeAllLenses\",\n    value: function _disposeAllLenses(decChangeAccessor, viewZoneChangeAccessor) {\n      var helper = new CodeLensHelper();\n      var _iterator4 = _createForOfIteratorHelper(this._lenses),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var lens = _step4.value;\n          lens.dispose(helper, viewZoneChangeAccessor);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      if (decChangeAccessor) {\n        helper.commit(decChangeAccessor);\n      }\n      this._lenses.length = 0;\n    }\n  }, {\n    key: \"_renderCodeLensSymbols\",\n    value: function _renderCodeLensSymbols(symbols) {\n      var _this4 = this;\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      var maxLineNumber = this._editor.getModel().getLineCount();\n      var groups = [];\n      var lastGroup;\n      var _iterator5 = _createForOfIteratorHelper(symbols.lenses),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var symbol = _step5.value;\n          var line = symbol.symbol.range.startLineNumber;\n          if (line < 1 || line > maxLineNumber) {\n            // invalid code lens\n            continue;\n          } else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\n            // on same line as previous\n            lastGroup.push(symbol);\n          } else {\n            // on later line as previous\n            lastGroup = [symbol];\n            groups.push(lastGroup);\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      if (!groups.length && !this._lenses.length) {\n        // Nothing to change\n        return;\n      }\n      var scrollState = StableEditorScrollState.capture(this._editor);\n      var layoutInfo = this._getLayoutInfo();\n      this._editor.changeDecorations(function (decorationsAccessor) {\n        _this4._editor.changeViewZones(function (viewZoneAccessor) {\n          var helper = new CodeLensHelper();\n          var codeLensIndex = 0;\n          var groupsIndex = 0;\n          while (groupsIndex < groups.length && codeLensIndex < _this4._lenses.length) {\n            var symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\n            var codeLensLineNumber = _this4._lenses[codeLensIndex].getLineNumber();\n            if (codeLensLineNumber < symbolsLineNumber) {\n              _this4._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n              _this4._lenses.splice(codeLensIndex, 1);\n            } else if (codeLensLineNumber === symbolsLineNumber) {\n              _this4._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\n              groupsIndex++;\n              codeLensIndex++;\n            } else {\n              _this4._lenses.splice(codeLensIndex, 0, new CodeLensWidget(groups[groupsIndex], _this4._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, function () {\n                return _this4._resolveCodeLensesInViewportSoon();\n              }));\n              codeLensIndex++;\n              groupsIndex++;\n            }\n          }\n          // Delete extra code lenses\n          while (codeLensIndex < _this4._lenses.length) {\n            _this4._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n            _this4._lenses.splice(codeLensIndex, 1);\n          }\n          // Create extra symbols\n          while (groupsIndex < groups.length) {\n            _this4._lenses.push(new CodeLensWidget(groups[groupsIndex], _this4._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, function () {\n              return _this4._resolveCodeLensesInViewportSoon();\n            }));\n            groupsIndex++;\n          }\n          helper.commit(decorationsAccessor);\n        });\n      });\n      scrollState.restore(this._editor);\n    }\n  }, {\n    key: \"_resolveCodeLensesInViewportSoon\",\n    value: function _resolveCodeLensesInViewportSoon() {\n      var model = this._editor.getModel();\n      if (model) {\n        this._resolveCodeLensesScheduler.schedule();\n      }\n    }\n  }, {\n    key: \"_resolveCodeLensesInViewport\",\n    value: function _resolveCodeLensesInViewport() {\n      var _this5 = this;\n      var _a;\n      (_a = this._resolveCodeLensesPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n      this._resolveCodeLensesPromise = undefined;\n      var model = this._editor.getModel();\n      if (!model) {\n        return;\n      }\n      var toResolve = [];\n      var lenses = [];\n      this._lenses.forEach(function (lens) {\n        var request = lens.computeIfNecessary(model);\n        if (request) {\n          toResolve.push(request);\n          lenses.push(lens);\n        }\n      });\n      if (toResolve.length === 0) {\n        return;\n      }\n      var t1 = Date.now();\n      var resolvePromise = createCancelablePromise(function (token) {\n        var promises = toResolve.map(function (request, i) {\n          var resolvedSymbols = new Array(request.length);\n          var promises = request.map(function (request, i) {\n            if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') {\n              return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then(function (symbol) {\n                resolvedSymbols[i] = symbol;\n              }, onUnexpectedExternalError);\n            } else {\n              resolvedSymbols[i] = request.symbol;\n              return Promise.resolve(undefined);\n            }\n          });\n          return Promise.all(promises).then(function () {\n            if (!token.isCancellationRequested && !lenses[i].isDisposed()) {\n              lenses[i].updateCommands(resolvedSymbols);\n            }\n          });\n        });\n        return Promise.all(promises);\n      });\n      this._resolveCodeLensesPromise = resolvePromise;\n      this._resolveCodeLensesPromise.then(function () {\n        // update moving average\n        var newDelay = _this5._resolveCodeLensesDebounce.update(model, Date.now() - t1);\n        _this5._resolveCodeLensesScheduler.delay = newDelay;\n        if (_this5._currentCodeLensModel) {\n          // update the cached state with new resolved items\n          _this5._codeLensCache.put(model, _this5._currentCodeLensModel);\n        }\n        _this5._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model\n        if (resolvePromise === _this5._resolveCodeLensesPromise) {\n          _this5._resolveCodeLensesPromise = undefined;\n        }\n      }, function (err) {\n        onUnexpectedError(err); // can also be cancellation!\n        if (resolvePromise === _this5._resolveCodeLensesPromise) {\n          _this5._resolveCodeLensesPromise = undefined;\n        }\n      });\n    }\n  }, {\n    key: \"getModel\",\n    value: function () {\n      var _getModel = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _a;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this._getCodeLensModelPromise;\n            case 2:\n              _context.next = 4;\n              return this._resolveCodeLensesPromise;\n            case 4:\n              return _context.abrupt(\"return\", !((_a = this._currentCodeLensModel) === null || _a === void 0 ? void 0 : _a.isDisposed) ? this._currentCodeLensModel : undefined);\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n      return getModel;\n    }()\n  }]);\n}();\nCodeLensContribution.ID = 'css.editor.codeLens';\nCodeLensContribution = __decorate([__param(1, ILanguageFeaturesService), __param(2, ILanguageFeatureDebounceService), __param(3, ICommandService), __param(4, INotificationService), __param(5, ICodeLensCache)], CodeLensContribution);\nexport { CodeLensContribution };\nregisterEditorContribution(CodeLensContribution.ID, CodeLensContribution, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction( /*#__PURE__*/function (_EditorAction) {\n  function ShowLensesInCurrentLine() {\n    _classCallCheck(this, ShowLensesInCurrentLine);\n    return _callSuper(this, ShowLensesInCurrentLine, [{\n      id: 'codelens.showLensesInCurrentLine',\n      precondition: EditorContextKeys.hasCodeLensProvider,\n      label: localize('showLensOnLine', \"Show CodeLens Commands For Current Line\"),\n      alias: 'Show CodeLens Commands For Current Line'\n    }]);\n  }\n  _inherits(ShowLensesInCurrentLine, _EditorAction);\n  return _createClass(ShowLensesInCurrentLine, [{\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(accessor, editor) {\n        var quickInputService, commandService, notificationService, lineNumber, codelensController, model, items, _iterator6, _step6, lens, item, command, newModel, newLens;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (editor.hasModel()) {\n                _context2.next = 2;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 2:\n              quickInputService = accessor.get(IQuickInputService);\n              commandService = accessor.get(ICommandService);\n              notificationService = accessor.get(INotificationService);\n              lineNumber = editor.getSelection().positionLineNumber;\n              codelensController = editor.getContribution(CodeLensContribution.ID);\n              if (codelensController) {\n                _context2.next = 9;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 9:\n              _context2.next = 11;\n              return codelensController.getModel();\n            case 11:\n              model = _context2.sent;\n              if (model) {\n                _context2.next = 14;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 14:\n              items = [];\n              _iterator6 = _createForOfIteratorHelper(model.lenses);\n              try {\n                for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n                  lens = _step6.value;\n                  if (lens.symbol.command && lens.symbol.range.startLineNumber === lineNumber) {\n                    items.push({\n                      label: lens.symbol.command.title,\n                      command: lens.symbol.command\n                    });\n                  }\n                }\n              } catch (err) {\n                _iterator6.e(err);\n              } finally {\n                _iterator6.f();\n              }\n              if (!(items.length === 0)) {\n                _context2.next = 19;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 19:\n              _context2.next = 21;\n              return quickInputService.pick(items, {\n                canPickMany: false,\n                placeHolder: localize('placeHolder', \"Select a command\")\n              });\n            case 21:\n              item = _context2.sent;\n              if (item) {\n                _context2.next = 24;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 24:\n              command = item.command;\n              if (!model.isDisposed) {\n                _context2.next = 33;\n                break;\n              }\n              _context2.next = 28;\n              return codelensController.getModel();\n            case 28:\n              newModel = _context2.sent;\n              newLens = newModel === null || newModel === void 0 ? void 0 : newModel.lenses.find(function (lens) {\n                var _a;\n                return lens.symbol.range.startLineNumber === lineNumber && ((_a = lens.symbol.command) === null || _a === void 0 ? void 0 : _a.title) === command.title;\n              });\n              if (!(!newLens || !newLens.symbol.command)) {\n                _context2.next = 32;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 32:\n              command = newLens.symbol.command;\n            case 33:\n              _context2.prev = 33;\n              _context2.next = 36;\n              return commandService.executeCommand.apply(commandService, [command.id].concat(_toConsumableArray(command.arguments || [])));\n            case 36:\n              _context2.next = 41;\n              break;\n            case 38:\n              _context2.prev = 38;\n              _context2.t0 = _context2[\"catch\"](33);\n              notificationService.error(_context2.t0);\n            case 41:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[33, 38]]);\n      }));\n      function run(_x, _x2) {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n  }]);\n}(EditorAction));","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","createCancelablePromise","disposableTimeout","RunOnceScheduler","onUnexpectedError","onUnexpectedExternalError","DisposableStore","toDisposable","StableEditorScrollState","EditorAction","registerEditorAction","registerEditorContribution","EDITOR_FONT_DEFAULTS","EditorContextKeys","getCodeLensModel","ICodeLensCache","CodeLensHelper","CodeLensWidget","localize","ICommandService","INotificationService","IQuickInputService","ILanguageFeatureDebounceService","ILanguageFeaturesService","CodeLensContribution","_editor","_languageFeaturesService","debounceService","_commandService","_notificationService","_codeLensCache","_this","_classCallCheck","_disposables","_localToDispose","_lenses","_oldCodeLensModels","_provideCodeLensDebounce","codeLensProvider","min","_resolveCodeLensesDebounce","salt","_resolveCodeLensesScheduler","_resolveCodeLensesInViewport","add","onDidChangeModel","_onModelChange","onDidChangeModelLanguage","onDidChangeConfiguration","e","hasChanged","_updateLensStyle","onDidChange","_createClass","value","dispose","_a","_localDispose","_currentCodeLensModel","_getLayoutInfo","lineHeightFactor","Math","max","getOption","fontSize","codeLensHeight","_this2","_this$_getLayoutInfo","fontFamily","editorFontInfo","_this$_editor$getCont","getContainerDomNode","style","setProperty","concat","fontFeatureSettings","changeViewZones","accessor","_iterator","_createForOfIteratorHelper","_step","s","n","done","lens","updateHeight","err","f","_b","_c","_getCodeLensModelPromise","cancel","undefined","_resolveCodeLensesPromise","clear","_this3","model","getModel","isTooLargeForTokenization","cachedLenses","get","_renderCodeLensSymbols","has","cachedLensesNow","_iterator2","all","_step2","provider","registration","scheduler","schedule","t1","Date","now","token","then","result","put","newDelay","update","delay","_resolveCodeLensesInViewportSoon","onDidChangeModelContent","changeDecorations","decorationsAccessor","viewZonesAccessor","toDispose","lastLensLineNumber","forEach","isValid","getLineNumber","push","helper","l","splice","indexOf","commit","onDidFocusEditorWidget","onDidBlurEditorText","onDidScrollChange","scrollTopChanged","onDidLayoutChange","scrollState","capture","_disposeAllLenses","restore","onMouseDown","type","element","tagName","parentElement","_iterator3","_step3","command","getCommand","_this3$_commandServic","executeCommand","apply","id","_toConsumableArray","error","decChangeAccessor","viewZoneChangeAccessor","_iterator4","_step4","symbols","_this4","hasModel","maxLineNumber","getLineCount","groups","lastGroup","_iterator5","lenses","_step5","symbol","line","range","startLineNumber","layoutInfo","viewZoneAccessor","codeLensIndex","groupsIndex","symbolsLineNumber","codeLensLineNumber","updateCodeLensSymbols","_this5","toResolve","request","computeIfNecessary","resolvePromise","promises","map","resolvedSymbols","Array","resolveCodeLens","Promise","resolve","isCancellationRequested","isDisposed","updateCommands","_getModel","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","ID","_EditorAction","ShowLensesInCurrentLine","_callSuper","precondition","hasCodeLensProvider","label","alias","_inherits","_run","_callee2","editor","quickInputService","commandService","notificationService","lineNumber","codelensController","items","_iterator6","_step6","item","newModel","newLens","_callee2$","_context2","getSelection","positionLineNumber","getContribution","sent","title","pick","canPickMany","placeHolder","find","t0","run","_x","_x2"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codelensController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createCancelablePromise, disposableTimeout, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../common/config/editorOptions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { getCodeLensModel } from './codelens.js';\nimport { ICodeLensCache } from './codeLensCache.js';\nimport { CodeLensHelper, CodeLensWidget } from './codelensWidget.js';\nimport { localize } from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nlet CodeLensContribution = class CodeLensContribution {\n    constructor(_editor, _languageFeaturesService, debounceService, _commandService, _notificationService, _codeLensCache) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._commandService = _commandService;\n        this._notificationService = _notificationService;\n        this._codeLensCache = _codeLensCache;\n        this._disposables = new DisposableStore();\n        this._localToDispose = new DisposableStore();\n        this._lenses = [];\n        this._oldCodeLensModels = new DisposableStore();\n        this._provideCodeLensDebounce = debounceService.for(_languageFeaturesService.codeLensProvider, 'CodeLensProvide', { min: 250 });\n        this._resolveCodeLensesDebounce = debounceService.for(_languageFeaturesService.codeLensProvider, 'CodeLensResolve', { min: 250, salt: 'resolve' });\n        this._resolveCodeLensesScheduler = new RunOnceScheduler(() => this._resolveCodeLensesInViewport(), this._resolveCodeLensesDebounce.default());\n        this._disposables.add(this._editor.onDidChangeModel(() => this._onModelChange()));\n        this._disposables.add(this._editor.onDidChangeModelLanguage(() => this._onModelChange()));\n        this._disposables.add(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(50 /* EditorOption.fontInfo */) || e.hasChanged(19 /* EditorOption.codeLensFontSize */) || e.hasChanged(18 /* EditorOption.codeLensFontFamily */)) {\n                this._updateLensStyle();\n            }\n            if (e.hasChanged(17 /* EditorOption.codeLens */)) {\n                this._onModelChange();\n            }\n        }));\n        this._disposables.add(_languageFeaturesService.codeLensProvider.onDidChange(this._onModelChange, this));\n        this._onModelChange();\n        this._updateLensStyle();\n    }\n    dispose() {\n        var _a;\n        this._localDispose();\n        this._disposables.dispose();\n        this._oldCodeLensModels.dispose();\n        (_a = this._currentCodeLensModel) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    _getLayoutInfo() {\n        const lineHeightFactor = Math.max(1.3, this._editor.getOption(67 /* EditorOption.lineHeight */) / this._editor.getOption(52 /* EditorOption.fontSize */));\n        let fontSize = this._editor.getOption(19 /* EditorOption.codeLensFontSize */);\n        if (!fontSize || fontSize < 5) {\n            fontSize = (this._editor.getOption(52 /* EditorOption.fontSize */) * .9) | 0;\n        }\n        return {\n            fontSize,\n            codeLensHeight: (fontSize * lineHeightFactor) | 0,\n        };\n    }\n    _updateLensStyle() {\n        const { codeLensHeight, fontSize } = this._getLayoutInfo();\n        const fontFamily = this._editor.getOption(18 /* EditorOption.codeLensFontFamily */);\n        const editorFontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        const { style } = this._editor.getContainerDomNode();\n        style.setProperty('--vscode-editorCodeLens-lineHeight', `${codeLensHeight}px`);\n        style.setProperty('--vscode-editorCodeLens-fontSize', `${fontSize}px`);\n        style.setProperty('--vscode-editorCodeLens-fontFeatureSettings', editorFontInfo.fontFeatureSettings);\n        if (fontFamily) {\n            style.setProperty('--vscode-editorCodeLens-fontFamily', fontFamily);\n            style.setProperty('--vscode-editorCodeLens-fontFamilyDefault', EDITOR_FONT_DEFAULTS.fontFamily);\n        }\n        //\n        this._editor.changeViewZones(accessor => {\n            for (const lens of this._lenses) {\n                lens.updateHeight(codeLensHeight, accessor);\n            }\n        });\n    }\n    _localDispose() {\n        var _a, _b, _c;\n        (_a = this._getCodeLensModelPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n        this._getCodeLensModelPromise = undefined;\n        (_b = this._resolveCodeLensesPromise) === null || _b === void 0 ? void 0 : _b.cancel();\n        this._resolveCodeLensesPromise = undefined;\n        this._localToDispose.clear();\n        this._oldCodeLensModels.clear();\n        (_c = this._currentCodeLensModel) === null || _c === void 0 ? void 0 : _c.dispose();\n    }\n    _onModelChange() {\n        this._localDispose();\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        if (!this._editor.getOption(17 /* EditorOption.codeLens */) || model.isTooLargeForTokenization()) {\n            return;\n        }\n        const cachedLenses = this._codeLensCache.get(model);\n        if (cachedLenses) {\n            this._renderCodeLensSymbols(cachedLenses);\n        }\n        if (!this._languageFeaturesService.codeLensProvider.has(model)) {\n            // no provider -> return but check with\n            // cached lenses. they expire after 30 seconds\n            if (cachedLenses) {\n                disposableTimeout(() => {\n                    const cachedLensesNow = this._codeLensCache.get(model);\n                    if (cachedLenses === cachedLensesNow) {\n                        this._codeLensCache.delete(model);\n                        this._onModelChange();\n                    }\n                }, 30 * 1000, this._localToDispose);\n            }\n            return;\n        }\n        for (const provider of this._languageFeaturesService.codeLensProvider.all(model)) {\n            if (typeof provider.onDidChange === 'function') {\n                const registration = provider.onDidChange(() => scheduler.schedule());\n                this._localToDispose.add(registration);\n            }\n        }\n        const scheduler = new RunOnceScheduler(() => {\n            var _a;\n            const t1 = Date.now();\n            (_a = this._getCodeLensModelPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n            this._getCodeLensModelPromise = createCancelablePromise(token => getCodeLensModel(this._languageFeaturesService.codeLensProvider, model, token));\n            this._getCodeLensModelPromise.then(result => {\n                if (this._currentCodeLensModel) {\n                    this._oldCodeLensModels.add(this._currentCodeLensModel);\n                }\n                this._currentCodeLensModel = result;\n                // cache model to reduce flicker\n                this._codeLensCache.put(model, result);\n                // update moving average\n                const newDelay = this._provideCodeLensDebounce.update(model, Date.now() - t1);\n                scheduler.delay = newDelay;\n                // render lenses\n                this._renderCodeLensSymbols(result);\n                // dom.scheduleAtNextAnimationFrame(() => this._resolveCodeLensesInViewport());\n                this._resolveCodeLensesInViewportSoon();\n            }, onUnexpectedError);\n        }, this._provideCodeLensDebounce.get(model));\n        this._localToDispose.add(scheduler);\n        this._localToDispose.add(toDisposable(() => this._resolveCodeLensesScheduler.cancel()));\n        this._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n            var _a;\n            this._editor.changeDecorations(decorationsAccessor => {\n                this._editor.changeViewZones(viewZonesAccessor => {\n                    const toDispose = [];\n                    let lastLensLineNumber = -1;\n                    this._lenses.forEach((lens) => {\n                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\n                            // invalid -> lens collapsed, attach range doesn't exist anymore\n                            // line_number -> lenses should never be on the same line\n                            toDispose.push(lens);\n                        }\n                        else {\n                            lens.update(viewZonesAccessor);\n                            lastLensLineNumber = lens.getLineNumber();\n                        }\n                    });\n                    const helper = new CodeLensHelper();\n                    toDispose.forEach((l) => {\n                        l.dispose(helper, viewZonesAccessor);\n                        this._lenses.splice(this._lenses.indexOf(l), 1);\n                    });\n                    helper.commit(decorationsAccessor);\n                });\n            });\n            // Ask for all references again\n            scheduler.schedule();\n            // Cancel pending and active resolve requests\n            this._resolveCodeLensesScheduler.cancel();\n            (_a = this._resolveCodeLensesPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n            this._resolveCodeLensesPromise = undefined;\n        }));\n        this._localToDispose.add(this._editor.onDidFocusEditorWidget(() => {\n            scheduler.schedule();\n        }));\n        this._localToDispose.add(this._editor.onDidBlurEditorText(() => {\n            scheduler.cancel();\n        }));\n        this._localToDispose.add(this._editor.onDidScrollChange(e => {\n            if (e.scrollTopChanged && this._lenses.length > 0) {\n                this._resolveCodeLensesInViewportSoon();\n            }\n        }));\n        this._localToDispose.add(this._editor.onDidLayoutChange(() => {\n            this._resolveCodeLensesInViewportSoon();\n        }));\n        this._localToDispose.add(toDisposable(() => {\n            if (this._editor.getModel()) {\n                const scrollState = StableEditorScrollState.capture(this._editor);\n                this._editor.changeDecorations(decorationsAccessor => {\n                    this._editor.changeViewZones(viewZonesAccessor => {\n                        this._disposeAllLenses(decorationsAccessor, viewZonesAccessor);\n                    });\n                });\n                scrollState.restore(this._editor);\n            }\n            else {\n                // No accessors available\n                this._disposeAllLenses(undefined, undefined);\n            }\n        }));\n        this._localToDispose.add(this._editor.onMouseDown(e => {\n            if (e.target.type !== 9 /* MouseTargetType.CONTENT_WIDGET */) {\n                return;\n            }\n            let target = e.target.element;\n            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'SPAN') {\n                target = target.parentElement;\n            }\n            if ((target === null || target === void 0 ? void 0 : target.tagName) === 'A') {\n                for (const lens of this._lenses) {\n                    const command = lens.getCommand(target);\n                    if (command) {\n                        this._commandService.executeCommand(command.id, ...(command.arguments || [])).catch(err => this._notificationService.error(err));\n                        break;\n                    }\n                }\n            }\n        }));\n        scheduler.schedule();\n    }\n    _disposeAllLenses(decChangeAccessor, viewZoneChangeAccessor) {\n        const helper = new CodeLensHelper();\n        for (const lens of this._lenses) {\n            lens.dispose(helper, viewZoneChangeAccessor);\n        }\n        if (decChangeAccessor) {\n            helper.commit(decChangeAccessor);\n        }\n        this._lenses.length = 0;\n    }\n    _renderCodeLensSymbols(symbols) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const maxLineNumber = this._editor.getModel().getLineCount();\n        const groups = [];\n        let lastGroup;\n        for (const symbol of symbols.lenses) {\n            const line = symbol.symbol.range.startLineNumber;\n            if (line < 1 || line > maxLineNumber) {\n                // invalid code lens\n                continue;\n            }\n            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\n                // on same line as previous\n                lastGroup.push(symbol);\n            }\n            else {\n                // on later line as previous\n                lastGroup = [symbol];\n                groups.push(lastGroup);\n            }\n        }\n        if (!groups.length && !this._lenses.length) {\n            // Nothing to change\n            return;\n        }\n        const scrollState = StableEditorScrollState.capture(this._editor);\n        const layoutInfo = this._getLayoutInfo();\n        this._editor.changeDecorations(decorationsAccessor => {\n            this._editor.changeViewZones(viewZoneAccessor => {\n                const helper = new CodeLensHelper();\n                let codeLensIndex = 0;\n                let groupsIndex = 0;\n                while (groupsIndex < groups.length && codeLensIndex < this._lenses.length) {\n                    const symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\n                    const codeLensLineNumber = this._lenses[codeLensIndex].getLineNumber();\n                    if (codeLensLineNumber < symbolsLineNumber) {\n                        this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n                        this._lenses.splice(codeLensIndex, 1);\n                    }\n                    else if (codeLensLineNumber === symbolsLineNumber) {\n                        this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\n                        groupsIndex++;\n                        codeLensIndex++;\n                    }\n                    else {\n                        this._lenses.splice(codeLensIndex, 0, new CodeLensWidget(groups[groupsIndex], this._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, () => this._resolveCodeLensesInViewportSoon()));\n                        codeLensIndex++;\n                        groupsIndex++;\n                    }\n                }\n                // Delete extra code lenses\n                while (codeLensIndex < this._lenses.length) {\n                    this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n                    this._lenses.splice(codeLensIndex, 1);\n                }\n                // Create extra symbols\n                while (groupsIndex < groups.length) {\n                    this._lenses.push(new CodeLensWidget(groups[groupsIndex], this._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, () => this._resolveCodeLensesInViewportSoon()));\n                    groupsIndex++;\n                }\n                helper.commit(decorationsAccessor);\n            });\n        });\n        scrollState.restore(this._editor);\n    }\n    _resolveCodeLensesInViewportSoon() {\n        const model = this._editor.getModel();\n        if (model) {\n            this._resolveCodeLensesScheduler.schedule();\n        }\n    }\n    _resolveCodeLensesInViewport() {\n        var _a;\n        (_a = this._resolveCodeLensesPromise) === null || _a === void 0 ? void 0 : _a.cancel();\n        this._resolveCodeLensesPromise = undefined;\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        const toResolve = [];\n        const lenses = [];\n        this._lenses.forEach((lens) => {\n            const request = lens.computeIfNecessary(model);\n            if (request) {\n                toResolve.push(request);\n                lenses.push(lens);\n            }\n        });\n        if (toResolve.length === 0) {\n            return;\n        }\n        const t1 = Date.now();\n        const resolvePromise = createCancelablePromise(token => {\n            const promises = toResolve.map((request, i) => {\n                const resolvedSymbols = new Array(request.length);\n                const promises = request.map((request, i) => {\n                    if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') {\n                        return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then(symbol => {\n                            resolvedSymbols[i] = symbol;\n                        }, onUnexpectedExternalError);\n                    }\n                    else {\n                        resolvedSymbols[i] = request.symbol;\n                        return Promise.resolve(undefined);\n                    }\n                });\n                return Promise.all(promises).then(() => {\n                    if (!token.isCancellationRequested && !lenses[i].isDisposed()) {\n                        lenses[i].updateCommands(resolvedSymbols);\n                    }\n                });\n            });\n            return Promise.all(promises);\n        });\n        this._resolveCodeLensesPromise = resolvePromise;\n        this._resolveCodeLensesPromise.then(() => {\n            // update moving average\n            const newDelay = this._resolveCodeLensesDebounce.update(model, Date.now() - t1);\n            this._resolveCodeLensesScheduler.delay = newDelay;\n            if (this._currentCodeLensModel) { // update the cached state with new resolved items\n                this._codeLensCache.put(model, this._currentCodeLensModel);\n            }\n            this._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model\n            if (resolvePromise === this._resolveCodeLensesPromise) {\n                this._resolveCodeLensesPromise = undefined;\n            }\n        }, err => {\n            onUnexpectedError(err); // can also be cancellation!\n            if (resolvePromise === this._resolveCodeLensesPromise) {\n                this._resolveCodeLensesPromise = undefined;\n            }\n        });\n    }\n    async getModel() {\n        var _a;\n        await this._getCodeLensModelPromise;\n        await this._resolveCodeLensesPromise;\n        return !((_a = this._currentCodeLensModel) === null || _a === void 0 ? void 0 : _a.isDisposed)\n            ? this._currentCodeLensModel\n            : undefined;\n    }\n};\nCodeLensContribution.ID = 'css.editor.codeLens';\nCodeLensContribution = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, ILanguageFeatureDebounceService),\n    __param(3, ICommandService),\n    __param(4, INotificationService),\n    __param(5, ICodeLensCache)\n], CodeLensContribution);\nexport { CodeLensContribution };\nregisterEditorContribution(CodeLensContribution.ID, CodeLensContribution, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(class ShowLensesInCurrentLine extends EditorAction {\n    constructor() {\n        super({\n            id: 'codelens.showLensesInCurrentLine',\n            precondition: EditorContextKeys.hasCodeLensProvider,\n            label: localize('showLensOnLine', \"Show CodeLens Commands For Current Line\"),\n            alias: 'Show CodeLens Commands For Current Line',\n        });\n    }\n    async run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const quickInputService = accessor.get(IQuickInputService);\n        const commandService = accessor.get(ICommandService);\n        const notificationService = accessor.get(INotificationService);\n        const lineNumber = editor.getSelection().positionLineNumber;\n        const codelensController = editor.getContribution(CodeLensContribution.ID);\n        if (!codelensController) {\n            return;\n        }\n        const model = await codelensController.getModel();\n        if (!model) {\n            // nothing\n            return;\n        }\n        const items = [];\n        for (const lens of model.lenses) {\n            if (lens.symbol.command && lens.symbol.range.startLineNumber === lineNumber) {\n                items.push({\n                    label: lens.symbol.command.title,\n                    command: lens.symbol.command\n                });\n            }\n        }\n        if (items.length === 0) {\n            // We dont want an empty picker\n            return;\n        }\n        const item = await quickInputService.pick(items, {\n            canPickMany: false,\n            placeHolder: localize('placeHolder', \"Select a command\")\n        });\n        if (!item) {\n            // Nothing picked\n            return;\n        }\n        let command = item.command;\n        if (model.isDisposed) {\n            // try to find the same command again in-case the model has been re-created in the meantime\n            // this is a best attempt approach which shouldn't be needed because eager model re-creates\n            // shouldn't happen due to focus in/out anymore\n            const newModel = await codelensController.getModel();\n            const newLens = newModel === null || newModel === void 0 ? void 0 : newModel.lenses.find(lens => { var _a; return lens.symbol.range.startLineNumber === lineNumber && ((_a = lens.symbol.command) === null || _a === void 0 ? void 0 : _a.title) === command.title; });\n            if (!newLens || !newLens.symbol.command) {\n                return;\n            }\n            command = newLens.symbol.command;\n        }\n        try {\n            await commandService.executeCommand(command.id, ...(command.arguments || []));\n        }\n        catch (err) {\n            notificationService.error(err);\n        }\n    }\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA,IAAIA,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGK,MAAM,CAACC,wBAAwB,CAACR,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEO,CAAC;EAC5H,IAAI,QAAOC,OAAO,iCAAAC,OAAA,CAAPD,OAAO,OAAK,QAAQ,IAAI,OAAOA,OAAO,CAACE,QAAQ,KAAK,UAAU,EAAEN,CAAC,GAAGI,OAAO,CAACE,QAAQ,CAACb,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIW,CAAC,GAAGd,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEQ,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIJ,CAAC,GAAGV,UAAU,CAACc,CAAC,CAAC,EAAEP,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACH,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACT,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGG,CAAC,CAACT,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIC,MAAM,CAACO,cAAc,CAACd,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,IAAIS,OAAO,GAAI,IAAI,IAAI,IAAI,CAACA,OAAO,IAAK,UAAUC,UAAU,EAAEC,SAAS,EAAE;EACrE,OAAO,UAAUjB,MAAM,EAAEC,GAAG,EAAE;IAAEgB,SAAS,CAACjB,MAAM,EAAEC,GAAG,EAAEe,UAAU,CAAC;EAAE,CAAC;AACzE,CAAC;AACD,SAASE,uBAAuB,EAAEC,iBAAiB,EAAEC,gBAAgB,QAAQ,kCAAkC;AAC/G,SAASC,iBAAiB,EAAEC,yBAAyB,QAAQ,mCAAmC;AAChG,SAASC,eAAe,EAAEC,YAAY,QAAQ,sCAAsC;AACpF,SAASC,uBAAuB,QAAQ,wCAAwC;AAChF,SAASC,YAAY,EAAEC,oBAAoB,EAAEC,0BAA0B,QAAQ,sCAAsC;AACrH,SAASC,oBAAoB,QAAQ,yCAAyC;AAC9E,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAASC,gBAAgB,QAAQ,eAAe;AAChD,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,cAAc,EAAEC,cAAc,QAAQ,qBAAqB;AACpE,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,eAAe,QAAQ,kDAAkD;AAClF,SAASC,oBAAoB,QAAQ,0DAA0D;AAC/F,SAASC,kBAAkB,QAAQ,sDAAsD;AACzF,SAASC,+BAA+B,QAAQ,qDAAqD;AACrG,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,IAAIC,oBAAoB;EACpB,SAAAA,qBAAYC,OAAO,EAAEC,wBAAwB,EAAEC,eAAe,EAAEC,eAAe,EAAEC,oBAAoB,EAAEC,cAAc,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAR,oBAAA;IACnH,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,wBAAwB,GAAGA,wBAAwB;IACxD,IAAI,CAACE,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACC,oBAAoB,GAAGA,oBAAoB;IAChD,IAAI,CAACC,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACG,YAAY,GAAG,IAAI3B,eAAe,CAAC,CAAC;IACzC,IAAI,CAAC4B,eAAe,GAAG,IAAI5B,eAAe,CAAC,CAAC;IAC5C,IAAI,CAAC6B,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,kBAAkB,GAAG,IAAI9B,eAAe,CAAC,CAAC;IAC/C,IAAI,CAAC+B,wBAAwB,GAAGV,eAAe,OAAI,CAACD,wBAAwB,CAACY,gBAAgB,EAAE,iBAAiB,EAAE;MAAEC,GAAG,EAAE;IAAI,CAAC,CAAC;IAC/H,IAAI,CAACC,0BAA0B,GAAGb,eAAe,OAAI,CAACD,wBAAwB,CAACY,gBAAgB,EAAE,iBAAiB,EAAE;MAAEC,GAAG,EAAE,GAAG;MAAEE,IAAI,EAAE;IAAU,CAAC,CAAC;IAClJ,IAAI,CAACC,2BAA2B,GAAG,IAAIvC,gBAAgB,CAAC;MAAA,OAAM4B,KAAI,CAACY,4BAA4B,CAAC,CAAC;IAAA,GAAE,IAAI,CAACH,0BAA0B,WAAQ,CAAC,CAAC,CAAC;IAC7I,IAAI,CAACP,YAAY,CAACW,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACoB,gBAAgB,CAAC;MAAA,OAAMd,KAAI,CAACe,cAAc,CAAC,CAAC;IAAA,EAAC,CAAC;IACjF,IAAI,CAACb,YAAY,CAACW,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACsB,wBAAwB,CAAC;MAAA,OAAMhB,KAAI,CAACe,cAAc,CAAC,CAAC;IAAA,EAAC,CAAC;IACzF,IAAI,CAACb,YAAY,CAACW,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACuB,wBAAwB,CAAC,UAACC,CAAC,EAAK;MAC/D,IAAIA,CAAC,CAACC,UAAU,CAAC,EAAE,CAAC,2BAA2B,CAAC,IAAID,CAAC,CAACC,UAAU,CAAC,EAAE,CAAC,mCAAmC,CAAC,IAAID,CAAC,CAACC,UAAU,CAAC,EAAE,CAAC,qCAAqC,CAAC,EAAE;QAChKnB,KAAI,CAACoB,gBAAgB,CAAC,CAAC;MAC3B;MACA,IAAIF,CAAC,CAACC,UAAU,CAAC,EAAE,CAAC,2BAA2B,CAAC,EAAE;QAC9CnB,KAAI,CAACe,cAAc,CAAC,CAAC;MACzB;IACJ,CAAC,CAAC,CAAC;IACH,IAAI,CAACb,YAAY,CAACW,GAAG,CAAClB,wBAAwB,CAACY,gBAAgB,CAACc,WAAW,CAAC,IAAI,CAACN,cAAc,EAAE,IAAI,CAAC,CAAC;IACvG,IAAI,CAACA,cAAc,CAAC,CAAC;IACrB,IAAI,CAACK,gBAAgB,CAAC,CAAC;EAC3B;EAAC,OAAAE,YAAA,CAAA7B,oBAAA;IAAAxC,GAAA;IAAAsE,KAAA,EACD,SAAAC,QAAA,EAAU;MACN,IAAIC,EAAE;MACN,IAAI,CAACC,aAAa,CAAC,CAAC;MACpB,IAAI,CAACxB,YAAY,CAACsB,OAAO,CAAC,CAAC;MAC3B,IAAI,CAACnB,kBAAkB,CAACmB,OAAO,CAAC,CAAC;MACjC,CAACC,EAAE,GAAG,IAAI,CAACE,qBAAqB,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,OAAO,CAAC,CAAC;IACvF;EAAC;IAAAvE,GAAA;IAAAsE,KAAA,EACD,SAAAK,eAAA,EAAiB;MACb,IAAMC,gBAAgB,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE,IAAI,CAACrC,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,6BAA6B,CAAC,GAAG,IAAI,CAACtC,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,2BAA2B,CAAC,CAAC;MACzJ,IAAIC,QAAQ,GAAG,IAAI,CAACvC,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,mCAAmC,CAAC;MAC7E,IAAI,CAACC,QAAQ,IAAIA,QAAQ,GAAG,CAAC,EAAE;QAC3BA,QAAQ,GAAI,IAAI,CAACvC,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,2BAA2B,CAAC,GAAG,EAAE,GAAI,CAAC;MAChF;MACA,OAAO;QACHC,QAAQ,EAARA,QAAQ;QACRC,cAAc,EAAGD,QAAQ,GAAGJ,gBAAgB,GAAI;MACpD,CAAC;IACL;EAAC;IAAA5E,GAAA;IAAAsE,KAAA,EACD,SAAAH,iBAAA,EAAmB;MAAA,IAAAe,MAAA;MACf,IAAAC,oBAAA,GAAqC,IAAI,CAACR,cAAc,CAAC,CAAC;QAAlDM,cAAc,GAAAE,oBAAA,CAAdF,cAAc;QAAED,QAAQ,GAAAG,oBAAA,CAARH,QAAQ;MAChC,IAAMI,UAAU,GAAG,IAAI,CAAC3C,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,qCAAqC,CAAC;MACnF,IAAMM,cAAc,GAAG,IAAI,CAAC5C,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,2BAA2B,CAAC;MAC7E,IAAAO,qBAAA,GAAkB,IAAI,CAAC7C,OAAO,CAAC8C,mBAAmB,CAAC,CAAC;QAA5CC,KAAK,GAAAF,qBAAA,CAALE,KAAK;MACbA,KAAK,CAACC,WAAW,CAAC,oCAAoC,KAAAC,MAAA,CAAKT,cAAc,OAAI,CAAC;MAC9EO,KAAK,CAACC,WAAW,CAAC,kCAAkC,KAAAC,MAAA,CAAKV,QAAQ,OAAI,CAAC;MACtEQ,KAAK,CAACC,WAAW,CAAC,6CAA6C,EAAEJ,cAAc,CAACM,mBAAmB,CAAC;MACpG,IAAIP,UAAU,EAAE;QACZI,KAAK,CAACC,WAAW,CAAC,oCAAoC,EAAEL,UAAU,CAAC;QACnEI,KAAK,CAACC,WAAW,CAAC,2CAA2C,EAAE7D,oBAAoB,CAACwD,UAAU,CAAC;MACnG;MACA;MACA,IAAI,CAAC3C,OAAO,CAACmD,eAAe,CAAC,UAAAC,QAAQ,EAAI;QAAA,IAAAC,SAAA,GAAAC,0BAAA,CAClBb,MAAI,CAAC/B,OAAO;UAAA6C,KAAA;QAAA;UAA/B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAiC;YAAA,IAAtBC,IAAI,GAAAJ,KAAA,CAAA1B,KAAA;YACX8B,IAAI,CAACC,YAAY,CAACpB,cAAc,EAAEY,QAAQ,CAAC;UAC/C;QAAC,SAAAS,GAAA;UAAAR,SAAA,CAAA7B,CAAA,CAAAqC,GAAA;QAAA;UAAAR,SAAA,CAAAS,CAAA;QAAA;MACL,CAAC,CAAC;IACN;EAAC;IAAAvG,GAAA;IAAAsE,KAAA,EACD,SAAAG,cAAA,EAAgB;MACZ,IAAID,EAAE,EAAEgC,EAAE,EAAEC,EAAE;MACd,CAACjC,EAAE,GAAG,IAAI,CAACkC,wBAAwB,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,MAAM,CAAC,CAAC;MACrF,IAAI,CAACD,wBAAwB,GAAGE,SAAS;MACzC,CAACJ,EAAE,GAAG,IAAI,CAACK,yBAAyB,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACG,MAAM,CAAC,CAAC;MACtF,IAAI,CAACE,yBAAyB,GAAGD,SAAS;MAC1C,IAAI,CAAC1D,eAAe,CAAC4D,KAAK,CAAC,CAAC;MAC5B,IAAI,CAAC1D,kBAAkB,CAAC0D,KAAK,CAAC,CAAC;MAC/B,CAACL,EAAE,GAAG,IAAI,CAAC/B,qBAAqB,MAAM,IAAI,IAAI+B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAClC,OAAO,CAAC,CAAC;IACvF;EAAC;IAAAvE,GAAA;IAAAsE,KAAA,EACD,SAAAR,eAAA,EAAiB;MAAA,IAAAiD,MAAA;MACb,IAAI,CAACtC,aAAa,CAAC,CAAC;MACpB,IAAMuC,KAAK,GAAG,IAAI,CAACvE,OAAO,CAACwE,QAAQ,CAAC,CAAC;MACrC,IAAI,CAACD,KAAK,EAAE;QACR;MACJ;MACA,IAAI,CAAC,IAAI,CAACvE,OAAO,CAACsC,SAAS,CAAC,EAAE,CAAC,2BAA2B,CAAC,IAAIiC,KAAK,CAACE,yBAAyB,CAAC,CAAC,EAAE;QAC9F;MACJ;MACA,IAAMC,YAAY,GAAG,IAAI,CAACrE,cAAc,CAACsE,GAAG,CAACJ,KAAK,CAAC;MACnD,IAAIG,YAAY,EAAE;QACd,IAAI,CAACE,sBAAsB,CAACF,YAAY,CAAC;MAC7C;MACA,IAAI,CAAC,IAAI,CAACzE,wBAAwB,CAACY,gBAAgB,CAACgE,GAAG,CAACN,KAAK,CAAC,EAAE;QAC5D;QACA;QACA,IAAIG,YAAY,EAAE;UACdjG,iBAAiB,CAAC,YAAM;YACpB,IAAMqG,eAAe,GAAGR,MAAI,CAACjE,cAAc,CAACsE,GAAG,CAACJ,KAAK,CAAC;YACtD,IAAIG,YAAY,KAAKI,eAAe,EAAE;cAClCR,MAAI,CAACjE,cAAc,UAAO,CAACkE,KAAK,CAAC;cACjCD,MAAI,CAACjD,cAAc,CAAC,CAAC;YACzB;UACJ,CAAC,EAAE,EAAE,GAAG,IAAI,EAAE,IAAI,CAACZ,eAAe,CAAC;QACvC;QACA;MACJ;MAAC,IAAAsE,UAAA,GAAAzB,0BAAA,CACsB,IAAI,CAACrD,wBAAwB,CAACY,gBAAgB,CAACmE,GAAG,CAACT,KAAK,CAAC;QAAAU,MAAA;MAAA;QAAhF,KAAAF,UAAA,CAAAvB,CAAA,MAAAyB,MAAA,GAAAF,UAAA,CAAAtB,CAAA,IAAAC,IAAA,GAAkF;UAAA,IAAvEwB,QAAQ,GAAAD,MAAA,CAAApD,KAAA;UACf,IAAI,OAAOqD,QAAQ,CAACvD,WAAW,KAAK,UAAU,EAAE;YAC5C,IAAMwD,YAAY,GAAGD,QAAQ,CAACvD,WAAW,CAAC;cAAA,OAAMyD,SAAS,CAACC,QAAQ,CAAC,CAAC;YAAA,EAAC;YACrE,IAAI,CAAC5E,eAAe,CAACU,GAAG,CAACgE,YAAY,CAAC;UAC1C;QACJ;MAAC,SAAAtB,GAAA;QAAAkB,UAAA,CAAAvD,CAAA,CAAAqC,GAAA;MAAA;QAAAkB,UAAA,CAAAjB,CAAA;MAAA;MACD,IAAMsB,SAAS,GAAG,IAAI1G,gBAAgB,CAAC,YAAM;QACzC,IAAIqD,EAAE;QACN,IAAMuD,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;QACrB,CAACzD,EAAE,GAAGuC,MAAI,CAACL,wBAAwB,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,MAAM,CAAC,CAAC;QACrFI,MAAI,CAACL,wBAAwB,GAAGzF,uBAAuB,CAAC,UAAAiH,KAAK;UAAA,OAAIpG,gBAAgB,CAACiF,MAAI,CAACrE,wBAAwB,CAACY,gBAAgB,EAAE0D,KAAK,EAAEkB,KAAK,CAAC;QAAA,EAAC;QAChJnB,MAAI,CAACL,wBAAwB,CAACyB,IAAI,CAAC,UAAAC,MAAM,EAAI;UACzC,IAAIrB,MAAI,CAACrC,qBAAqB,EAAE;YAC5BqC,MAAI,CAAC3D,kBAAkB,CAACQ,GAAG,CAACmD,MAAI,CAACrC,qBAAqB,CAAC;UAC3D;UACAqC,MAAI,CAACrC,qBAAqB,GAAG0D,MAAM;UACnC;UACArB,MAAI,CAACjE,cAAc,CAACuF,GAAG,CAACrB,KAAK,EAAEoB,MAAM,CAAC;UACtC;UACA,IAAME,QAAQ,GAAGvB,MAAI,CAAC1D,wBAAwB,CAACkF,MAAM,CAACvB,KAAK,EAAEgB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,EAAE,CAAC;UAC7EF,SAAS,CAACW,KAAK,GAAGF,QAAQ;UAC1B;UACAvB,MAAI,CAACM,sBAAsB,CAACe,MAAM,CAAC;UACnC;UACArB,MAAI,CAAC0B,gCAAgC,CAAC,CAAC;QAC3C,CAAC,EAAErH,iBAAiB,CAAC;MACzB,CAAC,EAAE,IAAI,CAACiC,wBAAwB,CAAC+D,GAAG,CAACJ,KAAK,CAAC,CAAC;MAC5C,IAAI,CAAC9D,eAAe,CAACU,GAAG,CAACiE,SAAS,CAAC;MACnC,IAAI,CAAC3E,eAAe,CAACU,GAAG,CAACrC,YAAY,CAAC;QAAA,OAAMwF,MAAI,CAACrD,2BAA2B,CAACiD,MAAM,CAAC,CAAC;MAAA,EAAC,CAAC;MACvF,IAAI,CAACzD,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACiG,uBAAuB,CAAC,YAAM;QAChE,IAAIlE,EAAE;QACNuC,MAAI,CAACtE,OAAO,CAACkG,iBAAiB,CAAC,UAAAC,mBAAmB,EAAI;UAClD7B,MAAI,CAACtE,OAAO,CAACmD,eAAe,CAAC,UAAAiD,iBAAiB,EAAI;YAC9C,IAAMC,SAAS,GAAG,EAAE;YACpB,IAAIC,kBAAkB,GAAG,CAAC,CAAC;YAC3BhC,MAAI,CAAC5D,OAAO,CAAC6F,OAAO,CAAC,UAAC5C,IAAI,EAAK;cAC3B,IAAI,CAACA,IAAI,CAAC6C,OAAO,CAAC,CAAC,IAAIF,kBAAkB,KAAK3C,IAAI,CAAC8C,aAAa,CAAC,CAAC,EAAE;gBAChE;gBACA;gBACAJ,SAAS,CAACK,IAAI,CAAC/C,IAAI,CAAC;cACxB,CAAC,MACI;gBACDA,IAAI,CAACmC,MAAM,CAACM,iBAAiB,CAAC;gBAC9BE,kBAAkB,GAAG3C,IAAI,CAAC8C,aAAa,CAAC,CAAC;cAC7C;YACJ,CAAC,CAAC;YACF,IAAME,MAAM,GAAG,IAAIpH,cAAc,CAAC,CAAC;YACnC8G,SAAS,CAACE,OAAO,CAAC,UAACK,CAAC,EAAK;cACrBA,CAAC,CAAC9E,OAAO,CAAC6E,MAAM,EAAEP,iBAAiB,CAAC;cACpC9B,MAAI,CAAC5D,OAAO,CAACmG,MAAM,CAACvC,MAAI,CAAC5D,OAAO,CAACoG,OAAO,CAACF,CAAC,CAAC,EAAE,CAAC,CAAC;YACnD,CAAC,CAAC;YACFD,MAAM,CAACI,MAAM,CAACZ,mBAAmB,CAAC;UACtC,CAAC,CAAC;QACN,CAAC,CAAC;QACF;QACAf,SAAS,CAACC,QAAQ,CAAC,CAAC;QACpB;QACAf,MAAI,CAACrD,2BAA2B,CAACiD,MAAM,CAAC,CAAC;QACzC,CAACnC,EAAE,GAAGuC,MAAI,CAACF,yBAAyB,MAAM,IAAI,IAAIrC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,MAAM,CAAC,CAAC;QACtFI,MAAI,CAACF,yBAAyB,GAAGD,SAAS;MAC9C,CAAC,CAAC,CAAC;MACH,IAAI,CAAC1D,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACgH,sBAAsB,CAAC,YAAM;QAC/D5B,SAAS,CAACC,QAAQ,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC;MACH,IAAI,CAAC5E,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACiH,mBAAmB,CAAC,YAAM;QAC5D7B,SAAS,CAAClB,MAAM,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC;MACH,IAAI,CAACzD,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACkH,iBAAiB,CAAC,UAAA1F,CAAC,EAAI;QACzD,IAAIA,CAAC,CAAC2F,gBAAgB,IAAI7C,MAAI,CAAC5D,OAAO,CAAC/C,MAAM,GAAG,CAAC,EAAE;UAC/C2G,MAAI,CAAC0B,gCAAgC,CAAC,CAAC;QAC3C;MACJ,CAAC,CAAC,CAAC;MACH,IAAI,CAACvF,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACoH,iBAAiB,CAAC,YAAM;QAC1D9C,MAAI,CAAC0B,gCAAgC,CAAC,CAAC;MAC3C,CAAC,CAAC,CAAC;MACH,IAAI,CAACvF,eAAe,CAACU,GAAG,CAACrC,YAAY,CAAC,YAAM;QACxC,IAAIwF,MAAI,CAACtE,OAAO,CAACwE,QAAQ,CAAC,CAAC,EAAE;UACzB,IAAM6C,WAAW,GAAGtI,uBAAuB,CAACuI,OAAO,CAAChD,MAAI,CAACtE,OAAO,CAAC;UACjEsE,MAAI,CAACtE,OAAO,CAACkG,iBAAiB,CAAC,UAAAC,mBAAmB,EAAI;YAClD7B,MAAI,CAACtE,OAAO,CAACmD,eAAe,CAAC,UAAAiD,iBAAiB,EAAI;cAC9C9B,MAAI,CAACiD,iBAAiB,CAACpB,mBAAmB,EAAEC,iBAAiB,CAAC;YAClE,CAAC,CAAC;UACN,CAAC,CAAC;UACFiB,WAAW,CAACG,OAAO,CAAClD,MAAI,CAACtE,OAAO,CAAC;QACrC,CAAC,MACI;UACD;UACAsE,MAAI,CAACiD,iBAAiB,CAACpD,SAAS,EAAEA,SAAS,CAAC;QAChD;MACJ,CAAC,CAAC,CAAC;MACH,IAAI,CAAC1D,eAAe,CAACU,GAAG,CAAC,IAAI,CAACnB,OAAO,CAACyH,WAAW,CAAC,UAAAjG,CAAC,EAAI;QACnD,IAAIA,CAAC,CAAClE,MAAM,CAACoK,IAAI,KAAK,CAAC,CAAC,sCAAsC;UAC1D;QACJ;QACA,IAAIpK,MAAM,GAAGkE,CAAC,CAAClE,MAAM,CAACqK,OAAO;QAC7B,IAAI,CAACrK,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACsK,OAAO,MAAM,MAAM,EAAE;UAC7EtK,MAAM,GAAGA,MAAM,CAACuK,aAAa;QACjC;QACA,IAAI,CAACvK,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACsK,OAAO,MAAM,GAAG,EAAE;UAAA,IAAAE,UAAA,GAAAxE,0BAAA,CACvDgB,MAAI,CAAC5D,OAAO;YAAAqH,MAAA;UAAA;YAA/B,KAAAD,UAAA,CAAAtE,CAAA,MAAAuE,MAAA,GAAAD,UAAA,CAAArE,CAAA,IAAAC,IAAA,GAAiC;cAAA,IAAtBC,IAAI,GAAAoE,MAAA,CAAAlG,KAAA;cACX,IAAMmG,OAAO,GAAGrE,IAAI,CAACsE,UAAU,CAAC3K,MAAM,CAAC;cACvC,IAAI0K,OAAO,EAAE;gBAAA,IAAAE,qBAAA;gBACT,CAAAA,qBAAA,GAAA5D,MAAI,CAACnE,eAAe,EAACgI,cAAc,CAAAC,KAAA,CAAAF,qBAAA,GAACF,OAAO,CAACK,EAAE,EAAApF,MAAA,CAAAqF,kBAAA,CAAMN,OAAO,CAACtK,SAAS,IAAI,EAAE,EAAC,CAAC,SAAM,CAAC,UAAAmG,GAAG;kBAAA,OAAIS,MAAI,CAAClE,oBAAoB,CAACmI,KAAK,CAAC1E,GAAG,CAAC;gBAAA,EAAC;gBAChI;cACJ;YACJ;UAAC,SAAAA,GAAA;YAAAiE,UAAA,CAAAtG,CAAA,CAAAqC,GAAA;UAAA;YAAAiE,UAAA,CAAAhE,CAAA;UAAA;QACL;MACJ,CAAC,CAAC,CAAC;MACHsB,SAAS,CAACC,QAAQ,CAAC,CAAC;IACxB;EAAC;IAAA9H,GAAA;IAAAsE,KAAA,EACD,SAAA0F,kBAAkBiB,iBAAiB,EAAEC,sBAAsB,EAAE;MACzD,IAAM9B,MAAM,GAAG,IAAIpH,cAAc,CAAC,CAAC;MAAC,IAAAmJ,UAAA,GAAApF,0BAAA,CACjB,IAAI,CAAC5C,OAAO;QAAAiI,MAAA;MAAA;QAA/B,KAAAD,UAAA,CAAAlF,CAAA,MAAAmF,MAAA,GAAAD,UAAA,CAAAjF,CAAA,IAAAC,IAAA,GAAiC;UAAA,IAAtBC,IAAI,GAAAgF,MAAA,CAAA9G,KAAA;UACX8B,IAAI,CAAC7B,OAAO,CAAC6E,MAAM,EAAE8B,sBAAsB,CAAC;QAChD;MAAC,SAAA5E,GAAA;QAAA6E,UAAA,CAAAlH,CAAA,CAAAqC,GAAA;MAAA;QAAA6E,UAAA,CAAA5E,CAAA;MAAA;MACD,IAAI0E,iBAAiB,EAAE;QACnB7B,MAAM,CAACI,MAAM,CAACyB,iBAAiB,CAAC;MACpC;MACA,IAAI,CAAC9H,OAAO,CAAC/C,MAAM,GAAG,CAAC;IAC3B;EAAC;IAAAJ,GAAA;IAAAsE,KAAA,EACD,SAAA+C,uBAAuBgE,OAAO,EAAE;MAAA,IAAAC,MAAA;MAC5B,IAAI,CAAC,IAAI,CAAC7I,OAAO,CAAC8I,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA,IAAMC,aAAa,GAAG,IAAI,CAAC/I,OAAO,CAACwE,QAAQ,CAAC,CAAC,CAACwE,YAAY,CAAC,CAAC;MAC5D,IAAMC,MAAM,GAAG,EAAE;MACjB,IAAIC,SAAS;MAAC,IAAAC,UAAA,GAAA7F,0BAAA,CACOsF,OAAO,CAACQ,MAAM;QAAAC,MAAA;MAAA;QAAnC,KAAAF,UAAA,CAAA3F,CAAA,MAAA6F,MAAA,GAAAF,UAAA,CAAA1F,CAAA,IAAAC,IAAA,GAAqC;UAAA,IAA1B4F,MAAM,GAAAD,MAAA,CAAAxH,KAAA;UACb,IAAM0H,IAAI,GAAGD,MAAM,CAACA,MAAM,CAACE,KAAK,CAACC,eAAe;UAChD,IAAIF,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAGR,aAAa,EAAE;YAClC;YACA;UACJ,CAAC,MACI,IAAIG,SAAS,IAAIA,SAAS,CAACA,SAAS,CAACvL,MAAM,GAAG,CAAC,CAAC,CAAC2L,MAAM,CAACE,KAAK,CAACC,eAAe,KAAKF,IAAI,EAAE;YACzF;YACAL,SAAS,CAACxC,IAAI,CAAC4C,MAAM,CAAC;UAC1B,CAAC,MACI;YACD;YACAJ,SAAS,GAAG,CAACI,MAAM,CAAC;YACpBL,MAAM,CAACvC,IAAI,CAACwC,SAAS,CAAC;UAC1B;QACJ;MAAC,SAAArF,GAAA;QAAAsF,UAAA,CAAA3H,CAAA,CAAAqC,GAAA;MAAA;QAAAsF,UAAA,CAAArF,CAAA;MAAA;MACD,IAAI,CAACmF,MAAM,CAACtL,MAAM,IAAI,CAAC,IAAI,CAAC+C,OAAO,CAAC/C,MAAM,EAAE;QACxC;QACA;MACJ;MACA,IAAM0J,WAAW,GAAGtI,uBAAuB,CAACuI,OAAO,CAAC,IAAI,CAACtH,OAAO,CAAC;MACjE,IAAM0J,UAAU,GAAG,IAAI,CAACxH,cAAc,CAAC,CAAC;MACxC,IAAI,CAAClC,OAAO,CAACkG,iBAAiB,CAAC,UAAAC,mBAAmB,EAAI;QAClD0C,MAAI,CAAC7I,OAAO,CAACmD,eAAe,CAAC,UAAAwG,gBAAgB,EAAI;UAC7C,IAAMhD,MAAM,GAAG,IAAIpH,cAAc,CAAC,CAAC;UACnC,IAAIqK,aAAa,GAAG,CAAC;UACrB,IAAIC,WAAW,GAAG,CAAC;UACnB,OAAOA,WAAW,GAAGZ,MAAM,CAACtL,MAAM,IAAIiM,aAAa,GAAGf,MAAI,CAACnI,OAAO,CAAC/C,MAAM,EAAE;YACvE,IAAMmM,iBAAiB,GAAGb,MAAM,CAACY,WAAW,CAAC,CAAC,CAAC,CAAC,CAACP,MAAM,CAACE,KAAK,CAACC,eAAe;YAC7E,IAAMM,kBAAkB,GAAGlB,MAAI,CAACnI,OAAO,CAACkJ,aAAa,CAAC,CAACnD,aAAa,CAAC,CAAC;YACtE,IAAIsD,kBAAkB,GAAGD,iBAAiB,EAAE;cACxCjB,MAAI,CAACnI,OAAO,CAACkJ,aAAa,CAAC,CAAC9H,OAAO,CAAC6E,MAAM,EAAEgD,gBAAgB,CAAC;cAC7Dd,MAAI,CAACnI,OAAO,CAACmG,MAAM,CAAC+C,aAAa,EAAE,CAAC,CAAC;YACzC,CAAC,MACI,IAAIG,kBAAkB,KAAKD,iBAAiB,EAAE;cAC/CjB,MAAI,CAACnI,OAAO,CAACkJ,aAAa,CAAC,CAACI,qBAAqB,CAACf,MAAM,CAACY,WAAW,CAAC,EAAElD,MAAM,CAAC;cAC9EkD,WAAW,EAAE;cACbD,aAAa,EAAE;YACnB,CAAC,MACI;cACDf,MAAI,CAACnI,OAAO,CAACmG,MAAM,CAAC+C,aAAa,EAAE,CAAC,EAAE,IAAIpK,cAAc,CAACyJ,MAAM,CAACY,WAAW,CAAC,EAAEhB,MAAI,CAAC7I,OAAO,EAAE2G,MAAM,EAAEgD,gBAAgB,EAAED,UAAU,CAAClH,cAAc,EAAE;gBAAA,OAAMqG,MAAI,CAAC7C,gCAAgC,CAAC,CAAC;cAAA,EAAC,CAAC;cAChM4D,aAAa,EAAE;cACfC,WAAW,EAAE;YACjB;UACJ;UACA;UACA,OAAOD,aAAa,GAAGf,MAAI,CAACnI,OAAO,CAAC/C,MAAM,EAAE;YACxCkL,MAAI,CAACnI,OAAO,CAACkJ,aAAa,CAAC,CAAC9H,OAAO,CAAC6E,MAAM,EAAEgD,gBAAgB,CAAC;YAC7Dd,MAAI,CAACnI,OAAO,CAACmG,MAAM,CAAC+C,aAAa,EAAE,CAAC,CAAC;UACzC;UACA;UACA,OAAOC,WAAW,GAAGZ,MAAM,CAACtL,MAAM,EAAE;YAChCkL,MAAI,CAACnI,OAAO,CAACgG,IAAI,CAAC,IAAIlH,cAAc,CAACyJ,MAAM,CAACY,WAAW,CAAC,EAAEhB,MAAI,CAAC7I,OAAO,EAAE2G,MAAM,EAAEgD,gBAAgB,EAAED,UAAU,CAAClH,cAAc,EAAE;cAAA,OAAMqG,MAAI,CAAC7C,gCAAgC,CAAC,CAAC;YAAA,EAAC,CAAC;YAC5K6D,WAAW,EAAE;UACjB;UACAlD,MAAM,CAACI,MAAM,CAACZ,mBAAmB,CAAC;QACtC,CAAC,CAAC;MACN,CAAC,CAAC;MACFkB,WAAW,CAACG,OAAO,CAAC,IAAI,CAACxH,OAAO,CAAC;IACrC;EAAC;IAAAzC,GAAA;IAAAsE,KAAA,EACD,SAAAmE,iCAAA,EAAmC;MAC/B,IAAMzB,KAAK,GAAG,IAAI,CAACvE,OAAO,CAACwE,QAAQ,CAAC,CAAC;MACrC,IAAID,KAAK,EAAE;QACP,IAAI,CAACtD,2BAA2B,CAACoE,QAAQ,CAAC,CAAC;MAC/C;IACJ;EAAC;IAAA9H,GAAA;IAAAsE,KAAA,EACD,SAAAX,6BAAA,EAA+B;MAAA,IAAA+I,MAAA;MAC3B,IAAIlI,EAAE;MACN,CAACA,EAAE,GAAG,IAAI,CAACqC,yBAAyB,MAAM,IAAI,IAAIrC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,MAAM,CAAC,CAAC;MACtF,IAAI,CAACE,yBAAyB,GAAGD,SAAS;MAC1C,IAAMI,KAAK,GAAG,IAAI,CAACvE,OAAO,CAACwE,QAAQ,CAAC,CAAC;MACrC,IAAI,CAACD,KAAK,EAAE;QACR;MACJ;MACA,IAAM2F,SAAS,GAAG,EAAE;MACpB,IAAMd,MAAM,GAAG,EAAE;MACjB,IAAI,CAAC1I,OAAO,CAAC6F,OAAO,CAAC,UAAC5C,IAAI,EAAK;QAC3B,IAAMwG,OAAO,GAAGxG,IAAI,CAACyG,kBAAkB,CAAC7F,KAAK,CAAC;QAC9C,IAAI4F,OAAO,EAAE;UACTD,SAAS,CAACxD,IAAI,CAACyD,OAAO,CAAC;UACvBf,MAAM,CAAC1C,IAAI,CAAC/C,IAAI,CAAC;QACrB;MACJ,CAAC,CAAC;MACF,IAAIuG,SAAS,CAACvM,MAAM,KAAK,CAAC,EAAE;QACxB;MACJ;MACA,IAAM2H,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;MACrB,IAAM6E,cAAc,GAAG7L,uBAAuB,CAAC,UAAAiH,KAAK,EAAI;QACpD,IAAM6E,QAAQ,GAAGJ,SAAS,CAACK,GAAG,CAAC,UAACJ,OAAO,EAAEhM,CAAC,EAAK;UAC3C,IAAMqM,eAAe,GAAG,IAAIC,KAAK,CAACN,OAAO,CAACxM,MAAM,CAAC;UACjD,IAAM2M,QAAQ,GAAGH,OAAO,CAACI,GAAG,CAAC,UAACJ,OAAO,EAAEhM,CAAC,EAAK;YACzC,IAAI,CAACgM,OAAO,CAACb,MAAM,CAACtB,OAAO,IAAI,OAAOmC,OAAO,CAACjF,QAAQ,CAACwF,eAAe,KAAK,UAAU,EAAE;cACnF,OAAOC,OAAO,CAACC,OAAO,CAACT,OAAO,CAACjF,QAAQ,CAACwF,eAAe,CAACnG,KAAK,EAAE4F,OAAO,CAACb,MAAM,EAAE7D,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,UAAA4D,MAAM,EAAI;gBAClGkB,eAAe,CAACrM,CAAC,CAAC,GAAGmL,MAAM;cAC/B,CAAC,EAAE1K,yBAAyB,CAAC;YACjC,CAAC,MACI;cACD4L,eAAe,CAACrM,CAAC,CAAC,GAAGgM,OAAO,CAACb,MAAM;cACnC,OAAOqB,OAAO,CAACC,OAAO,CAACzG,SAAS,CAAC;YACrC;UACJ,CAAC,CAAC;UACF,OAAOwG,OAAO,CAAC3F,GAAG,CAACsF,QAAQ,CAAC,CAAC5E,IAAI,CAAC,YAAM;YACpC,IAAI,CAACD,KAAK,CAACoF,uBAAuB,IAAI,CAACzB,MAAM,CAACjL,CAAC,CAAC,CAAC2M,UAAU,CAAC,CAAC,EAAE;cAC3D1B,MAAM,CAACjL,CAAC,CAAC,CAAC4M,cAAc,CAACP,eAAe,CAAC;YAC7C;UACJ,CAAC,CAAC;QACN,CAAC,CAAC;QACF,OAAOG,OAAO,CAAC3F,GAAG,CAACsF,QAAQ,CAAC;MAChC,CAAC,CAAC;MACF,IAAI,CAAClG,yBAAyB,GAAGiG,cAAc;MAC/C,IAAI,CAACjG,yBAAyB,CAACsB,IAAI,CAAC,YAAM;QACtC;QACA,IAAMG,QAAQ,GAAGoE,MAAI,CAAClJ,0BAA0B,CAAC+E,MAAM,CAACvB,KAAK,EAAEgB,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,EAAE,CAAC;QAC/E2E,MAAI,CAAChJ,2BAA2B,CAAC8E,KAAK,GAAGF,QAAQ;QACjD,IAAIoE,MAAI,CAAChI,qBAAqB,EAAE;UAAE;UAC9BgI,MAAI,CAAC5J,cAAc,CAACuF,GAAG,CAACrB,KAAK,EAAE0F,MAAI,CAAChI,qBAAqB,CAAC;QAC9D;QACAgI,MAAI,CAACtJ,kBAAkB,CAAC0D,KAAK,CAAC,CAAC,CAAC,CAAC;QACjC,IAAIgG,cAAc,KAAKJ,MAAI,CAAC7F,yBAAyB,EAAE;UACnD6F,MAAI,CAAC7F,yBAAyB,GAAGD,SAAS;QAC9C;MACJ,CAAC,EAAE,UAAAN,GAAG,EAAI;QACNlF,iBAAiB,CAACkF,GAAG,CAAC,CAAC,CAAC;QACxB,IAAIwG,cAAc,KAAKJ,MAAI,CAAC7F,yBAAyB,EAAE;UACnD6F,MAAI,CAAC7F,yBAAyB,GAAGD,SAAS;QAC9C;MACJ,CAAC,CAAC;IACN;EAAC;IAAA5G,GAAA;IAAAsE,KAAA;MAAA,IAAAmJ,SAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CACD,SAAAC,QAAA;QAAA,IAAArJ,EAAA;QAAA,OAAAmJ,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAEU,IAAI,CAACxH,wBAAwB;YAAA;cAAAsH,QAAA,CAAAE,IAAA;cAAA,OAC7B,IAAI,CAACrH,yBAAyB;YAAA;cAAA,OAAAmH,QAAA,CAAAG,MAAA,WAC7B,EAAE,CAAC3J,EAAE,GAAG,IAAI,CAACE,qBAAqB,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC+I,UAAU,CAAC,GACxF,IAAI,CAAC7I,qBAAqB,GAC1BkC,SAAS;YAAA;YAAA;cAAA,OAAAoH,QAAA,CAAAI,IAAA;UAAA;QAAA,GAAAP,OAAA;MAAA,CAClB;MAAA,SAAA5G,SAAA;QAAA,OAAAwG,SAAA,CAAA5C,KAAA,OAAA1K,SAAA;MAAA;MAAA,OAAA8G,QAAA;IAAA;EAAA;AAAA,GACJ;AACDzE,oBAAoB,CAAC6L,EAAE,GAAG,qBAAqB;AAC/C7L,oBAAoB,GAAG3C,UAAU,CAAC,CAC9BiB,OAAO,CAAC,CAAC,EAAEyB,wBAAwB,CAAC,EACpCzB,OAAO,CAAC,CAAC,EAAEwB,+BAA+B,CAAC,EAC3CxB,OAAO,CAAC,CAAC,EAAEqB,eAAe,CAAC,EAC3BrB,OAAO,CAAC,CAAC,EAAEsB,oBAAoB,CAAC,EAChCtB,OAAO,CAAC,CAAC,EAAEiB,cAAc,CAAC,CAC7B,EAAES,oBAAoB,CAAC;AACxB,SAASA,oBAAoB;AAC7Bb,0BAA0B,CAACa,oBAAoB,CAAC6L,EAAE,EAAE7L,oBAAoB,EAAE,CAAC,CAAC,sDAAsD,CAAC;AACnId,oBAAoB,yBAAA4M,aAAA;EAChB,SAAAC,wBAAA,EAAc;IAAAvL,eAAA,OAAAuL,uBAAA;IAAA,OAAAC,UAAA,OAAAD,uBAAA,GACJ;MACFzD,EAAE,EAAE,kCAAkC;MACtC2D,YAAY,EAAE5M,iBAAiB,CAAC6M,mBAAmB;MACnDC,KAAK,EAAEzM,QAAQ,CAAC,gBAAgB,EAAE,yCAAyC,CAAC;MAC5E0M,KAAK,EAAE;IACX,CAAC;EACL;EAACC,SAAA,CAAAN,uBAAA,EAAAD,aAAA;EAAA,OAAAjK,YAAA,CAAAkK,uBAAA;IAAAvO,GAAA;IAAAsE,KAAA;MAAA,IAAAwK,IAAA,GAAApB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CACD,SAAAmB,SAAUlJ,QAAQ,EAAEmJ,MAAM;QAAA,IAAAC,iBAAA,EAAAC,cAAA,EAAAC,mBAAA,EAAAC,UAAA,EAAAC,kBAAA,EAAArI,KAAA,EAAAsI,KAAA,EAAAC,UAAA,EAAAC,MAAA,EAAApJ,IAAA,EAAAqJ,IAAA,EAAAhF,OAAA,EAAAiF,QAAA,EAAAC,OAAA;QAAA,OAAAhC,mBAAA,GAAAG,IAAA,UAAA8B,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA5B,IAAA,GAAA4B,SAAA,CAAA3B,IAAA;YAAA;cAAA,IACjBc,MAAM,CAACzD,QAAQ,CAAC,CAAC;gBAAAsE,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAGhBc,iBAAiB,GAAGpJ,QAAQ,CAACuB,GAAG,CAAC/E,kBAAkB,CAAC;cACpD6M,cAAc,GAAGrJ,QAAQ,CAACuB,GAAG,CAACjF,eAAe,CAAC;cAC9CgN,mBAAmB,GAAGtJ,QAAQ,CAACuB,GAAG,CAAChF,oBAAoB,CAAC;cACxDgN,UAAU,GAAGJ,MAAM,CAACc,YAAY,CAAC,CAAC,CAACC,kBAAkB;cACrDV,kBAAkB,GAAGL,MAAM,CAACgB,eAAe,CAACxN,oBAAoB,CAAC6L,EAAE,CAAC;cAAA,IACrEgB,kBAAkB;gBAAAQ,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAAA0B,SAAA,CAAA3B,IAAA;cAAA,OAGHmB,kBAAkB,CAACpI,QAAQ,CAAC,CAAC;YAAA;cAA3CD,KAAK,GAAA6I,SAAA,CAAAI,IAAA;cAAA,IACNjJ,KAAK;gBAAA6I,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAIJmB,KAAK,GAAG,EAAE;cAAAC,UAAA,GAAAxJ,0BAAA,CACGiB,KAAK,CAAC6E,MAAM;cAAA;gBAA/B,KAAA0D,UAAA,CAAAtJ,CAAA,MAAAuJ,MAAA,GAAAD,UAAA,CAAArJ,CAAA,IAAAC,IAAA,GAAiC;kBAAtBC,IAAI,GAAAoJ,MAAA,CAAAlL,KAAA;kBACX,IAAI8B,IAAI,CAAC2F,MAAM,CAACtB,OAAO,IAAIrE,IAAI,CAAC2F,MAAM,CAACE,KAAK,CAACC,eAAe,KAAKkD,UAAU,EAAE;oBACzEE,KAAK,CAACnG,IAAI,CAAC;sBACPwF,KAAK,EAAEvI,IAAI,CAAC2F,MAAM,CAACtB,OAAO,CAACyF,KAAK;sBAChCzF,OAAO,EAAErE,IAAI,CAAC2F,MAAM,CAACtB;oBACzB,CAAC,CAAC;kBACN;gBACJ;cAAC,SAAAnE,GAAA;gBAAAiJ,UAAA,CAAAtL,CAAA,CAAAqC,GAAA;cAAA;gBAAAiJ,UAAA,CAAAhJ,CAAA;cAAA;cAAA,MACG+I,KAAK,CAAClP,MAAM,KAAK,CAAC;gBAAAyP,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAAA0B,SAAA,CAAA3B,IAAA;cAAA,OAIHe,iBAAiB,CAACkB,IAAI,CAACb,KAAK,EAAE;gBAC7Cc,WAAW,EAAE,KAAK;gBAClBC,WAAW,EAAEnO,QAAQ,CAAC,aAAa,EAAE,kBAAkB;cAC3D,CAAC,CAAC;YAAA;cAHIuN,IAAI,GAAAI,SAAA,CAAAI,IAAA;cAAA,IAILR,IAAI;gBAAAI,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAIL1D,OAAO,GAAGgF,IAAI,CAAChF,OAAO;cAAA,KACtBzD,KAAK,CAACuG,UAAU;gBAAAsC,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA2B,SAAA,CAAA3B,IAAA;cAAA,OAIOmB,kBAAkB,CAACpI,QAAQ,CAAC,CAAC;YAAA;cAA9CyI,QAAQ,GAAAG,SAAA,CAAAI,IAAA;cACRN,OAAO,GAAGD,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAAC7D,MAAM,CAACyE,IAAI,CAAC,UAAAlK,IAAI,EAAI;gBAAE,IAAI5B,EAAE;gBAAE,OAAO4B,IAAI,CAAC2F,MAAM,CAACE,KAAK,CAACC,eAAe,KAAKkD,UAAU,IAAI,CAAC,CAAC5K,EAAE,GAAG4B,IAAI,CAAC2F,MAAM,CAACtB,OAAO,MAAM,IAAI,IAAIjG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC0L,KAAK,MAAMzF,OAAO,CAACyF,KAAK;cAAE,CAAC,CAAC;cAAA,MAClQ,CAACP,OAAO,IAAI,CAACA,OAAO,CAAC5D,MAAM,CAACtB,OAAO;gBAAAoF,SAAA,CAAA3B,IAAA;gBAAA;cAAA;cAAA,OAAA2B,SAAA,CAAA1B,MAAA;YAAA;cAGvC1D,OAAO,GAAGkF,OAAO,CAAC5D,MAAM,CAACtB,OAAO;YAAC;cAAAoF,SAAA,CAAA5B,IAAA;cAAA4B,SAAA,CAAA3B,IAAA;cAAA,OAG3BgB,cAAc,CAACtE,cAAc,CAAAC,KAAA,CAA7BqE,cAAc,GAAgBzE,OAAO,CAACK,EAAE,EAAApF,MAAA,CAAAqF,kBAAA,CAAMN,OAAO,CAACtK,SAAS,IAAI,EAAE,EAAC,CAAC;YAAA;cAAA0P,SAAA,CAAA3B,IAAA;cAAA;YAAA;cAAA2B,SAAA,CAAA5B,IAAA;cAAA4B,SAAA,CAAAU,EAAA,GAAAV,SAAA;cAG7EV,mBAAmB,CAACnE,KAAK,CAAA6E,SAAA,CAAAU,EAAI,CAAC;YAAC;YAAA;cAAA,OAAAV,SAAA,CAAAzB,IAAA;UAAA;QAAA,GAAAW,QAAA;MAAA,CAEtC;MAAA,SAAAyB,IAAAC,EAAA,EAAAC,GAAA;QAAA,OAAA5B,IAAA,CAAAjE,KAAA,OAAA1K,SAAA;MAAA;MAAA,OAAAqQ,GAAA;IAAA;EAAA;AAAA,EAjEsD/O,YAAY,CAkEtE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}