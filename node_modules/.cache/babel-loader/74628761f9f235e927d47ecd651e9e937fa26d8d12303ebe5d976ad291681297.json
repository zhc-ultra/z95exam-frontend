{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getWindowId } from '../../../base/browser/dom.js';\nimport { PixelRatio } from '../../../base/browser/pixelRatio.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\nimport { FontInfo } from '../../common/config/fontInfo.js';\nexport var FontMeasurementsImpl = /*#__PURE__*/function (_Disposable) {\n  function FontMeasurementsImpl() {\n    var _this;\n    _classCallCheck(this, FontMeasurementsImpl);\n    _this = _callSuper(this, FontMeasurementsImpl, arguments);\n    _this._cache = new Map();\n    _this._evictUntrustedReadingsTimeout = -1;\n    _this._onDidChange = _this._register(new Emitter());\n    _this.onDidChange = _this._onDidChange.event;\n    return _this;\n  }\n  _inherits(FontMeasurementsImpl, _Disposable);\n  return _createClass(FontMeasurementsImpl, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._evictUntrustedReadingsTimeout !== -1) {\n        clearTimeout(this._evictUntrustedReadingsTimeout);\n        this._evictUntrustedReadingsTimeout = -1;\n      }\n      _get(_getPrototypeOf(FontMeasurementsImpl.prototype), \"dispose\", this).call(this);\n    }\n    /**\n     * Clear all cached font information and trigger a change event.\n     */\n  }, {\n    key: \"clearAllFontInfos\",\n    value: function clearAllFontInfos() {\n      this._cache.clear();\n      this._onDidChange.fire();\n    }\n  }, {\n    key: \"_ensureCache\",\n    value: function _ensureCache(targetWindow) {\n      var windowId = getWindowId(targetWindow);\n      var cache = this._cache.get(windowId);\n      if (!cache) {\n        cache = new FontMeasurementsCache();\n        this._cache.set(windowId, cache);\n      }\n      return cache;\n    }\n  }, {\n    key: \"_writeToCache\",\n    value: function _writeToCache(targetWindow, item, value) {\n      var _this2 = this;\n      var cache = this._ensureCache(targetWindow);\n      cache.put(item, value);\n      if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\n        // Try reading again after some time\n        this._evictUntrustedReadingsTimeout = targetWindow.setTimeout(function () {\n          _this2._evictUntrustedReadingsTimeout = -1;\n          _this2._evictUntrustedReadings(targetWindow);\n        }, 5000);\n      }\n    }\n  }, {\n    key: \"_evictUntrustedReadings\",\n    value: function _evictUntrustedReadings(targetWindow) {\n      var cache = this._ensureCache(targetWindow);\n      var values = cache.getValues();\n      var somethingRemoved = false;\n      var _iterator = _createForOfIteratorHelper(values),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          if (!item.isTrusted) {\n            somethingRemoved = true;\n            cache.remove(item);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      if (somethingRemoved) {\n        this._onDidChange.fire();\n      }\n    }\n    /**\n     * Read font information.\n     */\n  }, {\n    key: \"readFontInfo\",\n    value: function readFontInfo(targetWindow, bareFontInfo) {\n      var cache = this._ensureCache(targetWindow);\n      if (!cache.has(bareFontInfo)) {\n        var readConfig = this._actualReadFontInfo(targetWindow, bareFontInfo);\n        if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\n          // Hey, it's Bug 14341 ... we couldn't read\n          readConfig = new FontInfo({\n            pixelRatio: PixelRatio.getInstance(targetWindow).value,\n            fontFamily: readConfig.fontFamily,\n            fontWeight: readConfig.fontWeight,\n            fontSize: readConfig.fontSize,\n            fontFeatureSettings: readConfig.fontFeatureSettings,\n            fontVariationSettings: readConfig.fontVariationSettings,\n            lineHeight: readConfig.lineHeight,\n            letterSpacing: readConfig.letterSpacing,\n            isMonospace: readConfig.isMonospace,\n            typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\n            typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\n            canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\n            spaceWidth: Math.max(readConfig.spaceWidth, 5),\n            middotWidth: Math.max(readConfig.middotWidth, 5),\n            wsmiddotWidth: Math.max(readConfig.wsmiddotWidth, 5),\n            maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5)\n          }, false);\n        }\n        this._writeToCache(targetWindow, bareFontInfo, readConfig);\n      }\n      return cache.get(bareFontInfo);\n    }\n  }, {\n    key: \"_createRequest\",\n    value: function _createRequest(chr, type, all, monospace) {\n      var result = new CharWidthRequest(chr, type);\n      all.push(result);\n      monospace === null || monospace === void 0 ? void 0 : monospace.push(result);\n      return result;\n    }\n  }, {\n    key: \"_actualReadFontInfo\",\n    value: function _actualReadFontInfo(targetWindow, bareFontInfo) {\n      var all = [];\n      var monospace = [];\n      var typicalHalfwidthCharacter = this._createRequest('n', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var typicalFullwidthCharacter = this._createRequest(\"\\uFF4D\", 0 /* CharWidthRequestType.Regular */, all, null);\n      var space = this._createRequest(' ', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit0 = this._createRequest('0', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit1 = this._createRequest('1', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit2 = this._createRequest('2', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit3 = this._createRequest('3', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit4 = this._createRequest('4', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit5 = this._createRequest('5', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit6 = this._createRequest('6', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit7 = this._createRequest('7', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit8 = this._createRequest('8', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var digit9 = this._createRequest('9', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      // monospace test: used for whitespace rendering\n      var rightwardsArrow = this._createRequest('→', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      var halfwidthRightwardsArrow = this._createRequest('￫', 0 /* CharWidthRequestType.Regular */, all, null);\n      // U+00B7 - MIDDLE DOT\n      var middot = this._createRequest('·', 0 /* CharWidthRequestType.Regular */, all, monospace);\n      // U+2E31 - WORD SEPARATOR MIDDLE DOT\n      var wsmiddotWidth = this._createRequest(String.fromCharCode(0x2E31), 0 /* CharWidthRequestType.Regular */, all, null);\n      // monospace test: some characters\n      var monospaceTestChars = '|/-_ilm%';\n      for (var i = 0, len = monospaceTestChars.length; i < len; i++) {\n        this._createRequest(monospaceTestChars.charAt(i), 0 /* CharWidthRequestType.Regular */, all, monospace);\n        this._createRequest(monospaceTestChars.charAt(i), 1 /* CharWidthRequestType.Italic */, all, monospace);\n        this._createRequest(monospaceTestChars.charAt(i), 2 /* CharWidthRequestType.Bold */, all, monospace);\n      }\n      readCharWidths(targetWindow, bareFontInfo, all);\n      var maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\n      var isMonospace = bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF;\n      var referenceWidth = monospace[0].width;\n      for (var _i = 1, _len = monospace.length; isMonospace && _i < _len; _i++) {\n        var diff = referenceWidth - monospace[_i].width;\n        if (diff < -0.001 || diff > 0.001) {\n          isMonospace = false;\n          break;\n        }\n      }\n      var canUseHalfwidthRightwardsArrow = true;\n      if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\n        // using a halfwidth rightwards arrow would break monospace...\n        canUseHalfwidthRightwardsArrow = false;\n      }\n      if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\n        // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\n        canUseHalfwidthRightwardsArrow = false;\n      }\n      return new FontInfo({\n        pixelRatio: PixelRatio.getInstance(targetWindow).value,\n        fontFamily: bareFontInfo.fontFamily,\n        fontWeight: bareFontInfo.fontWeight,\n        fontSize: bareFontInfo.fontSize,\n        fontFeatureSettings: bareFontInfo.fontFeatureSettings,\n        fontVariationSettings: bareFontInfo.fontVariationSettings,\n        lineHeight: bareFontInfo.lineHeight,\n        letterSpacing: bareFontInfo.letterSpacing,\n        isMonospace: isMonospace,\n        typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\n        typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\n        canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\n        spaceWidth: space.width,\n        middotWidth: middot.width,\n        wsmiddotWidth: wsmiddotWidth.width,\n        maxDigitWidth: maxDigitWidth\n      }, true);\n    }\n  }]);\n}(Disposable);\nvar FontMeasurementsCache = /*#__PURE__*/function () {\n  function FontMeasurementsCache() {\n    _classCallCheck(this, FontMeasurementsCache);\n    this._keys = Object.create(null);\n    this._values = Object.create(null);\n  }\n  return _createClass(FontMeasurementsCache, [{\n    key: \"has\",\n    value: function has(item) {\n      var itemId = item.getId();\n      return !!this._values[itemId];\n    }\n  }, {\n    key: \"get\",\n    value: function get(item) {\n      var itemId = item.getId();\n      return this._values[itemId];\n    }\n  }, {\n    key: \"put\",\n    value: function put(item, value) {\n      var itemId = item.getId();\n      this._keys[itemId] = item;\n      this._values[itemId] = value;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var itemId = item.getId();\n      delete this._keys[itemId];\n      delete this._values[itemId];\n    }\n  }, {\n    key: \"getValues\",\n    value: function getValues() {\n      var _this3 = this;\n      return Object.keys(this._keys).map(function (id) {\n        return _this3._values[id];\n      });\n    }\n  }]);\n}();\nexport var FontMeasurements = new FontMeasurementsImpl();","map":{"version":3,"names":["getWindowId","PixelRatio","Emitter","Disposable","CharWidthRequest","readCharWidths","EditorFontLigatures","FontInfo","FontMeasurementsImpl","_Disposable","_this","_classCallCheck","_callSuper","arguments","_cache","Map","_evictUntrustedReadingsTimeout","_onDidChange","_register","onDidChange","event","_inherits","_createClass","key","value","dispose","clearTimeout","_get","_getPrototypeOf","prototype","call","clearAllFontInfos","clear","fire","_ensureCache","targetWindow","windowId","cache","get","FontMeasurementsCache","set","_writeToCache","item","_this2","put","isTrusted","setTimeout","_evictUntrustedReadings","values","getValues","somethingRemoved","_iterator","_createForOfIteratorHelper","_step","s","n","done","remove","err","e","f","readFontInfo","bareFontInfo","has","readConfig","_actualReadFontInfo","typicalHalfwidthCharacterWidth","typicalFullwidthCharacterWidth","spaceWidth","maxDigitWidth","pixelRatio","getInstance","fontFamily","fontWeight","fontSize","fontFeatureSettings","fontVariationSettings","lineHeight","letterSpacing","isMonospace","Math","max","canUseHalfwidthRightwardsArrow","middotWidth","wsmiddotWidth","_createRequest","chr","type","all","monospace","result","push","typicalHalfwidthCharacter","typicalFullwidthCharacter","space","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","rightwardsArrow","halfwidthRightwardsArrow","middot","String","fromCharCode","monospaceTestChars","i","len","length","charAt","width","OFF","referenceWidth","diff","_keys","Object","create","_values","itemId","getId","_this3","keys","map","id","FontMeasurements"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/browser/config/fontMeasurements.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getWindowId } from '../../../base/browser/dom.js';\nimport { PixelRatio } from '../../../base/browser/pixelRatio.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { CharWidthRequest, readCharWidths } from './charWidthReader.js';\nimport { EditorFontLigatures } from '../../common/config/editorOptions.js';\nimport { FontInfo } from '../../common/config/fontInfo.js';\nexport class FontMeasurementsImpl extends Disposable {\n    constructor() {\n        super(...arguments);\n        this._cache = new Map();\n        this._evictUntrustedReadingsTimeout = -1;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n    }\n    dispose() {\n        if (this._evictUntrustedReadingsTimeout !== -1) {\n            clearTimeout(this._evictUntrustedReadingsTimeout);\n            this._evictUntrustedReadingsTimeout = -1;\n        }\n        super.dispose();\n    }\n    /**\n     * Clear all cached font information and trigger a change event.\n     */\n    clearAllFontInfos() {\n        this._cache.clear();\n        this._onDidChange.fire();\n    }\n    _ensureCache(targetWindow) {\n        const windowId = getWindowId(targetWindow);\n        let cache = this._cache.get(windowId);\n        if (!cache) {\n            cache = new FontMeasurementsCache();\n            this._cache.set(windowId, cache);\n        }\n        return cache;\n    }\n    _writeToCache(targetWindow, item, value) {\n        const cache = this._ensureCache(targetWindow);\n        cache.put(item, value);\n        if (!value.isTrusted && this._evictUntrustedReadingsTimeout === -1) {\n            // Try reading again after some time\n            this._evictUntrustedReadingsTimeout = targetWindow.setTimeout(() => {\n                this._evictUntrustedReadingsTimeout = -1;\n                this._evictUntrustedReadings(targetWindow);\n            }, 5000);\n        }\n    }\n    _evictUntrustedReadings(targetWindow) {\n        const cache = this._ensureCache(targetWindow);\n        const values = cache.getValues();\n        let somethingRemoved = false;\n        for (const item of values) {\n            if (!item.isTrusted) {\n                somethingRemoved = true;\n                cache.remove(item);\n            }\n        }\n        if (somethingRemoved) {\n            this._onDidChange.fire();\n        }\n    }\n    /**\n     * Read font information.\n     */\n    readFontInfo(targetWindow, bareFontInfo) {\n        const cache = this._ensureCache(targetWindow);\n        if (!cache.has(bareFontInfo)) {\n            let readConfig = this._actualReadFontInfo(targetWindow, bareFontInfo);\n            if (readConfig.typicalHalfwidthCharacterWidth <= 2 || readConfig.typicalFullwidthCharacterWidth <= 2 || readConfig.spaceWidth <= 2 || readConfig.maxDigitWidth <= 2) {\n                // Hey, it's Bug 14341 ... we couldn't read\n                readConfig = new FontInfo({\n                    pixelRatio: PixelRatio.getInstance(targetWindow).value,\n                    fontFamily: readConfig.fontFamily,\n                    fontWeight: readConfig.fontWeight,\n                    fontSize: readConfig.fontSize,\n                    fontFeatureSettings: readConfig.fontFeatureSettings,\n                    fontVariationSettings: readConfig.fontVariationSettings,\n                    lineHeight: readConfig.lineHeight,\n                    letterSpacing: readConfig.letterSpacing,\n                    isMonospace: readConfig.isMonospace,\n                    typicalHalfwidthCharacterWidth: Math.max(readConfig.typicalHalfwidthCharacterWidth, 5),\n                    typicalFullwidthCharacterWidth: Math.max(readConfig.typicalFullwidthCharacterWidth, 5),\n                    canUseHalfwidthRightwardsArrow: readConfig.canUseHalfwidthRightwardsArrow,\n                    spaceWidth: Math.max(readConfig.spaceWidth, 5),\n                    middotWidth: Math.max(readConfig.middotWidth, 5),\n                    wsmiddotWidth: Math.max(readConfig.wsmiddotWidth, 5),\n                    maxDigitWidth: Math.max(readConfig.maxDigitWidth, 5),\n                }, false);\n            }\n            this._writeToCache(targetWindow, bareFontInfo, readConfig);\n        }\n        return cache.get(bareFontInfo);\n    }\n    _createRequest(chr, type, all, monospace) {\n        const result = new CharWidthRequest(chr, type);\n        all.push(result);\n        monospace === null || monospace === void 0 ? void 0 : monospace.push(result);\n        return result;\n    }\n    _actualReadFontInfo(targetWindow, bareFontInfo) {\n        const all = [];\n        const monospace = [];\n        const typicalHalfwidthCharacter = this._createRequest('n', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const typicalFullwidthCharacter = this._createRequest('\\uff4d', 0 /* CharWidthRequestType.Regular */, all, null);\n        const space = this._createRequest(' ', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit0 = this._createRequest('0', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit1 = this._createRequest('1', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit2 = this._createRequest('2', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit3 = this._createRequest('3', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit4 = this._createRequest('4', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit5 = this._createRequest('5', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit6 = this._createRequest('6', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit7 = this._createRequest('7', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit8 = this._createRequest('8', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const digit9 = this._createRequest('9', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        // monospace test: used for whitespace rendering\n        const rightwardsArrow = this._createRequest('→', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        const halfwidthRightwardsArrow = this._createRequest('￫', 0 /* CharWidthRequestType.Regular */, all, null);\n        // U+00B7 - MIDDLE DOT\n        const middot = this._createRequest('·', 0 /* CharWidthRequestType.Regular */, all, monospace);\n        // U+2E31 - WORD SEPARATOR MIDDLE DOT\n        const wsmiddotWidth = this._createRequest(String.fromCharCode(0x2E31), 0 /* CharWidthRequestType.Regular */, all, null);\n        // monospace test: some characters\n        const monospaceTestChars = '|/-_ilm%';\n        for (let i = 0, len = monospaceTestChars.length; i < len; i++) {\n            this._createRequest(monospaceTestChars.charAt(i), 0 /* CharWidthRequestType.Regular */, all, monospace);\n            this._createRequest(monospaceTestChars.charAt(i), 1 /* CharWidthRequestType.Italic */, all, monospace);\n            this._createRequest(monospaceTestChars.charAt(i), 2 /* CharWidthRequestType.Bold */, all, monospace);\n        }\n        readCharWidths(targetWindow, bareFontInfo, all);\n        const maxDigitWidth = Math.max(digit0.width, digit1.width, digit2.width, digit3.width, digit4.width, digit5.width, digit6.width, digit7.width, digit8.width, digit9.width);\n        let isMonospace = (bareFontInfo.fontFeatureSettings === EditorFontLigatures.OFF);\n        const referenceWidth = monospace[0].width;\n        for (let i = 1, len = monospace.length; isMonospace && i < len; i++) {\n            const diff = referenceWidth - monospace[i].width;\n            if (diff < -0.001 || diff > 0.001) {\n                isMonospace = false;\n                break;\n            }\n        }\n        let canUseHalfwidthRightwardsArrow = true;\n        if (isMonospace && halfwidthRightwardsArrow.width !== referenceWidth) {\n            // using a halfwidth rightwards arrow would break monospace...\n            canUseHalfwidthRightwardsArrow = false;\n        }\n        if (halfwidthRightwardsArrow.width > rightwardsArrow.width) {\n            // using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow\n            canUseHalfwidthRightwardsArrow = false;\n        }\n        return new FontInfo({\n            pixelRatio: PixelRatio.getInstance(targetWindow).value,\n            fontFamily: bareFontInfo.fontFamily,\n            fontWeight: bareFontInfo.fontWeight,\n            fontSize: bareFontInfo.fontSize,\n            fontFeatureSettings: bareFontInfo.fontFeatureSettings,\n            fontVariationSettings: bareFontInfo.fontVariationSettings,\n            lineHeight: bareFontInfo.lineHeight,\n            letterSpacing: bareFontInfo.letterSpacing,\n            isMonospace: isMonospace,\n            typicalHalfwidthCharacterWidth: typicalHalfwidthCharacter.width,\n            typicalFullwidthCharacterWidth: typicalFullwidthCharacter.width,\n            canUseHalfwidthRightwardsArrow: canUseHalfwidthRightwardsArrow,\n            spaceWidth: space.width,\n            middotWidth: middot.width,\n            wsmiddotWidth: wsmiddotWidth.width,\n            maxDigitWidth: maxDigitWidth\n        }, true);\n    }\n}\nclass FontMeasurementsCache {\n    constructor() {\n        this._keys = Object.create(null);\n        this._values = Object.create(null);\n    }\n    has(item) {\n        const itemId = item.getId();\n        return !!this._values[itemId];\n    }\n    get(item) {\n        const itemId = item.getId();\n        return this._values[itemId];\n    }\n    put(item, value) {\n        const itemId = item.getId();\n        this._keys[itemId] = item;\n        this._values[itemId] = value;\n    }\n    remove(item) {\n        const itemId = item.getId();\n        delete this._keys[itemId];\n        delete this._values[itemId];\n    }\n    getValues() {\n        return Object.keys(this._keys).map(id => this._values[id]);\n    }\n}\nexport const FontMeasurements = new FontMeasurementsImpl();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}