{"ast":null,"code":"import { ref } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nvar useDraggable = function useDraggable(_ref) {\n  var modalRef = _ref.modalRef,\n    wrapperRef = _ref.wrapperRef,\n    draggable = _ref.draggable,\n    alignCenter = _ref.alignCenter;\n  var isDragging = ref(false);\n  var startMouse = ref([0, 0]);\n  var initialPosition = ref([0, 0]);\n  var position = ref();\n  var minPosition = ref([0, 0]);\n  var maxPosition = ref([0, 0]);\n  var getInitialPosition = function getInitialPosition() {\n    var _a, _b, _c;\n    if (wrapperRef.value && modalRef.value) {\n      var _wrapperRef$value$get = wrapperRef.value.getBoundingClientRect(),\n        wrapperTop = _wrapperRef$value$get.top,\n        wrapperLeft = _wrapperRef$value$get.left;\n      var _wrapperRef$value = wrapperRef.value,\n        wrapperWidth = _wrapperRef$value.clientWidth,\n        wrapperHeight = _wrapperRef$value.clientHeight;\n      var _modalRef$value$getBo = modalRef.value.getBoundingClientRect(),\n        top = _modalRef$value$getBo.top,\n        left = _modalRef$value$getBo.left,\n        width = _modalRef$value$getBo.width,\n        height = _modalRef$value$getBo.height;\n      var offsetTop = alignCenter.value ? 0 : (_a = modalRef.value) == null ? void 0 : _a.offsetTop;\n      var initialX = left - wrapperLeft;\n      var initialY = top - wrapperTop - offsetTop;\n      if (initialX !== ((_b = initialPosition.value) == null ? void 0 : _b[0]) || initialY !== ((_c = initialPosition.value) == null ? void 0 : _c[1])) {\n        initialPosition.value = [initialX, initialY];\n      }\n      var maxX = wrapperWidth > width ? wrapperWidth - width : 0;\n      var maxY = wrapperHeight > height ? wrapperHeight - height - offsetTop : 0;\n      if (maxX !== maxPosition.value[0] || maxY !== maxPosition.value[1]) {\n        maxPosition.value = [maxX, maxY];\n      }\n      if (offsetTop) {\n        minPosition.value = [0, 0 - offsetTop];\n      }\n    }\n  };\n  var handleMoveDown = function handleMoveDown(ev) {\n    if (draggable.value) {\n      ev.preventDefault();\n      isDragging.value = true;\n      getInitialPosition();\n      startMouse.value = [ev.x, ev.y];\n      on(window, \"mousemove\", handleMouseMove);\n      on(window, \"mouseup\", handleMouseUp);\n      on(window, \"contextmenu\", handleMouseUp);\n    }\n  };\n  var handleMouseMove = function handleMouseMove(ev) {\n    if (isDragging.value) {\n      var diffX = ev.x - startMouse.value[0];\n      var diffY = ev.y - startMouse.value[1];\n      var x = initialPosition.value[0] + diffX;\n      var y = initialPosition.value[1] + diffY;\n      if (x < minPosition.value[0]) x = minPosition.value[0];\n      if (x > maxPosition.value[0]) x = maxPosition.value[0];\n      if (y < minPosition.value[1]) y = minPosition.value[1];\n      if (y > maxPosition.value[1]) y = maxPosition.value[1];\n      position.value = [x, y];\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    isDragging.value = false;\n    off(window, \"mousemove\", handleMouseMove);\n    off(window, \"mouseup\", handleMouseUp);\n  };\n  return {\n    position: position,\n    handleMoveDown: handleMoveDown\n  };\n};\nexport { useDraggable };","map":{"version":3,"names":["ref","on","off","useDraggable","_ref","modalRef","wrapperRef","draggable","alignCenter","isDragging","startMouse","initialPosition","position","minPosition","maxPosition","getInitialPosition","_a","_b","_c","value","_wrapperRef$value$get","getBoundingClientRect","wrapperTop","top","wrapperLeft","left","_wrapperRef$value","wrapperWidth","clientWidth","wrapperHeight","clientHeight","_modalRef$value$getBo","width","height","offsetTop","initialX","initialY","maxX","maxY","handleMoveDown","ev","preventDefault","x","y","window","handleMouseMove","handleMouseUp","diffX","diffY"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/@arco-design/web-vue/es/modal/hooks/use-draggable.js"],"sourcesContent":["import { ref } from \"vue\";\nimport { on, off } from \"../../_utils/dom.js\";\nconst useDraggable = ({\n  modalRef,\n  wrapperRef,\n  draggable,\n  alignCenter\n}) => {\n  const isDragging = ref(false);\n  const startMouse = ref([0, 0]);\n  const initialPosition = ref([0, 0]);\n  const position = ref();\n  const minPosition = ref([0, 0]);\n  const maxPosition = ref([0, 0]);\n  const getInitialPosition = () => {\n    var _a, _b, _c;\n    if (wrapperRef.value && modalRef.value) {\n      const { top: wrapperTop, left: wrapperLeft } = wrapperRef.value.getBoundingClientRect();\n      const { clientWidth: wrapperWidth, clientHeight: wrapperHeight } = wrapperRef.value;\n      const { top, left, width, height } = modalRef.value.getBoundingClientRect();\n      const offsetTop = alignCenter.value ? 0 : (_a = modalRef.value) == null ? void 0 : _a.offsetTop;\n      const initialX = left - wrapperLeft;\n      const initialY = top - wrapperTop - offsetTop;\n      if (initialX !== ((_b = initialPosition.value) == null ? void 0 : _b[0]) || initialY !== ((_c = initialPosition.value) == null ? void 0 : _c[1])) {\n        initialPosition.value = [initialX, initialY];\n      }\n      const maxX = wrapperWidth > width ? wrapperWidth - width : 0;\n      const maxY = wrapperHeight > height ? wrapperHeight - height - offsetTop : 0;\n      if (maxX !== maxPosition.value[0] || maxY !== maxPosition.value[1]) {\n        maxPosition.value = [maxX, maxY];\n      }\n      if (offsetTop) {\n        minPosition.value = [0, 0 - offsetTop];\n      }\n    }\n  };\n  const handleMoveDown = (ev) => {\n    if (draggable.value) {\n      ev.preventDefault();\n      isDragging.value = true;\n      getInitialPosition();\n      startMouse.value = [ev.x, ev.y];\n      on(window, \"mousemove\", handleMouseMove);\n      on(window, \"mouseup\", handleMouseUp);\n      on(window, \"contextmenu\", handleMouseUp);\n    }\n  };\n  const handleMouseMove = (ev) => {\n    if (isDragging.value) {\n      const diffX = ev.x - startMouse.value[0];\n      const diffY = ev.y - startMouse.value[1];\n      let x = initialPosition.value[0] + diffX;\n      let y = initialPosition.value[1] + diffY;\n      if (x < minPosition.value[0])\n        x = minPosition.value[0];\n      if (x > maxPosition.value[0])\n        x = maxPosition.value[0];\n      if (y < minPosition.value[1])\n        y = minPosition.value[1];\n      if (y > maxPosition.value[1])\n        y = maxPosition.value[1];\n      position.value = [x, y];\n    }\n  };\n  const handleMouseUp = () => {\n    isDragging.value = false;\n    off(window, \"mousemove\", handleMouseMove);\n    off(window, \"mouseup\", handleMouseUp);\n  };\n  return {\n    position,\n    handleMoveDown\n  };\n};\nexport { useDraggable };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}