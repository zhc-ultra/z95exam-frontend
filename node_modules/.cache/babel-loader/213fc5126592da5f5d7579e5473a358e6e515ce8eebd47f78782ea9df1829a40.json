{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.anchor.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { asCssValueWithDefault, createStyleSheet, EventHelper, getActiveElement, getWindow, isMouseEvent } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesFuzzy2, matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose as _dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { autorun, constObservable } from '../../../common/observable.js';\nvar TraitRenderer = /*#__PURE__*/function () {\n  function TraitRenderer(trait) {\n    _classCallCheck(this, TraitRenderer);\n    this.trait = trait;\n    this.renderedElements = [];\n  }\n  return _createClass(TraitRenderer, [{\n    key: \"templateId\",\n    get: function get() {\n      return \"template:\".concat(this.trait.name);\n    }\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      return container;\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(element, index, templateData) {\n      var renderedElementIndex = this.renderedElements.findIndex(function (el) {\n        return el.templateData === templateData;\n      });\n      if (renderedElementIndex >= 0) {\n        var rendered = this.renderedElements[renderedElementIndex];\n        this.trait.unrender(templateData);\n        rendered.index = index;\n      } else {\n        var _rendered = {\n          index: index,\n          templateData: templateData\n        };\n        this.renderedElements.push(_rendered);\n      }\n      this.trait.renderIndex(index, templateData);\n    }\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, insertCount) {\n      var rendered = [];\n      var _iterator = _createForOfIteratorHelper(this.renderedElements),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var renderedElement = _step.value;\n          if (renderedElement.index < start) {\n            rendered.push(renderedElement);\n          } else if (renderedElement.index >= start + deleteCount) {\n            rendered.push({\n              index: renderedElement.index + insertCount - deleteCount,\n              templateData: renderedElement.templateData\n            });\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.renderedElements = rendered;\n    }\n  }, {\n    key: \"renderIndexes\",\n    value: function renderIndexes(indexes) {\n      var _iterator2 = _createForOfIteratorHelper(this.renderedElements),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _step2.value,\n            index = _step2$value.index,\n            templateData = _step2$value.templateData;\n          if (indexes.indexOf(index) > -1) {\n            this.trait.renderIndex(index, templateData);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"disposeTemplate\",\n    value: function disposeTemplate(templateData) {\n      var index = this.renderedElements.findIndex(function (el) {\n        return el.templateData === templateData;\n      });\n      if (index < 0) {\n        return;\n      }\n      this.renderedElements.splice(index, 1);\n    }\n  }]);\n}();\nvar Trait = /*#__PURE__*/function () {\n  function Trait(_trait) {\n    _classCallCheck(this, Trait);\n    this._trait = _trait;\n    this.indexes = [];\n    this.sortedIndexes = [];\n    this._onChange = new Emitter();\n    this.onChange = this._onChange.event;\n  }\n  return _createClass(Trait, [{\n    key: \"name\",\n    get: function get() {\n      return this._trait;\n    }\n  }, {\n    key: \"renderer\",\n    get: function get() {\n      return new TraitRenderer(this);\n    }\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, elements) {\n      var diff = elements.length - deleteCount;\n      var end = start + deleteCount;\n      var sortedIndexes = [];\n      var i = 0;\n      while (i < this.sortedIndexes.length && this.sortedIndexes[i] < start) {\n        sortedIndexes.push(this.sortedIndexes[i++]);\n      }\n      for (var j = 0; j < elements.length; j++) {\n        if (elements[j]) {\n          sortedIndexes.push(j + start);\n        }\n      }\n      while (i < this.sortedIndexes.length && this.sortedIndexes[i] >= end) {\n        sortedIndexes.push(this.sortedIndexes[i++] + diff);\n      }\n      this.renderer.splice(start, deleteCount, elements.length);\n      this._set(sortedIndexes, sortedIndexes);\n    }\n  }, {\n    key: \"renderIndex\",\n    value: function renderIndex(index, container) {\n      container.classList.toggle(this._trait, this.contains(index));\n    }\n  }, {\n    key: \"unrender\",\n    value: function unrender(container) {\n      container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n  }, {\n    key: \"set\",\n    value: function set(indexes, browserEvent) {\n      return this._set(indexes, _toConsumableArray(indexes).sort(numericSort), browserEvent);\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(indexes, sortedIndexes, browserEvent) {\n      var result = this.indexes;\n      var sortedResult = this.sortedIndexes;\n      this.indexes = indexes;\n      this.sortedIndexes = sortedIndexes;\n      var toRender = disjunction(sortedResult, indexes);\n      this.renderer.renderIndexes(toRender);\n      this._onChange.fire({\n        indexes: indexes,\n        browserEvent: browserEvent\n      });\n      return result;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      return this.indexes;\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(index) {\n      return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      _dispose(this._onChange);\n    }\n  }]);\n}();\n__decorate([memoize], Trait.prototype, \"renderer\", null);\nvar SelectionTrait = /*#__PURE__*/function (_Trait) {\n  function SelectionTrait(setAriaSelected) {\n    var _this;\n    _classCallCheck(this, SelectionTrait);\n    _this = _callSuper(this, SelectionTrait, ['selected']);\n    _this.setAriaSelected = setAriaSelected;\n    return _this;\n  }\n  _inherits(SelectionTrait, _Trait);\n  return _createClass(SelectionTrait, [{\n    key: \"renderIndex\",\n    value: function renderIndex(index, container) {\n      _get(_getPrototypeOf(SelectionTrait.prototype), \"renderIndex\", this).call(this, index, container);\n      if (this.setAriaSelected) {\n        if (this.contains(index)) {\n          container.setAttribute('aria-selected', 'true');\n        } else {\n          container.setAttribute('aria-selected', 'false');\n        }\n      }\n    }\n  }]);\n}(Trait);\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nvar TraitSpliceable = /*#__PURE__*/function () {\n  function TraitSpliceable(trait, view, identityProvider) {\n    _classCallCheck(this, TraitSpliceable);\n    this.trait = trait;\n    this.view = view;\n    this.identityProvider = identityProvider;\n  }\n  return _createClass(TraitSpliceable, [{\n    key: \"splice\",\n    value: function splice(start, deleteCount, elements) {\n      var _this2 = this;\n      if (!this.identityProvider) {\n        return this.trait.splice(start, deleteCount, new Array(elements.length).fill(false));\n      }\n      var pastElementsWithTrait = this.trait.get().map(function (i) {\n        return _this2.identityProvider.getId(_this2.view.element(i)).toString();\n      });\n      if (pastElementsWithTrait.length === 0) {\n        return this.trait.splice(start, deleteCount, new Array(elements.length).fill(false));\n      }\n      var pastElementsWithTraitSet = new Set(pastElementsWithTrait);\n      var elementsWithTrait = elements.map(function (e) {\n        return pastElementsWithTraitSet.has(_this2.identityProvider.getId(e).toString());\n      });\n      this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n  }]);\n}();\nexport function isInputElement(e) {\n  return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nfunction isListElementDescendantOfClass(e, className) {\n  if (e.classList.contains(className)) {\n    return true;\n  }\n  if (e.classList.contains('monaco-list')) {\n    return false;\n  }\n  if (!e.parentElement) {\n    return false;\n  }\n  return isListElementDescendantOfClass(e.parentElement, className);\n}\nexport function isMonacoEditor(e) {\n  return isListElementDescendantOfClass(e, 'monaco-editor');\n}\nexport function isMonacoCustomToggle(e) {\n  return isListElementDescendantOfClass(e, 'monaco-custom-toggle');\n}\nexport function isActionItem(e) {\n  return isListElementDescendantOfClass(e, 'action-item');\n}\nexport function isStickyScrollElement(e) {\n  return isListElementDescendantOfClass(e, 'monaco-tree-sticky-row');\n}\nexport function isStickyScrollContainer(e) {\n  return e.classList.contains('monaco-tree-sticky-container');\n}\nexport function isButton(e) {\n  if (e.tagName === 'A' && e.classList.contains('monaco-button') || e.tagName === 'DIV' && e.classList.contains('monaco-button-dropdown')) {\n    return true;\n  }\n  if (e.classList.contains('monaco-list')) {\n    return false;\n  }\n  if (!e.parentElement) {\n    return false;\n  }\n  return isButton(e.parentElement);\n}\nvar KeyboardController = /*#__PURE__*/function () {\n  function KeyboardController(list, view, options) {\n    var _this3 = this;\n    _classCallCheck(this, KeyboardController);\n    this.list = list;\n    this.view = view;\n    this.disposables = new DisposableStore();\n    this.multipleSelectionDisposables = new DisposableStore();\n    this.multipleSelectionSupport = options.multipleSelectionSupport;\n    this.disposables.add(this.onKeyDown(function (e) {\n      switch (e.keyCode) {\n        case 3 /* KeyCode.Enter */:\n          return _this3.onEnter(e);\n        case 16 /* KeyCode.UpArrow */:\n          return _this3.onUpArrow(e);\n        case 18 /* KeyCode.DownArrow */:\n          return _this3.onDownArrow(e);\n        case 11 /* KeyCode.PageUp */:\n          return _this3.onPageUpArrow(e);\n        case 12 /* KeyCode.PageDown */:\n          return _this3.onPageDownArrow(e);\n        case 9 /* KeyCode.Escape */:\n          return _this3.onEscape(e);\n        case 31 /* KeyCode.KeyA */:\n          if (_this3.multipleSelectionSupport && (platform.isMacintosh ? e.metaKey : e.ctrlKey)) {\n            _this3.onCtrlA(e);\n          }\n      }\n    }));\n  }\n  return _createClass(KeyboardController, [{\n    key: \"onKeyDown\",\n    get: function get() {\n      return Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, function ($) {\n        return $.filter(function (e) {\n          return !isInputElement(e.target);\n        }).map(function (e) {\n          return new StandardKeyboardEvent(e);\n        });\n      });\n    }\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(optionsUpdate) {\n      if (optionsUpdate.multipleSelectionSupport !== undefined) {\n        this.multipleSelectionSupport = optionsUpdate.multipleSelectionSupport;\n      }\n    }\n  }, {\n    key: \"onEnter\",\n    value: function onEnter(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n  }, {\n    key: \"onUpArrow\",\n    value: function onUpArrow(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.focusPrevious(1, false, e.browserEvent);\n      var el = this.list.getFocus()[0];\n      this.list.setAnchor(el);\n      this.list.reveal(el);\n      this.view.domNode.focus();\n    }\n  }, {\n    key: \"onDownArrow\",\n    value: function onDownArrow(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.focusNext(1, false, e.browserEvent);\n      var el = this.list.getFocus()[0];\n      this.list.setAnchor(el);\n      this.list.reveal(el);\n      this.view.domNode.focus();\n    }\n  }, {\n    key: \"onPageUpArrow\",\n    value: function onPageUpArrow(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.focusPreviousPage(e.browserEvent);\n      var el = this.list.getFocus()[0];\n      this.list.setAnchor(el);\n      this.list.reveal(el);\n      this.view.domNode.focus();\n    }\n  }, {\n    key: \"onPageDownArrow\",\n    value: function onPageDownArrow(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.focusNextPage(e.browserEvent);\n      var el = this.list.getFocus()[0];\n      this.list.setAnchor(el);\n      this.list.reveal(el);\n      this.view.domNode.focus();\n    }\n  }, {\n    key: \"onCtrlA\",\n    value: function onCtrlA(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.list.setSelection(range(this.list.length), e.browserEvent);\n      this.list.setAnchor(undefined);\n      this.view.domNode.focus();\n    }\n  }, {\n    key: \"onEscape\",\n    value: function onEscape(e) {\n      if (this.list.getSelection().length) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection([], e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.disposables.dispose();\n      this.multipleSelectionDisposables.dispose();\n    }\n  }]);\n}();\n__decorate([memoize], KeyboardController.prototype, \"onKeyDown\", null);\nexport var TypeNavigationMode;\n(function (TypeNavigationMode) {\n  TypeNavigationMode[TypeNavigationMode[\"Automatic\"] = 0] = \"Automatic\";\n  TypeNavigationMode[TypeNavigationMode[\"Trigger\"] = 1] = \"Trigger\";\n})(TypeNavigationMode || (TypeNavigationMode = {}));\nvar TypeNavigationControllerState;\n(function (TypeNavigationControllerState) {\n  TypeNavigationControllerState[TypeNavigationControllerState[\"Idle\"] = 0] = \"Idle\";\n  TypeNavigationControllerState[TypeNavigationControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeNavigationControllerState || (TypeNavigationControllerState = {}));\nexport var DefaultKeyboardNavigationDelegate = new ( /*#__PURE__*/function () {\n  function _class() {\n    _classCallCheck(this, _class);\n  }\n  return _createClass(_class, [{\n    key: \"mightProducePrintableCharacter\",\n    value: function mightProducePrintableCharacter(event) {\n      if (event.ctrlKey || event.metaKey || event.altKey) {\n        return false;\n      }\n      return event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */ || event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */ || event.keyCode >= 98 /* KeyCode.Numpad0 */ && event.keyCode <= 107 /* KeyCode.Numpad9 */ || event.keyCode >= 85 /* KeyCode.Semicolon */ && event.keyCode <= 95 /* KeyCode.Quote */;\n    }\n  }]);\n}())();\nvar TypeNavigationController = /*#__PURE__*/function () {\n  function TypeNavigationController(list, view, keyboardNavigationLabelProvider, keyboardNavigationEventFilter, delegate) {\n    _classCallCheck(this, TypeNavigationController);\n    this.list = list;\n    this.view = view;\n    this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n    this.keyboardNavigationEventFilter = keyboardNavigationEventFilter;\n    this.delegate = delegate;\n    this.enabled = false;\n    this.state = TypeNavigationControllerState.Idle;\n    this.mode = TypeNavigationMode.Automatic;\n    this.triggered = false;\n    this.previouslyFocused = -1;\n    this.enabledDisposables = new DisposableStore();\n    this.disposables = new DisposableStore();\n    this.updateOptions(list.options);\n  }\n  return _createClass(TypeNavigationController, [{\n    key: \"updateOptions\",\n    value: function updateOptions(options) {\n      var _a, _b;\n      if ((_a = options.typeNavigationEnabled) !== null && _a !== void 0 ? _a : true) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n      this.mode = (_b = options.typeNavigationMode) !== null && _b !== void 0 ? _b : TypeNavigationMode.Automatic;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var _this4 = this;\n      if (this.enabled) {\n        return;\n      }\n      var typing = false;\n      var onChar = Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, function ($) {\n        return $.filter(function (e) {\n          return !isInputElement(e.target);\n        }).filter(function () {\n          return _this4.mode === TypeNavigationMode.Automatic || _this4.triggered;\n        }).map(function (event) {\n          return new StandardKeyboardEvent(event);\n        }).filter(function (e) {\n          return typing || _this4.keyboardNavigationEventFilter(e);\n        }).filter(function (e) {\n          return _this4.delegate.mightProducePrintableCharacter(e);\n        }).forEach(function (e) {\n          return EventHelper.stop(e, true);\n        }).map(function (event) {\n          return event.browserEvent.key;\n        });\n      });\n      var onClear = Event.debounce(onChar, function () {\n        return null;\n      }, 800, undefined, undefined, undefined, this.enabledDisposables);\n      var onInput = Event.reduce(Event.any(onChar, onClear), function (r, i) {\n        return i === null ? null : (r || '') + i;\n      }, undefined, this.enabledDisposables);\n      onInput(this.onInput, this, this.enabledDisposables);\n      onClear(this.onClear, this, this.enabledDisposables);\n      onChar(function () {\n        return typing = true;\n      }, undefined, this.enabledDisposables);\n      onClear(function () {\n        return typing = false;\n      }, undefined, this.enabledDisposables);\n      this.enabled = true;\n      this.triggered = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this.enabled) {\n        return;\n      }\n      this.enabledDisposables.clear();\n      this.enabled = false;\n      this.triggered = false;\n    }\n  }, {\n    key: \"onClear\",\n    value: function onClear() {\n      var _a;\n      var focus = this.list.getFocus();\n      if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n        // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n        // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n        var ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n        if (typeof ariaLabel === 'string') {\n          alert(ariaLabel);\n        } else if (ariaLabel) {\n          alert(ariaLabel.get());\n        }\n      }\n      this.previouslyFocused = -1;\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(word) {\n      if (!word) {\n        this.state = TypeNavigationControllerState.Idle;\n        this.triggered = false;\n        return;\n      }\n      var focus = this.list.getFocus();\n      var start = focus.length > 0 ? focus[0] : 0;\n      var delta = this.state === TypeNavigationControllerState.Idle ? 1 : 0;\n      this.state = TypeNavigationControllerState.Typing;\n      for (var i = 0; i < this.list.length; i++) {\n        var index = (start + i + delta) % this.list.length;\n        var label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n        var labelStr = label && label.toString();\n        if (this.list.options.typeNavigationEnabled) {\n          if (typeof labelStr !== 'undefined') {\n            // If prefix is found, focus and return early\n            if (matchesPrefix(word, labelStr)) {\n              this.previouslyFocused = start;\n              this.list.setFocus([index]);\n              this.list.reveal(index);\n              return;\n            }\n            var fuzzy = matchesFuzzy2(word, labelStr);\n            if (fuzzy) {\n              var fuzzyScore = fuzzy[0].end - fuzzy[0].start;\n              // ensures that when fuzzy matching, doesn't clash with prefix matching (1 input vs 1+ should be prefix and fuzzy respecitvely). Also makes sure that exact matches are prioritized.\n              if (fuzzyScore > 1 && fuzzy.length === 1) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n              }\n            }\n          }\n        } else if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n          this.previouslyFocused = start;\n          this.list.setFocus([index]);\n          this.list.reveal(index);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.disable();\n      this.enabledDisposables.dispose();\n      this.disposables.dispose();\n    }\n  }]);\n}();\nvar DOMFocusController = /*#__PURE__*/function () {\n  function DOMFocusController(list, view) {\n    _classCallCheck(this, DOMFocusController);\n    this.list = list;\n    this.view = view;\n    this.disposables = new DisposableStore();\n    var onKeyDown = Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event, function ($) {\n      return $.filter(function (e) {\n        return !isInputElement(e.target);\n      }).map(function (e) {\n        return new StandardKeyboardEvent(e);\n      });\n    });\n    var onTab = Event.chain(onKeyDown, function ($) {\n      return $.filter(function (e) {\n        return e.keyCode === 2 /* KeyCode.Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey;\n      });\n    });\n    onTab(this.onTab, this, this.disposables);\n  }\n  return _createClass(DOMFocusController, [{\n    key: \"onTab\",\n    value: function onTab(e) {\n      if (e.target !== this.view.domNode) {\n        return;\n      }\n      var focus = this.list.getFocus();\n      if (focus.length === 0) {\n        return;\n      }\n      var focusedDomElement = this.view.domElement(focus[0]);\n      if (!focusedDomElement) {\n        return;\n      }\n      var tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n      if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n        return;\n      }\n      var style = getWindow(tabIndexElement).getComputedStyle(tabIndexElement);\n      if (style.visibility === 'hidden' || style.display === 'none') {\n        return;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      tabIndexElement.focus();\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.disposables.dispose();\n    }\n  }]);\n}();\nexport function isSelectionSingleChangeEvent(event) {\n  return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n  return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n  return isMouseEvent(event) && event.button === 2;\n}\nvar DefaultMultipleSelectionController = {\n  isSelectionSingleChangeEvent: isSelectionSingleChangeEvent,\n  isSelectionRangeChangeEvent: isSelectionRangeChangeEvent\n};\nexport var MouseController = /*#__PURE__*/function () {\n  function MouseController(list) {\n    _classCallCheck(this, MouseController);\n    this.list = list;\n    this.disposables = new DisposableStore();\n    this._onPointer = new Emitter();\n    this.onPointer = this._onPointer.event;\n    if (list.options.multipleSelectionSupport !== false) {\n      this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n    }\n    this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n    if (this.mouseSupport) {\n      list.onMouseDown(this.onMouseDown, this, this.disposables);\n      list.onContextMenu(this.onContextMenu, this, this.disposables);\n      list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n      list.onTouchStart(this.onMouseDown, this, this.disposables);\n      this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n    }\n    Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n  }\n  return _createClass(MouseController, [{\n    key: \"updateOptions\",\n    value: function updateOptions(optionsUpdate) {\n      if (optionsUpdate.multipleSelectionSupport !== undefined) {\n        this.multipleSelectionController = undefined;\n        if (optionsUpdate.multipleSelectionSupport) {\n          this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n      }\n    }\n  }, {\n    key: \"isSelectionSingleChangeEvent\",\n    value: function isSelectionSingleChangeEvent(event) {\n      if (!this.multipleSelectionController) {\n        return false;\n      }\n      return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n  }, {\n    key: \"isSelectionRangeChangeEvent\",\n    value: function isSelectionRangeChangeEvent(event) {\n      if (!this.multipleSelectionController) {\n        return false;\n      }\n      return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n  }, {\n    key: \"isSelectionChangeEvent\",\n    value: function isSelectionChangeEvent(event) {\n      return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(e) {\n      if (isMonacoEditor(e.browserEvent.target)) {\n        return;\n      }\n      if (getActiveElement() !== e.browserEvent.target) {\n        this.list.domFocus();\n      }\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(e) {\n      if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n        return;\n      }\n      var focus = typeof e.index === 'undefined' ? [] : [e.index];\n      this.list.setFocus(focus, e.browserEvent);\n    }\n  }, {\n    key: \"onViewPointer\",\n    value: function onViewPointer(e) {\n      if (!this.mouseSupport) {\n        return;\n      }\n      if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n        return;\n      }\n      if (e.browserEvent.isHandledByList) {\n        return;\n      }\n      e.browserEvent.isHandledByList = true;\n      var focus = e.index;\n      if (typeof focus === 'undefined') {\n        this.list.setFocus([], e.browserEvent);\n        this.list.setSelection([], e.browserEvent);\n        this.list.setAnchor(undefined);\n        return;\n      }\n      if (this.isSelectionChangeEvent(e)) {\n        return this.changeSelection(e);\n      }\n      this.list.setFocus([focus], e.browserEvent);\n      this.list.setAnchor(focus);\n      if (!isMouseRightClick(e.browserEvent)) {\n        this.list.setSelection([focus], e.browserEvent);\n      }\n      this._onPointer.fire(e);\n    }\n  }, {\n    key: \"onDoubleClick\",\n    value: function onDoubleClick(e) {\n      if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n        return;\n      }\n      if (this.isSelectionChangeEvent(e)) {\n        return;\n      }\n      if (e.browserEvent.isHandledByList) {\n        return;\n      }\n      e.browserEvent.isHandledByList = true;\n      var focus = this.list.getFocus();\n      this.list.setSelection(focus, e.browserEvent);\n    }\n  }, {\n    key: \"changeSelection\",\n    value: function changeSelection(e) {\n      var focus = e.index;\n      var anchor = this.list.getAnchor();\n      if (this.isSelectionRangeChangeEvent(e)) {\n        if (typeof anchor === 'undefined') {\n          var currentFocus = this.list.getFocus()[0];\n          anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n          this.list.setAnchor(anchor);\n        }\n        var min = Math.min(anchor, focus);\n        var max = Math.max(anchor, focus);\n        var rangeSelection = range(min, max + 1);\n        var selection = this.list.getSelection();\n        var contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n        if (contiguousRange.length === 0) {\n          return;\n        }\n        var newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n        this.list.setSelection(newSelection, e.browserEvent);\n        this.list.setFocus([focus], e.browserEvent);\n      } else if (this.isSelectionSingleChangeEvent(e)) {\n        var _selection = this.list.getSelection();\n        var _newSelection = _selection.filter(function (i) {\n          return i !== focus;\n        });\n        this.list.setFocus([focus]);\n        this.list.setAnchor(focus);\n        if (_selection.length === _newSelection.length) {\n          this.list.setSelection([].concat(_toConsumableArray(_newSelection), [focus]), e.browserEvent);\n        } else {\n          this.list.setSelection(_newSelection, e.browserEvent);\n        }\n      }\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.disposables.dispose();\n    }\n  }]);\n}();\nexport var DefaultStyleController = /*#__PURE__*/function () {\n  function DefaultStyleController(styleElement, selectorSuffix) {\n    _classCallCheck(this, DefaultStyleController);\n    this.styleElement = styleElement;\n    this.selectorSuffix = selectorSuffix;\n  }\n  return _createClass(DefaultStyleController, [{\n    key: \"style\",\n    value: function style(styles) {\n      var _a, _b;\n      var suffix = this.selectorSuffix && \".\".concat(this.selectorSuffix);\n      var content = [];\n      if (styles.listBackground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-rows { background: \").concat(styles.listBackground, \"; }\"));\n      }\n      if (styles.listFocusBackground) {\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.focused { background-color: \").concat(styles.listFocusBackground, \"; }\"));\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.focused:hover { background-color: \").concat(styles.listFocusBackground, \"; }\")); // overwrite :hover style in this case!\n      }\n      if (styles.listFocusForeground) {\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.focused { color: \").concat(styles.listFocusForeground, \"; }\"));\n      }\n      if (styles.listActiveSelectionBackground) {\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.selected { background-color: \").concat(styles.listActiveSelectionBackground, \"; }\"));\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.selected:hover { background-color: \").concat(styles.listActiveSelectionBackground, \"; }\")); // overwrite :hover style in this case!\n      }\n      if (styles.listActiveSelectionForeground) {\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.selected { color: \").concat(styles.listActiveSelectionForeground, \"; }\"));\n      }\n      if (styles.listActiveSelectionIconForeground) {\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.selected .codicon { color: \").concat(styles.listActiveSelectionIconForeground, \"; }\"));\n      }\n      if (styles.listFocusAndSelectionBackground) {\n        content.push(\"\\n\\t\\t\\t\\t.monaco-drag-image,\\n\\t\\t\\t\\t.monaco-list\".concat(suffix, \":focus .monaco-list-row.selected.focused { background-color: \").concat(styles.listFocusAndSelectionBackground, \"; }\\n\\t\\t\\t\"));\n      }\n      if (styles.listFocusAndSelectionForeground) {\n        content.push(\"\\n\\t\\t\\t\\t.monaco-drag-image,\\n\\t\\t\\t\\t.monaco-list\".concat(suffix, \":focus .monaco-list-row.selected.focused { color: \").concat(styles.listFocusAndSelectionForeground, \"; }\\n\\t\\t\\t\"));\n      }\n      if (styles.listInactiveFocusForeground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused { color:  \").concat(styles.listInactiveFocusForeground, \"; }\"));\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused:hover { color:  \").concat(styles.listInactiveFocusForeground, \"; }\")); // overwrite :hover style in this case!\n      }\n      if (styles.listInactiveSelectionIconForeground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused .codicon { color:  \").concat(styles.listInactiveSelectionIconForeground, \"; }\"));\n      }\n      if (styles.listInactiveFocusBackground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused { background-color:  \").concat(styles.listInactiveFocusBackground, \"; }\"));\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused:hover { background-color:  \").concat(styles.listInactiveFocusBackground, \"; }\")); // overwrite :hover style in this case!\n      }\n      if (styles.listInactiveSelectionBackground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.selected { background-color:  \").concat(styles.listInactiveSelectionBackground, \"; }\"));\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.selected:hover { background-color:  \").concat(styles.listInactiveSelectionBackground, \"; }\")); // overwrite :hover style in this case!\n      }\n      if (styles.listInactiveSelectionForeground) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.selected { color: \").concat(styles.listInactiveSelectionForeground, \"; }\"));\n      }\n      if (styles.listHoverBackground) {\n        content.push(\".monaco-list\".concat(suffix, \":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: \").concat(styles.listHoverBackground, \"; }\"));\n      }\n      if (styles.listHoverForeground) {\n        content.push(\".monaco-list\".concat(suffix, \":not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  \").concat(styles.listHoverForeground, \"; }\"));\n      }\n      /**\n       * Outlines\n       */\n      var focusAndSelectionOutline = asCssValueWithDefault(styles.listFocusAndSelectionOutline, asCssValueWithDefault(styles.listSelectionOutline, (_a = styles.listFocusOutline) !== null && _a !== void 0 ? _a : ''));\n      if (focusAndSelectionOutline) {\n        // default: listFocusOutline\n        content.push(\".monaco-list\".concat(suffix, \":focus .monaco-list-row.focused.selected { outline: 1px solid \").concat(focusAndSelectionOutline, \"; outline-offset: -1px;}\"));\n      }\n      if (styles.listFocusOutline) {\n        // default: set\n        content.push(\"\\n\\t\\t\\t\\t.monaco-drag-image,\\n\\t\\t\\t\\t.monaco-list\".concat(suffix, \":focus .monaco-list-row.focused { outline: 1px solid \").concat(styles.listFocusOutline, \"; outline-offset: -1px; }\\n\\t\\t\\t\\t.monaco-workbench.context-menu-visible .monaco-list\").concat(suffix, \".last-focused .monaco-list-row.focused { outline: 1px solid \").concat(styles.listFocusOutline, \"; outline-offset: -1px; }\\n\\t\\t\\t\"));\n      }\n      var inactiveFocusAndSelectionOutline = asCssValueWithDefault(styles.listSelectionOutline, (_b = styles.listInactiveFocusOutline) !== null && _b !== void 0 ? _b : '');\n      if (inactiveFocusAndSelectionOutline) {\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused.selected { outline: 1px dotted \").concat(inactiveFocusAndSelectionOutline, \"; outline-offset: -1px; }\"));\n      }\n      if (styles.listSelectionOutline) {\n        // default: activeContrastBorder\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.selected { outline: 1px dotted \").concat(styles.listSelectionOutline, \"; outline-offset: -1px; }\"));\n      }\n      if (styles.listInactiveFocusOutline) {\n        // default: null\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row.focused { outline: 1px dotted \").concat(styles.listInactiveFocusOutline, \"; outline-offset: -1px; }\"));\n      }\n      if (styles.listHoverOutline) {\n        // default: activeContrastBorder\n        content.push(\".monaco-list\".concat(suffix, \" .monaco-list-row:hover { outline: 1px dashed \").concat(styles.listHoverOutline, \"; outline-offset: -1px; }\"));\n      }\n      if (styles.listDropOverBackground) {\n        content.push(\"\\n\\t\\t\\t\\t.monaco-list\".concat(suffix, \".drop-target,\\n\\t\\t\\t\\t.monaco-list\").concat(suffix, \" .monaco-list-rows.drop-target,\\n\\t\\t\\t\\t.monaco-list\").concat(suffix, \" .monaco-list-row.drop-target { background-color: \").concat(styles.listDropOverBackground, \" !important; color: inherit !important; }\\n\\t\\t\\t\"));\n      }\n      if (styles.listDropBetweenBackground) {\n        content.push(\"\\n\\t\\t\\t.monaco-list\".concat(suffix, \" .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,\\n\\t\\t\\t.monaco-list\").concat(suffix, \" .monaco-list-row.drop-target-before::before {\\n\\t\\t\\t\\tcontent: \\\"\\\"; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;\\n\\t\\t\\t\\tbackground-color: \").concat(styles.listDropBetweenBackground, \";\\n\\t\\t\\t}\"));\n        content.push(\"\\n\\t\\t\\t.monaco-list\".concat(suffix, \" .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,\\n\\t\\t\\t.monaco-list\").concat(suffix, \" .monaco-list-row.drop-target-after::after {\\n\\t\\t\\t\\tcontent: \\\"\\\"; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;\\n\\t\\t\\t\\tbackground-color: \").concat(styles.listDropBetweenBackground, \";\\n\\t\\t\\t}\"));\n      }\n      if (styles.tableColumnsBorder) {\n        content.push(\"\\n\\t\\t\\t\\t.monaco-table > .monaco-split-view2,\\n\\t\\t\\t\\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\\n\\t\\t\\t\\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\\n\\t\\t\\t\\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\\n\\t\\t\\t\\t\\tborder-color: \".concat(styles.tableColumnsBorder, \";\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\\n\\t\\t\\t\\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\\n\\t\\t\\t\\t\\tborder-color: transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\"));\n      }\n      if (styles.tableOddRowsBackgroundColor) {\n        content.push(\"\\n\\t\\t\\t\\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\\n\\t\\t\\t\\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\\n\\t\\t\\t\\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\\n\\t\\t\\t\\t\\tbackground-color: \".concat(styles.tableOddRowsBackgroundColor, \";\\n\\t\\t\\t\\t}\\n\\t\\t\\t\"));\n      }\n      this.styleElement.textContent = content.join('\\n');\n    }\n  }]);\n}();\nexport var unthemedListStyles = {\n  listFocusBackground: '#7FB0D0',\n  listActiveSelectionBackground: '#0E639C',\n  listActiveSelectionForeground: '#FFFFFF',\n  listActiveSelectionIconForeground: '#FFFFFF',\n  listFocusAndSelectionOutline: '#90C2F9',\n  listFocusAndSelectionBackground: '#094771',\n  listFocusAndSelectionForeground: '#FFFFFF',\n  listInactiveSelectionBackground: '#3F3F46',\n  listInactiveSelectionIconForeground: '#FFFFFF',\n  listHoverBackground: '#2A2D2E',\n  listDropOverBackground: '#383B3D',\n  listDropBetweenBackground: '#EEEEEE',\n  treeIndentGuidesStroke: '#a9a9a9',\n  treeInactiveIndentGuidesStroke: Color.fromHex('#a9a9a9').transparent(0.4).toString(),\n  tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2).toString(),\n  tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04).toString(),\n  listBackground: undefined,\n  listFocusForeground: undefined,\n  listInactiveSelectionForeground: undefined,\n  listInactiveFocusForeground: undefined,\n  listInactiveFocusBackground: undefined,\n  listHoverForeground: undefined,\n  listFocusOutline: undefined,\n  listInactiveFocusOutline: undefined,\n  listSelectionOutline: undefined,\n  listHoverOutline: undefined\n};\nvar DefaultOptions = {\n  keyboardSupport: true,\n  mouseSupport: true,\n  multipleSelectionSupport: true,\n  dnd: {\n    getDragURI: function getDragURI() {\n      return null;\n    },\n    onDragStart: function onDragStart() {},\n    onDragOver: function onDragOver() {\n      return false;\n    },\n    drop: function drop() {},\n    dispose: function dispose() {}\n  }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n  var index = range.indexOf(value);\n  if (index === -1) {\n    return [];\n  }\n  var result = [];\n  var i = index - 1;\n  while (i >= 0 && range[i] === value - (index - i)) {\n    result.push(range[i--]);\n  }\n  result.reverse();\n  i = index;\n  while (i < range.length && range[i] === value + (i - index)) {\n    result.push(range[i++]);\n  }\n  return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n  var result = [];\n  var i = 0,\n    j = 0;\n  while (i < one.length || j < other.length) {\n    if (i >= one.length) {\n      result.push(other[j++]);\n    } else if (j >= other.length) {\n      result.push(one[i++]);\n    } else if (one[i] === other[j]) {\n      result.push(one[i]);\n      i++;\n      j++;\n      continue;\n    } else if (one[i] < other[j]) {\n      result.push(one[i++]);\n    } else {\n      result.push(other[j++]);\n    }\n  }\n  return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n  var result = [];\n  var i = 0,\n    j = 0;\n  while (i < one.length || j < other.length) {\n    if (i >= one.length) {\n      result.push(other[j++]);\n    } else if (j >= other.length) {\n      result.push(one[i++]);\n    } else if (one[i] === other[j]) {\n      i++;\n      j++;\n      continue;\n    } else if (one[i] < other[j]) {\n      result.push(one[i++]);\n    } else {\n      j++;\n    }\n  }\n  return result;\n}\nvar numericSort = function numericSort(a, b) {\n  return a - b;\n};\nvar PipelineRenderer = /*#__PURE__*/function () {\n  function PipelineRenderer(_templateId, renderers) {\n    _classCallCheck(this, PipelineRenderer);\n    this._templateId = _templateId;\n    this.renderers = renderers;\n  }\n  return _createClass(PipelineRenderer, [{\n    key: \"templateId\",\n    get: function get() {\n      return this._templateId;\n    }\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      return this.renderers.map(function (r) {\n        return r.renderTemplate(container);\n      });\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(element, index, templateData, height) {\n      var i = 0;\n      var _iterator3 = _createForOfIteratorHelper(this.renderers),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var renderer = _step3.value;\n          renderer.renderElement(element, index, templateData[i++], height);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(element, index, templateData, height) {\n      var _a;\n      var i = 0;\n      var _iterator4 = _createForOfIteratorHelper(this.renderers),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var renderer = _step4.value;\n          (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, element, index, templateData[i], height);\n          i += 1;\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"disposeTemplate\",\n    value: function disposeTemplate(templateData) {\n      var i = 0;\n      var _iterator5 = _createForOfIteratorHelper(this.renderers),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var renderer = _step5.value;\n          renderer.disposeTemplate(templateData[i++]);\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }]);\n}();\nvar AccessibiltyRenderer = /*#__PURE__*/function () {\n  function AccessibiltyRenderer(accessibilityProvider) {\n    _classCallCheck(this, AccessibiltyRenderer);\n    this.accessibilityProvider = accessibilityProvider;\n    this.templateId = 'a18n';\n  }\n  return _createClass(AccessibiltyRenderer, [{\n    key: \"renderTemplate\",\n    value: function renderTemplate(container) {\n      return {\n        container: container,\n        disposables: new DisposableStore()\n      };\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(element, index, data) {\n      var _this5 = this;\n      var ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n      var observable = ariaLabel && typeof ariaLabel !== 'string' ? ariaLabel : constObservable(ariaLabel);\n      data.disposables.add(autorun(function (reader) {\n        _this5.setAriaLabel(reader.readObservable(observable), data.container);\n      }));\n      var ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n      if (typeof ariaLevel === 'number') {\n        data.container.setAttribute('aria-level', \"\".concat(ariaLevel));\n      } else {\n        data.container.removeAttribute('aria-level');\n      }\n    }\n  }, {\n    key: \"setAriaLabel\",\n    value: function setAriaLabel(ariaLabel, element) {\n      if (ariaLabel) {\n        element.setAttribute('aria-label', ariaLabel);\n      } else {\n        element.removeAttribute('aria-label');\n      }\n    }\n  }, {\n    key: \"disposeElement\",\n    value: function disposeElement(element, index, templateData, height) {\n      templateData.disposables.clear();\n    }\n  }, {\n    key: \"disposeTemplate\",\n    value: function disposeTemplate(templateData) {\n      templateData.disposables.dispose();\n    }\n  }]);\n}();\nvar ListViewDragAndDrop = /*#__PURE__*/function () {\n  function ListViewDragAndDrop(list, dnd) {\n    _classCallCheck(this, ListViewDragAndDrop);\n    this.list = list;\n    this.dnd = dnd;\n  }\n  return _createClass(ListViewDragAndDrop, [{\n    key: \"getDragElements\",\n    value: function getDragElements(element) {\n      var selection = this.list.getSelectedElements();\n      var elements = selection.indexOf(element) > -1 ? selection : [element];\n      return elements;\n    }\n  }, {\n    key: \"getDragURI\",\n    value: function getDragURI(element) {\n      return this.dnd.getDragURI(element);\n    }\n  }, {\n    key: \"getDragLabel\",\n    value: function getDragLabel(elements, originalEvent) {\n      if (this.dnd.getDragLabel) {\n        return this.dnd.getDragLabel(elements, originalEvent);\n      }\n      return undefined;\n    }\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(data, originalEvent) {\n      var _a, _b;\n      (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, data, originalEvent);\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(data, targetElement, targetIndex, targetSector, originalEvent) {\n      return this.dnd.onDragOver(data, targetElement, targetIndex, targetSector, originalEvent);\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(data, targetElement, targetIndex, originalEvent) {\n      var _a, _b;\n      (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(originalEvent) {\n      var _a, _b;\n      (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n  }, {\n    key: \"drop\",\n    value: function drop(data, targetElement, targetIndex, targetSector, originalEvent) {\n      this.dnd.drop(data, targetElement, targetIndex, targetSector, originalEvent);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.dnd.dispose();\n    }\n  }]);\n}();\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport var List = /*#__PURE__*/function () {\n  function List(user, container, virtualDelegate, renderers) {\n    var _options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DefaultOptions;\n    _classCallCheck(this, List);\n    var _a, _b, _c, _d;\n    this.user = user;\n    this._options = _options;\n    this.focus = new Trait('focused');\n    this.anchor = new Trait('anchor');\n    this.eventBufferer = new EventBufferer();\n    this._ariaLabel = '';\n    this.disposables = new DisposableStore();\n    this._onDidDispose = new Emitter();\n    this.onDidDispose = this._onDidDispose.event;\n    var role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n    this.selection = new SelectionTrait(role !== 'listbox');\n    var baseRenderers = [this.focus.renderer, this.selection.renderer];\n    this.accessibilityProvider = _options.accessibilityProvider;\n    if (this.accessibilityProvider) {\n      baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n      (_c = (_b = this.accessibilityProvider).onDidChangeActiveDescendant) === null || _c === void 0 ? void 0 : _c.call(_b, this.onDidChangeActiveDescendant, this, this.disposables);\n    }\n    renderers = renderers.map(function (r) {\n      return new PipelineRenderer(r.templateId, [].concat(baseRenderers, [r]));\n    });\n    var viewOptions = _objectSpread(_objectSpread({}, _options), {}, {\n      dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd)\n    });\n    this.view = this.createListView(container, virtualDelegate, renderers, viewOptions);\n    this.view.domNode.setAttribute('role', role);\n    if (_options.styleController) {\n      this.styleController = _options.styleController(this.view.domId);\n    } else {\n      var styleElement = createStyleSheet(this.view.domNode);\n      this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n    }\n    this.spliceable = new CombinedSpliceable([new TraitSpliceable(this.focus, this.view, _options.identityProvider), new TraitSpliceable(this.selection, this.view, _options.identityProvider), new TraitSpliceable(this.anchor, this.view, _options.identityProvider), this.view]);\n    this.disposables.add(this.focus);\n    this.disposables.add(this.selection);\n    this.disposables.add(this.anchor);\n    this.disposables.add(this.view);\n    this.disposables.add(this._onDidDispose);\n    this.disposables.add(new DOMFocusController(this, this.view));\n    if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n      this.keyboardController = new KeyboardController(this, this.view, _options);\n      this.disposables.add(this.keyboardController);\n    }\n    if (_options.keyboardNavigationLabelProvider) {\n      var delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n      this.typeNavigationController = new TypeNavigationController(this, this.view, _options.keyboardNavigationLabelProvider, (_d = _options.keyboardNavigationEventFilter) !== null && _d !== void 0 ? _d : function () {\n        return true;\n      }, delegate);\n      this.disposables.add(this.typeNavigationController);\n    }\n    this.mouseController = this.createMouseController(_options);\n    this.disposables.add(this.mouseController);\n    this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n    this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n    if (this.accessibilityProvider) {\n      this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    if (this._options.multipleSelectionSupport !== false) {\n      this.view.domNode.setAttribute('aria-multiselectable', 'true');\n    }\n  }\n  return _createClass(List, [{\n    key: \"onDidChangeFocus\",\n    get: function get() {\n      var _this6 = this;\n      return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), function (e) {\n        return _this6.toListEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"onDidChangeSelection\",\n    get: function get() {\n      var _this7 = this;\n      return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), function (e) {\n        return _this7.toListEvent(e);\n      }, this.disposables);\n    }\n  }, {\n    key: \"domId\",\n    get: function get() {\n      return this.view.domId;\n    }\n  }, {\n    key: \"onDidScroll\",\n    get: function get() {\n      return this.view.onDidScroll;\n    }\n  }, {\n    key: \"onMouseClick\",\n    get: function get() {\n      return this.view.onMouseClick;\n    }\n  }, {\n    key: \"onMouseDblClick\",\n    get: function get() {\n      return this.view.onMouseDblClick;\n    }\n  }, {\n    key: \"onMouseMiddleClick\",\n    get: function get() {\n      return this.view.onMouseMiddleClick;\n    }\n  }, {\n    key: \"onPointer\",\n    get: function get() {\n      return this.mouseController.onPointer;\n    }\n  }, {\n    key: \"onMouseDown\",\n    get: function get() {\n      return this.view.onMouseDown;\n    }\n  }, {\n    key: \"onMouseOver\",\n    get: function get() {\n      return this.view.onMouseOver;\n    }\n  }, {\n    key: \"onMouseOut\",\n    get: function get() {\n      return this.view.onMouseOut;\n    }\n  }, {\n    key: \"onTouchStart\",\n    get: function get() {\n      return this.view.onTouchStart;\n    }\n  }, {\n    key: \"onTap\",\n    get: function get() {\n      return this.view.onTap;\n    }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n  }, {\n    key: \"onContextMenu\",\n    get: function get() {\n      var _this8 = this;\n      var didJustPressContextMenuKey = false;\n      var fromKeyDown = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, function ($) {\n        return $.map(function (e) {\n          return new StandardKeyboardEvent(e);\n        }).filter(function (e) {\n          return didJustPressContextMenuKey = e.keyCode === 58 /* KeyCode.ContextMenu */ || e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */;\n        }).map(function (e) {\n          return EventHelper.stop(e, true);\n        }).filter(function () {\n          return false;\n        });\n      });\n      var fromKeyUp = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event, function ($) {\n        return $.forEach(function () {\n          return didJustPressContextMenuKey = false;\n        }).map(function (e) {\n          return new StandardKeyboardEvent(e);\n        }).filter(function (e) {\n          return e.keyCode === 58 /* KeyCode.ContextMenu */ || e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */;\n        }).map(function (e) {\n          return EventHelper.stop(e, true);\n        }).map(function (_ref) {\n          var browserEvent = _ref.browserEvent;\n          var focus = _this8.getFocus();\n          var index = focus.length ? focus[0] : undefined;\n          var element = typeof index !== 'undefined' ? _this8.view.element(index) : undefined;\n          var anchor = typeof index !== 'undefined' ? _this8.view.domElement(index) : _this8.view.domNode;\n          return {\n            index: index,\n            element: element,\n            anchor: anchor,\n            browserEvent: browserEvent\n          };\n        });\n      });\n      var fromMouse = Event.chain(this.view.onContextMenu, function ($) {\n        return $.filter(function (_) {\n          return !didJustPressContextMenuKey;\n        }).map(function (_ref2) {\n          var element = _ref2.element,\n            index = _ref2.index,\n            browserEvent = _ref2.browserEvent;\n          return {\n            element: element,\n            index: index,\n            anchor: new StandardMouseEvent(getWindow(_this8.view.domNode), browserEvent),\n            browserEvent: browserEvent\n          };\n        });\n      });\n      return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n  }, {\n    key: \"onKeyDown\",\n    get: function get() {\n      return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event;\n    }\n  }, {\n    key: \"onDidFocus\",\n    get: function get() {\n      return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event);\n    }\n  }, {\n    key: \"onDidBlur\",\n    get: function get() {\n      return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'blur', true)).event);\n    }\n  }, {\n    key: \"createListView\",\n    value: function createListView(container, virtualDelegate, renderers, viewOptions) {\n      return new ListView(container, virtualDelegate, renderers, viewOptions);\n    }\n  }, {\n    key: \"createMouseController\",\n    value: function createMouseController(options) {\n      return new MouseController(this);\n    }\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions() {\n      var optionsUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _a, _b;\n      this._options = _objectSpread(_objectSpread({}, this._options), optionsUpdate);\n      (_a = this.typeNavigationController) === null || _a === void 0 ? void 0 : _a.updateOptions(this._options);\n      if (this._options.multipleSelectionController !== undefined) {\n        if (this._options.multipleSelectionSupport) {\n          this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        } else {\n          this.view.domNode.removeAttribute('aria-multiselectable');\n        }\n      }\n      this.mouseController.updateOptions(optionsUpdate);\n      (_b = this.keyboardController) === null || _b === void 0 ? void 0 : _b.updateOptions(optionsUpdate);\n      this.view.updateOptions(optionsUpdate);\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    }\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount) {\n      var _this9 = this;\n      var elements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      if (start < 0 || start > this.view.length) {\n        throw new ListError(this.user, \"Invalid start index: \".concat(start));\n      }\n      if (deleteCount < 0) {\n        throw new ListError(this.user, \"Invalid delete count: \".concat(deleteCount));\n      }\n      if (deleteCount === 0 && elements.length === 0) {\n        return;\n      }\n      this.eventBufferer.bufferEvents(function () {\n        return _this9.spliceable.splice(start, deleteCount, elements);\n      });\n    }\n  }, {\n    key: \"rerender\",\n    value: function rerender() {\n      this.view.rerender();\n    }\n  }, {\n    key: \"element\",\n    value: function element(index) {\n      return this.view.element(index);\n    }\n  }, {\n    key: \"indexOf\",\n    value: function indexOf(element) {\n      return this.view.indexOf(element);\n    }\n  }, {\n    key: \"indexAt\",\n    value: function indexAt(position) {\n      return this.view.indexAt(position);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.view.length;\n    }\n  }, {\n    key: \"contentHeight\",\n    get: function get() {\n      return this.view.contentHeight;\n    }\n  }, {\n    key: \"onDidChangeContentHeight\",\n    get: function get() {\n      return this.view.onDidChangeContentHeight;\n    }\n  }, {\n    key: \"scrollTop\",\n    get: function get() {\n      return this.view.getScrollTop();\n    },\n    set: function set(scrollTop) {\n      this.view.setScrollTop(scrollTop);\n    }\n  }, {\n    key: \"scrollHeight\",\n    get: function get() {\n      return this.view.scrollHeight;\n    }\n  }, {\n    key: \"renderHeight\",\n    get: function get() {\n      return this.view.renderHeight;\n    }\n  }, {\n    key: \"firstVisibleIndex\",\n    get: function get() {\n      return this.view.firstVisibleIndex;\n    }\n  }, {\n    key: \"ariaLabel\",\n    get: function get() {\n      return this._ariaLabel;\n    },\n    set: function set(value) {\n      this._ariaLabel = value;\n      this.view.domNode.setAttribute('aria-label', value);\n    }\n  }, {\n    key: \"domFocus\",\n    value: function domFocus() {\n      this.view.domNode.focus({\n        preventScroll: true\n      });\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(height, width) {\n      this.view.layout(height, width);\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(indexes, browserEvent) {\n      var _iterator6 = _createForOfIteratorHelper(indexes),\n        _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var index = _step6.value;\n          if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, \"Invalid index \".concat(index));\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n      this.selection.set(indexes, browserEvent);\n    }\n  }, {\n    key: \"getSelection\",\n    value: function getSelection() {\n      return this.selection.get();\n    }\n  }, {\n    key: \"getSelectedElements\",\n    value: function getSelectedElements() {\n      var _this10 = this;\n      return this.getSelection().map(function (i) {\n        return _this10.view.element(i);\n      });\n    }\n  }, {\n    key: \"setAnchor\",\n    value: function setAnchor(index) {\n      if (typeof index === 'undefined') {\n        this.anchor.set([]);\n        return;\n      }\n      if (index < 0 || index >= this.length) {\n        throw new ListError(this.user, \"Invalid index \".concat(index));\n      }\n      this.anchor.set([index]);\n    }\n  }, {\n    key: \"getAnchor\",\n    value: function getAnchor() {\n      return firstOrDefault(this.anchor.get(), undefined);\n    }\n  }, {\n    key: \"getAnchorElement\",\n    value: function getAnchorElement() {\n      var anchor = this.getAnchor();\n      return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n  }, {\n    key: \"setFocus\",\n    value: function setFocus(indexes, browserEvent) {\n      var _iterator7 = _createForOfIteratorHelper(indexes),\n        _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var index = _step7.value;\n          if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, \"Invalid index \".concat(index));\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n      this.focus.set(indexes, browserEvent);\n    }\n  }, {\n    key: \"focusNext\",\n    value: function focusNext() {\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var browserEvent = arguments.length > 2 ? arguments[2] : undefined;\n      var filter = arguments.length > 3 ? arguments[3] : undefined;\n      if (this.length === 0) {\n        return;\n      }\n      var focus = this.focus.get();\n      var index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n      if (index > -1) {\n        this.setFocus([index], browserEvent);\n      }\n    }\n  }, {\n    key: \"focusPrevious\",\n    value: function focusPrevious() {\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var browserEvent = arguments.length > 2 ? arguments[2] : undefined;\n      var filter = arguments.length > 3 ? arguments[3] : undefined;\n      if (this.length === 0) {\n        return;\n      }\n      var focus = this.focus.get();\n      var index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n      if (index > -1) {\n        this.setFocus([index], browserEvent);\n      }\n    }\n  }, {\n    key: \"focusNextPage\",\n    value: function () {\n      var _focusNextPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(browserEvent, filter) {\n        var lastPageIndex, currentlyFocusedElementIndex, lastGoodPageIndex, previousScrollTop, nextpageScrollTop;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n              lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n              currentlyFocusedElementIndex = this.getFocus()[0];\n              if (!(currentlyFocusedElementIndex !== lastPageIndex && (currentlyFocusedElementIndex === undefined || lastPageIndex > currentlyFocusedElementIndex))) {\n                _context.next = 8;\n                break;\n              }\n              lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n              if (lastGoodPageIndex > -1 && currentlyFocusedElementIndex !== lastGoodPageIndex) {\n                this.setFocus([lastGoodPageIndex], browserEvent);\n              } else {\n                this.setFocus([lastPageIndex], browserEvent);\n              }\n              _context.next = 18;\n              break;\n            case 8:\n              previousScrollTop = this.view.getScrollTop();\n              nextpageScrollTop = previousScrollTop + this.view.renderHeight;\n              if (lastPageIndex > currentlyFocusedElementIndex) {\n                // scroll last page element to the top only if the last page element is below the focused element\n                nextpageScrollTop -= this.view.elementHeight(lastPageIndex);\n              }\n              this.view.setScrollTop(nextpageScrollTop);\n              if (!(this.view.getScrollTop() !== previousScrollTop)) {\n                _context.next = 18;\n                break;\n              }\n              this.setFocus([]);\n              // Let the scroll event listener run\n              _context.next = 16;\n              return timeout(0);\n            case 16:\n              _context.next = 18;\n              return this.focusNextPage(browserEvent, filter);\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function focusNextPage(_x, _x2) {\n        return _focusNextPage.apply(this, arguments);\n      }\n      return focusNextPage;\n    }()\n  }, {\n    key: \"focusPreviousPage\",\n    value: function () {\n      var _focusPreviousPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(browserEvent, filter) {\n        var getPaddingTop,\n          firstPageIndex,\n          paddingTop,\n          scrollTop,\n          currentlyFocusedElementIndex,\n          firstGoodPageIndex,\n          previousScrollTop,\n          _args2 = arguments;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              getPaddingTop = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : function () {\n                return 0;\n              };\n              paddingTop = getPaddingTop();\n              scrollTop = this.view.getScrollTop() + paddingTop;\n              if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n              } else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n              }\n              currentlyFocusedElementIndex = this.getFocus()[0];\n              if (!(currentlyFocusedElementIndex !== firstPageIndex && (currentlyFocusedElementIndex === undefined || currentlyFocusedElementIndex >= firstPageIndex))) {\n                _context2.next = 10;\n                break;\n              }\n              firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n              if (firstGoodPageIndex > -1 && currentlyFocusedElementIndex !== firstGoodPageIndex) {\n                this.setFocus([firstGoodPageIndex], browserEvent);\n              } else {\n                this.setFocus([firstPageIndex], browserEvent);\n              }\n              _context2.next = 18;\n              break;\n            case 10:\n              previousScrollTop = scrollTop;\n              this.view.setScrollTop(scrollTop - this.view.renderHeight - paddingTop);\n              if (!(this.view.getScrollTop() + getPaddingTop() !== previousScrollTop)) {\n                _context2.next = 18;\n                break;\n              }\n              this.setFocus([]);\n              // Let the scroll event listener run\n              _context2.next = 16;\n              return timeout(0);\n            case 16:\n              _context2.next = 18;\n              return this.focusPreviousPage(browserEvent, filter, getPaddingTop);\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function focusPreviousPage(_x3, _x4) {\n        return _focusPreviousPage.apply(this, arguments);\n      }\n      return focusPreviousPage;\n    }()\n  }, {\n    key: \"focusLast\",\n    value: function focusLast(browserEvent, filter) {\n      if (this.length === 0) {\n        return;\n      }\n      var index = this.findPreviousIndex(this.length - 1, false, filter);\n      if (index > -1) {\n        this.setFocus([index], browserEvent);\n      }\n    }\n  }, {\n    key: \"focusFirst\",\n    value: function focusFirst(browserEvent, filter) {\n      this.focusNth(0, browserEvent, filter);\n    }\n  }, {\n    key: \"focusNth\",\n    value: function focusNth(n, browserEvent, filter) {\n      if (this.length === 0) {\n        return;\n      }\n      var index = this.findNextIndex(n, false, filter);\n      if (index > -1) {\n        this.setFocus([index], browserEvent);\n      }\n    }\n  }, {\n    key: \"findNextIndex\",\n    value: function findNextIndex(index) {\n      var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var filter = arguments.length > 2 ? arguments[2] : undefined;\n      for (var i = 0; i < this.length; i++) {\n        if (index >= this.length && !loop) {\n          return -1;\n        }\n        index = index % this.length;\n        if (!filter || filter(this.element(index))) {\n          return index;\n        }\n        index++;\n      }\n      return -1;\n    }\n  }, {\n    key: \"findPreviousIndex\",\n    value: function findPreviousIndex(index) {\n      var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var filter = arguments.length > 2 ? arguments[2] : undefined;\n      for (var i = 0; i < this.length; i++) {\n        if (index < 0 && !loop) {\n          return -1;\n        }\n        index = (this.length + index % this.length) % this.length;\n        if (!filter || filter(this.element(index))) {\n          return index;\n        }\n        index--;\n      }\n      return -1;\n    }\n  }, {\n    key: \"getFocus\",\n    value: function getFocus() {\n      return this.focus.get();\n    }\n  }, {\n    key: \"getFocusedElements\",\n    value: function getFocusedElements() {\n      var _this11 = this;\n      return this.getFocus().map(function (i) {\n        return _this11.view.element(i);\n      });\n    }\n  }, {\n    key: \"reveal\",\n    value: function reveal(index, relativeTop) {\n      var paddingTop = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (index < 0 || index >= this.length) {\n        throw new ListError(this.user, \"Invalid index \".concat(index));\n      }\n      var scrollTop = this.view.getScrollTop();\n      var elementTop = this.view.elementTop(index);\n      var elementHeight = this.view.elementHeight(index);\n      if (isNumber(relativeTop)) {\n        // y = mx + b\n        var m = elementHeight - this.view.renderHeight + paddingTop;\n        this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop - paddingTop);\n      } else {\n        var viewItemBottom = elementTop + elementHeight;\n        var scrollBottom = scrollTop + this.view.renderHeight;\n        if (elementTop < scrollTop + paddingTop && viewItemBottom >= scrollBottom) {\n          // The element is already overflowing the viewport, no-op\n        } else if (elementTop < scrollTop + paddingTop || viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight) {\n          this.view.setScrollTop(elementTop - paddingTop);\n        } else if (viewItemBottom >= scrollBottom) {\n          this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n        }\n      }\n    }\n    /**\n     * Returns the relative position of an element rendered in the list.\n     * Returns `null` if the element isn't *entirely* in the visible viewport.\n     */\n  }, {\n    key: \"getRelativeTop\",\n    value: function getRelativeTop(index) {\n      var paddingTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (index < 0 || index >= this.length) {\n        throw new ListError(this.user, \"Invalid index \".concat(index));\n      }\n      var scrollTop = this.view.getScrollTop();\n      var elementTop = this.view.elementTop(index);\n      var elementHeight = this.view.elementHeight(index);\n      if (elementTop < scrollTop + paddingTop || elementTop + elementHeight > scrollTop + this.view.renderHeight) {\n        return null;\n      }\n      // y = mx + b\n      var m = elementHeight - this.view.renderHeight + paddingTop;\n      return Math.abs((scrollTop + paddingTop - elementTop) / m);\n    }\n  }, {\n    key: \"getHTMLElement\",\n    value: function getHTMLElement() {\n      return this.view.domNode;\n    }\n  }, {\n    key: \"getScrollableElement\",\n    value: function getScrollableElement() {\n      return this.view.scrollableElementDomNode;\n    }\n  }, {\n    key: \"getElementID\",\n    value: function getElementID(index) {\n      return this.view.getElementDomId(index);\n    }\n  }, {\n    key: \"getElementTop\",\n    value: function getElementTop(index) {\n      return this.view.elementTop(index);\n    }\n  }, {\n    key: \"style\",\n    value: function style(styles) {\n      this.styleController.style(styles);\n    }\n  }, {\n    key: \"toListEvent\",\n    value: function toListEvent(_ref3) {\n      var _this12 = this;\n      var indexes = _ref3.indexes,\n        browserEvent = _ref3.browserEvent;\n      return {\n        indexes: indexes,\n        elements: indexes.map(function (i) {\n          return _this12.view.element(i);\n        }),\n        browserEvent: browserEvent\n      };\n    }\n  }, {\n    key: \"_onFocusChange\",\n    value: function _onFocusChange() {\n      var focus = this.focus.get();\n      this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n      this.onDidChangeActiveDescendant();\n    }\n  }, {\n    key: \"onDidChangeActiveDescendant\",\n    value: function onDidChangeActiveDescendant() {\n      var _a;\n      var focus = this.focus.get();\n      if (focus.length > 0) {\n        var id;\n        if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n          id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n        }\n        this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n      } else {\n        this.view.domNode.removeAttribute('aria-activedescendant');\n      }\n    }\n  }, {\n    key: \"_onSelectionChange\",\n    value: function _onSelectionChange() {\n      var selection = this.selection.get();\n      this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n      this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n      this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._onDidDispose.fire();\n      this.disposables.dispose();\n      this._onDidDispose.dispose();\n    }\n  }]);\n}();\n__decorate([memoize], List.prototype, \"onDidChangeFocus\", null);\n__decorate([memoize], List.prototype, \"onDidChangeSelection\", null);\n__decorate([memoize], List.prototype, \"onContextMenu\", null);\n__decorate([memoize], List.prototype, \"onKeyDown\", null);\n__decorate([memoize], List.prototype, \"onDidFocus\", null);\n__decorate([memoize], List.prototype, \"onDidBlur\", null);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","asCssValueWithDefault","createStyleSheet","EventHelper","getActiveElement","getWindow","isMouseEvent","DomEmitter","StandardKeyboardEvent","Gesture","alert","CombinedSpliceable","binarySearch","firstOrDefault","range","timeout","Color","memoize","Emitter","Event","EventBufferer","matchesFuzzy2","matchesPrefix","DisposableStore","dispose","clamp","platform","isNumber","ListError","ListView","StandardMouseEvent","autorun","constObservable","TraitRenderer","trait","_classCallCheck","renderedElements","_createClass","get","concat","name","value","renderTemplate","container","renderElement","element","index","templateData","renderedElementIndex","findIndex","el","rendered","unrender","push","renderIndex","splice","start","deleteCount","insertCount","_iterator","_createForOfIteratorHelper","_step","s","n","done","renderedElement","err","e","f","renderIndexes","indexes","_iterator2","_step2","_step2$value","indexOf","disposeTemplate","Trait","_trait","sortedIndexes","_onChange","onChange","event","elements","diff","end","j","renderer","_set","classList","toggle","contains","remove","set","browserEvent","_toConsumableArray","sort","numericSort","result","sortedResult","toRender","disjunction","fire","prototype","SelectionTrait","_Trait","setAriaSelected","_this","_callSuper","_inherits","_get","_getPrototypeOf","call","setAttribute","TraitSpliceable","view","identityProvider","_this2","Array","fill","pastElementsWithTrait","map","getId","toString","pastElementsWithTraitSet","Set","elementsWithTrait","has","isInputElement","tagName","isListElementDescendantOfClass","className","parentElement","isMonacoEditor","isMonacoCustomToggle","isActionItem","isStickyScrollElement","isStickyScrollContainer","isButton","KeyboardController","list","options","_this3","disposables","multipleSelectionDisposables","multipleSelectionSupport","add","onKeyDown","keyCode","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","isMacintosh","metaKey","ctrlKey","onCtrlA","chain","domNode","$","filter","updateOptions","optionsUpdate","undefined","preventDefault","stopPropagation","setSelection","getFocus","focusPrevious","setAnchor","reveal","focus","focusNext","focusPreviousPage","focusNextPage","getSelection","TypeNavigationMode","TypeNavigationControllerState","DefaultKeyboardNavigationDelegate","_class","mightProducePrintableCharacter","altKey","TypeNavigationController","keyboardNavigationLabelProvider","keyboardNavigationEventFilter","delegate","enabled","state","Idle","mode","Automatic","triggered","previouslyFocused","enabledDisposables","_a","_b","typeNavigationEnabled","enable","disable","typeNavigationMode","_this4","typing","onChar","forEach","stop","onClear","debounce","onInput","reduce","any","clear","ariaLabel","accessibilityProvider","getAriaLabel","word","delta","Typing","label","getKeyboardNavigationLabel","labelStr","setFocus","fuzzy","fuzzyScore","DOMFocusController","onTab","shiftKey","focusedDomElement","domElement","tabIndexElement","querySelector","HTMLElement","tabIndex","style","getComputedStyle","visibility","display","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","isMouseRightClick","button","DefaultMultipleSelectionController","MouseController","_onPointer","onPointer","multipleSelectionController","mouseSupport","onMouseDown","onContextMenu","onMouseDblClick","onDoubleClick","onTouchStart","addTarget","getHTMLElement","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","isSelectionChangeEvent","domFocus","isHandledByList","changeSelection","anchor","getAnchor","currentFocus","min","Math","max","rangeSelection","selection","contiguousRange","getContiguousRangeContaining","newSelection","relativeComplement","DefaultStyleController","styleElement","selectorSuffix","styles","suffix","content","listBackground","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","focusAndSelectionOutline","listFocusAndSelectionOutline","listSelectionOutline","listFocusOutline","inactiveFocusAndSelectionOutline","listInactiveFocusOutline","listHoverOutline","listDropOverBackground","listDropBetweenBackground","tableColumnsBorder","tableOddRowsBackgroundColor","textContent","join","unthemedListStyles","treeIndentGuidesStroke","treeInactiveIndentGuidesStroke","fromHex","transparent","DefaultOptions","keyboardSupport","dnd","getDragURI","onDragStart","onDragOver","drop","reverse","one","other","a","b","PipelineRenderer","_templateId","renderers","height","_iterator3","_step3","disposeElement","_iterator4","_step4","_iterator5","_step5","AccessibiltyRenderer","templateId","data","_this5","observable","reader","setAriaLabel","readObservable","ariaLevel","getAriaLevel","removeAttribute","ListViewDragAndDrop","getDragElements","getSelectedElements","getDragLabel","originalEvent","targetElement","targetIndex","targetSector","onDragLeave","onDragEnd","List","user","virtualDelegate","_options","_c","_d","eventBufferer","_ariaLabel","_onDidDispose","onDidDispose","role","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","_objectSpread","createListView","styleController","domId","spliceable","keyboardController","keyboardNavigationDelegate","typeNavigationController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","onDidChangeSelection","_onSelectionChange","getWidgetAriaLabel","_this6","wrapEvent","toListEvent","_this7","onDidScroll","onMouseOver","onMouseOut","_this8","didJustPressContextMenuKey","fromKeyDown","fromKeyUp","_ref","fromMouse","_","_ref2","signal","_this9","bufferEvents","rerender","indexAt","position","contentHeight","onDidChangeContentHeight","getScrollTop","scrollTop","setScrollTop","scrollHeight","renderHeight","firstVisibleIndex","preventScroll","layout","width","_iterator6","_step6","_this10","getAnchorElement","_iterator7","_step7","loop","findNextIndex","findPreviousIndex","_focusNextPage","_asyncToGenerator","_regeneratorRuntime","mark","_callee","lastPageIndex","currentlyFocusedElementIndex","lastGoodPageIndex","previousScrollTop","nextpageScrollTop","wrap","_callee$","_context","prev","next","elementHeight","_x","_x2","apply","_focusPreviousPage","_callee2","getPaddingTop","firstPageIndex","paddingTop","firstGoodPageIndex","_args2","_callee2$","_context2","indexAfter","_x3","_x4","focusLast","focusFirst","focusNth","getFocusedElements","_this11","relativeTop","elementTop","m","viewItemBottom","scrollBottom","getRelativeTop","abs","getScrollableElement","scrollableElementDomNode","getElementID","getElementDomId","getElementTop","_ref3","_this12","id","getActiveDescendantId"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { asCssValueWithDefault, createStyleSheet, EventHelper, getActiveElement, getWindow, isMouseEvent } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesFuzzy2, matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { autorun, constObservable } from '../../../common/observable.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.name}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    get name() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    constructor(_trait) {\n        this._trait = _trait;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    splice(start, deleteCount, elements) {\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [];\n        let i = 0;\n        while (i < this.sortedIndexes.length && this.sortedIndexes[i] < start) {\n            sortedIndexes.push(this.sortedIndexes[i++]);\n        }\n        for (let j = 0; j < elements.length; j++) {\n            if (elements[j]) {\n                sortedIndexes.push(j + start);\n            }\n        }\n        while (i < this.sortedIndexes.length && this.sortedIndexes[i] >= end) {\n            sortedIndexes.push(this.sortedIndexes[i++] + diff);\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, new Array(elements.length).fill(false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        if (pastElementsWithTrait.length === 0) {\n            return this.trait.splice(start, deleteCount, new Array(elements.length).fill(false));\n        }\n        const pastElementsWithTraitSet = new Set(pastElementsWithTrait);\n        const elementsWithTrait = elements.map(e => pastElementsWithTraitSet.has(this.identityProvider.getId(e).toString()));\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nfunction isListElementDescendantOfClass(e, className) {\n    if (e.classList.contains(className)) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isListElementDescendantOfClass(e.parentElement, className);\n}\nexport function isMonacoEditor(e) {\n    return isListElementDescendantOfClass(e, 'monaco-editor');\n}\nexport function isMonacoCustomToggle(e) {\n    return isListElementDescendantOfClass(e, 'monaco-custom-toggle');\n}\nexport function isActionItem(e) {\n    return isListElementDescendantOfClass(e, 'action-item');\n}\nexport function isStickyScrollElement(e) {\n    return isListElementDescendantOfClass(e, 'monaco-tree-sticky-row');\n}\nexport function isStickyScrollContainer(e) {\n    return e.classList.contains('monaco-tree-sticky-container');\n}\nexport function isButton(e) {\n    if ((e.tagName === 'A' && e.classList.contains('monaco-button')) ||\n        (e.tagName === 'DIV' && e.classList.contains('monaco-button-dropdown'))) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isButton(e.parentElement);\n}\nclass KeyboardController {\n    get onKeyDown() {\n        return Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, $ => $.filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e)));\n    }\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.multipleSelectionSupport = options.multipleSelectionSupport;\n        this.disposables.add(this.onKeyDown(e => {\n            switch (e.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    return this.onEnter(e);\n                case 16 /* KeyCode.UpArrow */:\n                    return this.onUpArrow(e);\n                case 18 /* KeyCode.DownArrow */:\n                    return this.onDownArrow(e);\n                case 11 /* KeyCode.PageUp */:\n                    return this.onPageUpArrow(e);\n                case 12 /* KeyCode.PageDown */:\n                    return this.onPageDownArrow(e);\n                case 9 /* KeyCode.Escape */:\n                    return this.onEscape(e);\n                case 31 /* KeyCode.KeyA */:\n                    if (this.multipleSelectionSupport && (platform.isMacintosh ? e.metaKey : e.ctrlKey)) {\n                        this.onCtrlA(e);\n                    }\n            }\n        }));\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionSupport = optionsUpdate.multipleSelectionSupport;\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nexport var TypeNavigationMode;\n(function (TypeNavigationMode) {\n    TypeNavigationMode[TypeNavigationMode[\"Automatic\"] = 0] = \"Automatic\";\n    TypeNavigationMode[TypeNavigationMode[\"Trigger\"] = 1] = \"Trigger\";\n})(TypeNavigationMode || (TypeNavigationMode = {}));\nvar TypeNavigationControllerState;\n(function (TypeNavigationControllerState) {\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeNavigationControllerState || (TypeNavigationControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)\n            || (event.keyCode >= 98 /* KeyCode.Numpad0 */ && event.keyCode <= 107 /* KeyCode.Numpad9 */)\n            || (event.keyCode >= 85 /* KeyCode.Semicolon */ && event.keyCode <= 95 /* KeyCode.Quote */);\n    }\n};\nclass TypeNavigationController {\n    constructor(list, view, keyboardNavigationLabelProvider, keyboardNavigationEventFilter, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.keyboardNavigationEventFilter = keyboardNavigationEventFilter;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeNavigationControllerState.Idle;\n        this.mode = TypeNavigationMode.Automatic;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ((_a = options.typeNavigationEnabled) !== null && _a !== void 0 ? _a : true) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        this.mode = (_b = options.typeNavigationMode) !== null && _b !== void 0 ? _b : TypeNavigationMode.Automatic;\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        let typing = false;\n        const onChar = Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, $ => $.filter(e => !isInputElement(e.target))\n            .filter(() => this.mode === TypeNavigationMode.Automatic || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => typing || this.keyboardNavigationEventFilter(e))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => EventHelper.stop(e, true))\n            .map(event => event.browserEvent.key));\n        const onClear = Event.debounce(onChar, () => null, 800, undefined, undefined, undefined, this.enabledDisposables);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i), undefined, this.enabledDisposables);\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        onChar(() => typing = true, undefined, this.enabledDisposables);\n        onClear(() => typing = false, undefined, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (typeof ariaLabel === 'string') {\n                alert(ariaLabel);\n            }\n            else if (ariaLabel) {\n                alert(ariaLabel.get());\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeNavigationControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeNavigationControllerState.Idle ? 1 : 0;\n        this.state = TypeNavigationControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (this.list.options.typeNavigationEnabled) {\n                if (typeof labelStr !== 'undefined') {\n                    // If prefix is found, focus and return early\n                    if (matchesPrefix(word, labelStr)) {\n                        this.previouslyFocused = start;\n                        this.list.setFocus([index]);\n                        this.list.reveal(index);\n                        return;\n                    }\n                    const fuzzy = matchesFuzzy2(word, labelStr);\n                    if (fuzzy) {\n                        const fuzzyScore = fuzzy[0].end - fuzzy[0].start;\n                        // ensures that when fuzzy matching, doesn't clash with prefix matching (1 input vs 1+ should be prefix and fuzzy respecitvely). Also makes sure that exact matches are prioritized.\n                        if (fuzzyScore > 1 && fuzzy.length === 1) {\n                            this.previouslyFocused = start;\n                            this.list.setFocus([index]);\n                            this.list.reveal(index);\n                            return;\n                        }\n                    }\n                }\n            }\n            else if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event, $ => $\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e)));\n        const onTab = Event.chain(onKeyDown, $ => $.filter(e => e.keyCode === 2 /* KeyCode.Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey));\n        onTab(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = getWindow(tabIndexElement).getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return isMouseEvent(event) && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (getActiveElement() !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (e.browserEvent.isHandledByList) {\n            return;\n        }\n        e.browserEvent.isHandledByList = true;\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        if (e.browserEvent.isHandledByList) {\n            return;\n        }\n        e.browserEvent.isHandledByList = true;\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        var _a, _b;\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        /**\n         * Outlines\n         */\n        const focusAndSelectionOutline = asCssValueWithDefault(styles.listFocusAndSelectionOutline, asCssValueWithDefault(styles.listSelectionOutline, (_a = styles.listFocusOutline) !== null && _a !== void 0 ? _a : ''));\n        if (focusAndSelectionOutline) { // default: listFocusOutline\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused.selected { outline: 1px solid ${focusAndSelectionOutline}; outline-offset: -1px;}`);\n        }\n        if (styles.listFocusOutline) { // default: set\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        const inactiveFocusAndSelectionOutline = asCssValueWithDefault(styles.listSelectionOutline, (_b = styles.listInactiveFocusOutline) !== null && _b !== void 0 ? _b : '');\n        if (inactiveFocusAndSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused.selected { outline: 1px dotted ${inactiveFocusAndSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listSelectionOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listInactiveFocusOutline) { // default: null\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropOverBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropOverBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.listDropBetweenBackground) {\n            content.push(`\n\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,\n\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target-before::before {\n\t\t\t\tcontent: \"\"; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${styles.listDropBetweenBackground};\n\t\t\t}`);\n            content.push(`\n\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,\n\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target-after::after {\n\t\t\t\tcontent: \"\"; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;\n\t\t\t\tbackground-color: ${styles.listDropBetweenBackground};\n\t\t\t}`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nexport const unthemedListStyles = {\n    listFocusBackground: '#7FB0D0',\n    listActiveSelectionBackground: '#0E639C',\n    listActiveSelectionForeground: '#FFFFFF',\n    listActiveSelectionIconForeground: '#FFFFFF',\n    listFocusAndSelectionOutline: '#90C2F9',\n    listFocusAndSelectionBackground: '#094771',\n    listFocusAndSelectionForeground: '#FFFFFF',\n    listInactiveSelectionBackground: '#3F3F46',\n    listInactiveSelectionIconForeground: '#FFFFFF',\n    listHoverBackground: '#2A2D2E',\n    listDropOverBackground: '#383B3D',\n    listDropBetweenBackground: '#EEEEEE',\n    treeIndentGuidesStroke: '#a9a9a9',\n    treeInactiveIndentGuidesStroke: Color.fromHex('#a9a9a9').transparent(0.4).toString(),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2).toString(),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04).toString(),\n    listBackground: undefined,\n    listFocusForeground: undefined,\n    listInactiveSelectionForeground: undefined,\n    listInactiveFocusForeground: undefined,\n    listInactiveFocusBackground: undefined,\n    listHoverForeground: undefined,\n    listFocusOutline: undefined,\n    listInactiveFocusOutline: undefined,\n    listSelectionOutline: undefined,\n    listHoverOutline: undefined\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { },\n        dispose() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        var _a;\n        let i = 0;\n        for (const renderer of this.renderers) {\n            (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, element, index, templateData[i], height);\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return { container, disposables: new DisposableStore() };\n    }\n    renderElement(element, index, data) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        const observable = (ariaLabel && typeof ariaLabel !== 'string') ? ariaLabel : constObservable(ariaLabel);\n        data.disposables.add(autorun(reader => {\n            this.setAriaLabel(reader.readObservable(observable), data.container);\n        }));\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            data.container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            data.container.removeAttribute('aria-level');\n        }\n    }\n    setAriaLabel(ariaLabel, element) {\n        if (ariaLabel) {\n            element.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            element.removeAttribute('aria-label');\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        templateData.disposables.clear();\n    }\n    disposeTemplate(templateData) {\n        templateData.disposables.dispose();\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, data, originalEvent);\n    }\n    onDragOver(data, targetElement, targetIndex, targetSector, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, targetSector, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n    drop(data, targetElement, targetIndex, targetSector, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, targetSector, originalEvent);\n    }\n    dispose() {\n        this.dnd.dispose();\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get domId() { return this.view.domId; }\n    get onDidScroll() { return this.view.onDidScroll; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onMouseOver() { return this.view.onMouseOver; }\n    get onMouseOut() { return this.view.onMouseOut; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event, $ => $.map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .filter(() => false));\n        const fromKeyUp = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event, $ => $.forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        }));\n        const fromMouse = Event.chain(this.view.onContextMenu, $ => $.filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: new StandardMouseEvent(getWindow(this.view.domNode), browserEvent), browserEvent })));\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    get onDidBlur() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'blur', true)).event); }\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a, _b, _c, _d;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            (_c = (_b = this.accessibilityProvider).onDidChangeActiveDescendant) === null || _c === void 0 ? void 0 : _c.call(_b, this.onDidChangeActiveDescendant, this, this.disposables);\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = {\n            ..._options,\n            dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd)\n        };\n        this.view = this.createListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeNavigationController = new TypeNavigationController(this, this.view, _options.keyboardNavigationLabelProvider, (_d = _options.keyboardNavigationEventFilter) !== null && _d !== void 0 ? _d : (() => true), delegate);\n            this.disposables.add(this.typeNavigationController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    createListView(container, virtualDelegate, renderers, viewOptions) {\n        return new ListView(container, virtualDelegate, renderers, viewOptions);\n    }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a, _b;\n        this._options = { ...this._options, ...optionsUpdate };\n        (_a = this.typeNavigationController) === null || _a === void 0 ? void 0 : _a.updateOptions(this._options);\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_b = this.keyboardController) === null || _b === void 0 ? void 0 : _b.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    indexOf(element) {\n        return this.view.indexOf(element);\n    }\n    indexAt(position) {\n        return this.view.indexAt(position);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get onDidChangeContentHeight() {\n        return this.view.onDidChangeContentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this.view.scrollHeight;\n    }\n    get renderHeight() {\n        return this.view.renderHeight;\n    }\n    get firstVisibleIndex() {\n        return this.view.firstVisibleIndex;\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    async focusNextPage(browserEvent, filter) {\n        let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n        lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n        const currentlyFocusedElementIndex = this.getFocus()[0];\n        if (currentlyFocusedElementIndex !== lastPageIndex && (currentlyFocusedElementIndex === undefined || lastPageIndex > currentlyFocusedElementIndex)) {\n            const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n            if (lastGoodPageIndex > -1 && currentlyFocusedElementIndex !== lastGoodPageIndex) {\n                this.setFocus([lastGoodPageIndex], browserEvent);\n            }\n            else {\n                this.setFocus([lastPageIndex], browserEvent);\n            }\n        }\n        else {\n            const previousScrollTop = this.view.getScrollTop();\n            let nextpageScrollTop = previousScrollTop + this.view.renderHeight;\n            if (lastPageIndex > currentlyFocusedElementIndex) {\n                // scroll last page element to the top only if the last page element is below the focused element\n                nextpageScrollTop -= this.view.elementHeight(lastPageIndex);\n            }\n            this.view.setScrollTop(nextpageScrollTop);\n            if (this.view.getScrollTop() !== previousScrollTop) {\n                this.setFocus([]);\n                // Let the scroll event listener run\n                await timeout(0);\n                await this.focusNextPage(browserEvent, filter);\n            }\n        }\n    }\n    async focusPreviousPage(browserEvent, filter, getPaddingTop = () => 0) {\n        let firstPageIndex;\n        const paddingTop = getPaddingTop();\n        const scrollTop = this.view.getScrollTop() + paddingTop;\n        if (scrollTop === 0) {\n            firstPageIndex = this.view.indexAt(scrollTop);\n        }\n        else {\n            firstPageIndex = this.view.indexAfter(scrollTop - 1);\n        }\n        const currentlyFocusedElementIndex = this.getFocus()[0];\n        if (currentlyFocusedElementIndex !== firstPageIndex && (currentlyFocusedElementIndex === undefined || currentlyFocusedElementIndex >= firstPageIndex)) {\n            const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n            if (firstGoodPageIndex > -1 && currentlyFocusedElementIndex !== firstGoodPageIndex) {\n                this.setFocus([firstGoodPageIndex], browserEvent);\n            }\n            else {\n                this.setFocus([firstPageIndex], browserEvent);\n            }\n        }\n        else {\n            const previousScrollTop = scrollTop;\n            this.view.setScrollTop(scrollTop - this.view.renderHeight - paddingTop);\n            if (this.view.getScrollTop() + getPaddingTop() !== previousScrollTop) {\n                this.setFocus([]);\n                // Let the scroll event listener run\n                await timeout(0);\n                await this.focusPreviousPage(browserEvent, filter, getPaddingTop);\n            }\n        }\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop, paddingTop = 0) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight + paddingTop;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop - paddingTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop + paddingTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop + paddingTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop - paddingTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    /**\n     * Returns the relative position of an element rendered in the list.\n     * Returns `null` if the element isn't *entirely* in the visible viewport.\n     */\n    getRelativeTop(index, paddingTop = 0) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (elementTop < scrollTop + paddingTop || elementTop + elementHeight > scrollTop + this.view.renderHeight) {\n            return null;\n        }\n        // y = mx + b\n        const m = elementHeight - this.view.renderHeight + paddingTop;\n        return Math.abs((scrollTop + paddingTop - elementTop) / m);\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    getScrollableElement() {\n        return this.view.scrollableElementDomNode;\n    }\n    getElementID(index) {\n        return this.view.getElementDomId(index);\n    }\n    getElementTop(index) {\n        return this.view.elementTop(index);\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidBlur\", null);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}