{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/z95_exam_frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.flags.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { IntervalTimer, timeout } from '../../../base/common/async.js';\nimport { Disposable, dispose as _dispose, toDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { SimpleWorkerClient, logOnceWebWorkerWarning } from '../../../base/common/worker/simpleWorker.js';\nimport { DefaultWorkerFactory } from '../../../base/browser/defaultWorkerFactory.js';\nimport { Range } from '../../common/core/range.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { EditorSimpleWorker } from '../../common/services/editorSimpleWorker.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ITextResourceConfigurationService } from '../../common/services/textResourceConfiguration.js';\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nimport { MovedText } from '../../common/diff/linesDiffComputer.js';\nimport { DetailedLineRangeMapping, RangeMapping, LineRangeMapping } from '../../common/diff/rangeMapping.js';\nimport { LineRange } from '../../common/core/lineRange.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { WindowIntervalTimer } from '../../../base/browser/dom.js';\n/**\n * Stop syncing a model to the worker if it was not needed for 1 min.\n */\nvar STOP_SYNC_MODEL_DELTA_TIME_MS = 60 * 1000;\n/**\n * Stop the worker if it was not needed for 5 min.\n */\nvar STOP_WORKER_DELTA_TIME_MS = 5 * 60 * 1000;\nfunction canSyncModel(modelService, resource) {\n  var model = modelService.getModel(resource);\n  if (!model) {\n    return false;\n  }\n  if (model.isTooLargeForSyncing()) {\n    return false;\n  }\n  return true;\n}\nvar EditorWorkerService = /*#__PURE__*/function (_Disposable) {\n  function EditorWorkerService(modelService, configurationService, logService, languageConfigurationService, languageFeaturesService) {\n    var _this;\n    _classCallCheck(this, EditorWorkerService);\n    _this = _callSuper(this, EditorWorkerService);\n    _this._modelService = modelService;\n    _this._workerManager = _this._register(new WorkerManager(_this._modelService, languageConfigurationService));\n    _this._logService = logService;\n    // register default link-provider and default completions-provider\n    _this._register(languageFeaturesService.linkProvider.register({\n      language: '*',\n      hasAccessToAllModels: true\n    }, {\n      provideLinks: function provideLinks(model, token) {\n        if (!canSyncModel(_this._modelService, model.uri)) {\n          return Promise.resolve({\n            links: []\n          }); // File too large\n        }\n        return _this._workerManager.withWorker().then(function (client) {\n          return client.computeLinks(model.uri);\n        }).then(function (links) {\n          return links && {\n            links: links\n          };\n        });\n      }\n    }));\n    _this._register(languageFeaturesService.completionProvider.register('*', new WordBasedCompletionItemProvider(_this._workerManager, configurationService, _this._modelService, languageConfigurationService)));\n    return _this;\n  }\n  _inherits(EditorWorkerService, _Disposable);\n  return _createClass(EditorWorkerService, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(EditorWorkerService.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"canComputeUnicodeHighlights\",\n    value: function canComputeUnicodeHighlights(uri) {\n      return canSyncModel(this._modelService, uri);\n    }\n  }, {\n    key: \"computedUnicodeHighlights\",\n    value: function computedUnicodeHighlights(uri, options, range) {\n      return this._workerManager.withWorker().then(function (client) {\n        return client.computedUnicodeHighlights(uri, options, range);\n      });\n    }\n  }, {\n    key: \"computeDiff\",\n    value: function () {\n      var _computeDiff = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(original, modified, options, algorithm) {\n        var result, diff, toLineRangeMappings;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              toLineRangeMappings = function _toLineRangeMappings(changes) {\n                return changes.map(function (c) {\n                  var _a;\n                  return new DetailedLineRangeMapping(new LineRange(c[0], c[1]), new LineRange(c[2], c[3]), (_a = c[4]) === null || _a === void 0 ? void 0 : _a.map(function (c) {\n                    return new RangeMapping(new Range(c[0], c[1], c[2], c[3]), new Range(c[4], c[5], c[6], c[7]));\n                  }));\n                });\n              };\n              _context.next = 3;\n              return this._workerManager.withWorker().then(function (client) {\n                return client.computeDiff(original, modified, options, algorithm);\n              });\n            case 3:\n              result = _context.sent;\n              if (result) {\n                _context.next = 6;\n                break;\n              }\n              return _context.abrupt(\"return\", null);\n            case 6:\n              // Convert from space efficient JSON data to rich objects.\n              diff = {\n                identical: result.identical,\n                quitEarly: result.quitEarly,\n                changes: toLineRangeMappings(result.changes),\n                moves: result.moves.map(function (m) {\n                  return new MovedText(new LineRangeMapping(new LineRange(m[0], m[1]), new LineRange(m[2], m[3])), toLineRangeMappings(m[4]));\n                })\n              };\n              return _context.abrupt(\"return\", diff);\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function computeDiff(_x, _x2, _x3, _x4) {\n        return _computeDiff.apply(this, arguments);\n      }\n      return computeDiff;\n    }()\n  }, {\n    key: \"computeMoreMinimalEdits\",\n    value: function computeMoreMinimalEdits(resource, edits) {\n      var _this2 = this;\n      var pretty = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      if (isNonEmptyArray(edits)) {\n        if (!canSyncModel(this._modelService, resource)) {\n          return Promise.resolve(edits); // File too large\n        }\n        var sw = StopWatch.create();\n        var result = this._workerManager.withWorker().then(function (client) {\n          return client.computeMoreMinimalEdits(resource, edits, pretty);\n        });\n        result[\"finally\"](function () {\n          return _this2._logService.trace('FORMAT#computeMoreMinimalEdits', resource.toString(true), sw.elapsed());\n        });\n        return Promise.race([result, timeout(1000).then(function () {\n          return edits;\n        })]);\n      } else {\n        return Promise.resolve(undefined);\n      }\n    }\n  }, {\n    key: \"canNavigateValueSet\",\n    value: function canNavigateValueSet(resource) {\n      return canSyncModel(this._modelService, resource);\n    }\n  }, {\n    key: \"navigateValueSet\",\n    value: function navigateValueSet(resource, range, up) {\n      return this._workerManager.withWorker().then(function (client) {\n        return client.navigateValueSet(resource, range, up);\n      });\n    }\n  }, {\n    key: \"canComputeWordRanges\",\n    value: function canComputeWordRanges(resource) {\n      return canSyncModel(this._modelService, resource);\n    }\n  }, {\n    key: \"computeWordRanges\",\n    value: function computeWordRanges(resource, range) {\n      return this._workerManager.withWorker().then(function (client) {\n        return client.computeWordRanges(resource, range);\n      });\n    }\n  }, {\n    key: \"findSectionHeaders\",\n    value: function findSectionHeaders(uri, options) {\n      return this._workerManager.withWorker().then(function (client) {\n        return client.findSectionHeaders(uri, options);\n      });\n    }\n  }]);\n}(Disposable);\nEditorWorkerService = __decorate([__param(0, IModelService), __param(1, ITextResourceConfigurationService), __param(2, ILogService), __param(3, ILanguageConfigurationService), __param(4, ILanguageFeaturesService)], EditorWorkerService);\nexport { EditorWorkerService };\nvar WordBasedCompletionItemProvider = /*#__PURE__*/function () {\n  function WordBasedCompletionItemProvider(workerManager, configurationService, modelService, languageConfigurationService) {\n    _classCallCheck(this, WordBasedCompletionItemProvider);\n    this.languageConfigurationService = languageConfigurationService;\n    this._debugDisplayName = 'wordbasedCompletions';\n    this._workerManager = workerManager;\n    this._configurationService = configurationService;\n    this._modelService = modelService;\n  }\n  return _createClass(WordBasedCompletionItemProvider, [{\n    key: \"provideCompletionItems\",\n    value: function () {\n      var _provideCompletionItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(model, position) {\n        var config, models, _iterator, _step, candidate, wordDefRegExp, word, replace, insert, client, data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              config = this._configurationService.getValue(model.uri, position, 'editor');\n              if (!(config.wordBasedSuggestions === 'off')) {\n                _context2.next = 3;\n                break;\n              }\n              return _context2.abrupt(\"return\", undefined);\n            case 3:\n              models = [];\n              if (!(config.wordBasedSuggestions === 'currentDocument')) {\n                _context2.next = 8;\n                break;\n              }\n              // only current file and only if not too large\n              if (canSyncModel(this._modelService, model.uri)) {\n                models.push(model.uri);\n              }\n              _context2.next = 26;\n              break;\n            case 8:\n              // either all files or files of same language\n              _iterator = _createForOfIteratorHelper(this._modelService.getModels());\n              _context2.prev = 9;\n              _iterator.s();\n            case 11:\n              if ((_step = _iterator.n()).done) {\n                _context2.next = 18;\n                break;\n              }\n              candidate = _step.value;\n              if (canSyncModel(this._modelService, candidate.uri)) {\n                _context2.next = 15;\n                break;\n              }\n              return _context2.abrupt(\"continue\", 16);\n            case 15:\n              if (candidate === model) {\n                models.unshift(candidate.uri);\n              } else if (config.wordBasedSuggestions === 'allDocuments' || candidate.getLanguageId() === model.getLanguageId()) {\n                models.push(candidate.uri);\n              }\n            case 16:\n              _context2.next = 11;\n              break;\n            case 18:\n              _context2.next = 23;\n              break;\n            case 20:\n              _context2.prev = 20;\n              _context2.t0 = _context2[\"catch\"](9);\n              _iterator.e(_context2.t0);\n            case 23:\n              _context2.prev = 23;\n              _iterator.f();\n              return _context2.finish(23);\n            case 26:\n              if (!(models.length === 0)) {\n                _context2.next = 28;\n                break;\n              }\n              return _context2.abrupt(\"return\", undefined);\n            case 28:\n              wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n              word = model.getWordAtPosition(position);\n              replace = !word ? Range.fromPositions(position) : new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n              insert = replace.setEndPosition(position.lineNumber, position.column);\n              _context2.next = 34;\n              return this._workerManager.withWorker();\n            case 34:\n              client = _context2.sent;\n              _context2.next = 37;\n              return client.textualSuggest(models, word === null || word === void 0 ? void 0 : word.word, wordDefRegExp);\n            case 37:\n              data = _context2.sent;\n              if (data) {\n                _context2.next = 40;\n                break;\n              }\n              return _context2.abrupt(\"return\", undefined);\n            case 40:\n              return _context2.abrupt(\"return\", {\n                duration: data.duration,\n                suggestions: data.words.map(function (word) {\n                  return {\n                    kind: 18 /* languages.CompletionItemKind.Text */,\n                    label: word,\n                    insertText: word,\n                    range: {\n                      insert: insert,\n                      replace: replace\n                    }\n                  };\n                })\n              });\n            case 41:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[9, 20, 23, 26]]);\n      }));\n      function provideCompletionItems(_x5, _x6) {\n        return _provideCompletionItems.apply(this, arguments);\n      }\n      return provideCompletionItems;\n    }()\n  }]);\n}();\nvar WorkerManager = /*#__PURE__*/function (_Disposable2) {\n  function WorkerManager(modelService, languageConfigurationService) {\n    var _this3;\n    _classCallCheck(this, WorkerManager);\n    _this3 = _callSuper(this, WorkerManager);\n    _this3.languageConfigurationService = languageConfigurationService;\n    _this3._modelService = modelService;\n    _this3._editorWorkerClient = null;\n    _this3._lastWorkerUsedTime = new Date().getTime();\n    var stopWorkerInterval = _this3._register(new WindowIntervalTimer());\n    stopWorkerInterval.cancelAndSet(function () {\n      return _this3._checkStopIdleWorker();\n    }, Math.round(STOP_WORKER_DELTA_TIME_MS / 2), mainWindow);\n    _this3._register(_this3._modelService.onModelRemoved(function (_) {\n      return _this3._checkStopEmptyWorker();\n    }));\n    return _this3;\n  }\n  _inherits(WorkerManager, _Disposable2);\n  return _createClass(WorkerManager, [{\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._editorWorkerClient) {\n        this._editorWorkerClient.dispose();\n        this._editorWorkerClient = null;\n      }\n      _get(_getPrototypeOf(WorkerManager.prototype), \"dispose\", this).call(this);\n    }\n    /**\n     * Check if the model service has no more models and stop the worker if that is the case.\n     */\n  }, {\n    key: \"_checkStopEmptyWorker\",\n    value: function _checkStopEmptyWorker() {\n      if (!this._editorWorkerClient) {\n        return;\n      }\n      var models = this._modelService.getModels();\n      if (models.length === 0) {\n        // There are no more models => nothing possible for me to do\n        this._editorWorkerClient.dispose();\n        this._editorWorkerClient = null;\n      }\n    }\n    /**\n     * Check if the worker has been idle for a while and then stop it.\n     */\n  }, {\n    key: \"_checkStopIdleWorker\",\n    value: function _checkStopIdleWorker() {\n      if (!this._editorWorkerClient) {\n        return;\n      }\n      var timeSinceLastWorkerUsedTime = new Date().getTime() - this._lastWorkerUsedTime;\n      if (timeSinceLastWorkerUsedTime > STOP_WORKER_DELTA_TIME_MS) {\n        this._editorWorkerClient.dispose();\n        this._editorWorkerClient = null;\n      }\n    }\n  }, {\n    key: \"withWorker\",\n    value: function withWorker() {\n      this._lastWorkerUsedTime = new Date().getTime();\n      if (!this._editorWorkerClient) {\n        this._editorWorkerClient = new EditorWorkerClient(this._modelService, false, 'editorWorkerService', this.languageConfigurationService);\n      }\n      return Promise.resolve(this._editorWorkerClient);\n    }\n  }]);\n}(Disposable);\nvar EditorModelManager = /*#__PURE__*/function (_Disposable3) {\n  function EditorModelManager(proxy, modelService, keepIdleModels) {\n    var _this4;\n    _classCallCheck(this, EditorModelManager);\n    _this4 = _callSuper(this, EditorModelManager);\n    _this4._syncedModels = Object.create(null);\n    _this4._syncedModelsLastUsedTime = Object.create(null);\n    _this4._proxy = proxy;\n    _this4._modelService = modelService;\n    if (!keepIdleModels) {\n      var timer = new IntervalTimer();\n      timer.cancelAndSet(function () {\n        return _this4._checkStopModelSync();\n      }, Math.round(STOP_SYNC_MODEL_DELTA_TIME_MS / 2));\n      _this4._register(timer);\n    }\n    return _this4;\n  }\n  _inherits(EditorModelManager, _Disposable3);\n  return _createClass(EditorModelManager, [{\n    key: \"dispose\",\n    value: function dispose() {\n      for (var modelUrl in this._syncedModels) {\n        _dispose(this._syncedModels[modelUrl]);\n      }\n      this._syncedModels = Object.create(null);\n      this._syncedModelsLastUsedTime = Object.create(null);\n      _get(_getPrototypeOf(EditorModelManager.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"ensureSyncedResources\",\n    value: function ensureSyncedResources(resources, forceLargeModels) {\n      var _iterator2 = _createForOfIteratorHelper(resources),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var resource = _step2.value;\n          var resourceStr = resource.toString();\n          if (!this._syncedModels[resourceStr]) {\n            this._beginModelSync(resource, forceLargeModels);\n          }\n          if (this._syncedModels[resourceStr]) {\n            this._syncedModelsLastUsedTime[resourceStr] = new Date().getTime();\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"_checkStopModelSync\",\n    value: function _checkStopModelSync() {\n      var currentTime = new Date().getTime();\n      var toRemove = [];\n      for (var modelUrl in this._syncedModelsLastUsedTime) {\n        var elapsedTime = currentTime - this._syncedModelsLastUsedTime[modelUrl];\n        if (elapsedTime > STOP_SYNC_MODEL_DELTA_TIME_MS) {\n          toRemove.push(modelUrl);\n        }\n      }\n      for (var _i = 0, _toRemove = toRemove; _i < _toRemove.length; _i++) {\n        var e = _toRemove[_i];\n        this._stopModelSync(e);\n      }\n    }\n  }, {\n    key: \"_beginModelSync\",\n    value: function _beginModelSync(resource, forceLargeModels) {\n      var _this5 = this;\n      var model = this._modelService.getModel(resource);\n      if (!model) {\n        return;\n      }\n      if (!forceLargeModels && model.isTooLargeForSyncing()) {\n        return;\n      }\n      var modelUrl = resource.toString();\n      this._proxy.acceptNewModel({\n        url: model.uri.toString(),\n        lines: model.getLinesContent(),\n        EOL: model.getEOL(),\n        versionId: model.getVersionId()\n      });\n      var toDispose = new DisposableStore();\n      toDispose.add(model.onDidChangeContent(function (e) {\n        _this5._proxy.acceptModelChanged(modelUrl.toString(), e);\n      }));\n      toDispose.add(model.onWillDispose(function () {\n        _this5._stopModelSync(modelUrl);\n      }));\n      toDispose.add(toDisposable(function () {\n        _this5._proxy.acceptRemovedModel(modelUrl);\n      }));\n      this._syncedModels[modelUrl] = toDispose;\n    }\n  }, {\n    key: \"_stopModelSync\",\n    value: function _stopModelSync(modelUrl) {\n      var toDispose = this._syncedModels[modelUrl];\n      delete this._syncedModels[modelUrl];\n      delete this._syncedModelsLastUsedTime[modelUrl];\n      _dispose(toDispose);\n    }\n  }]);\n}(Disposable);\nvar SynchronousWorkerClient = /*#__PURE__*/function () {\n  function SynchronousWorkerClient(instance) {\n    _classCallCheck(this, SynchronousWorkerClient);\n    this._instance = instance;\n    this._proxyObj = Promise.resolve(this._instance);\n  }\n  return _createClass(SynchronousWorkerClient, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._instance.dispose();\n    }\n  }, {\n    key: \"getProxyObject\",\n    value: function getProxyObject() {\n      return this._proxyObj;\n    }\n  }]);\n}();\nexport var EditorWorkerHost = /*#__PURE__*/function () {\n  function EditorWorkerHost(workerClient) {\n    _classCallCheck(this, EditorWorkerHost);\n    this._workerClient = workerClient;\n  }\n  // foreign host request\n  return _createClass(EditorWorkerHost, [{\n    key: \"fhr\",\n    value: function fhr(method, args) {\n      return this._workerClient.fhr(method, args);\n    }\n  }]);\n}();\nexport var EditorWorkerClient = /*#__PURE__*/function (_Disposable4) {\n  function EditorWorkerClient(modelService, keepIdleModels, label, languageConfigurationService) {\n    var _this6;\n    _classCallCheck(this, EditorWorkerClient);\n    _this6 = _callSuper(this, EditorWorkerClient);\n    _this6.languageConfigurationService = languageConfigurationService;\n    _this6._disposed = false;\n    _this6._modelService = modelService;\n    _this6._keepIdleModels = keepIdleModels;\n    _this6._workerFactory = new DefaultWorkerFactory(label);\n    _this6._worker = null;\n    _this6._modelManager = null;\n    return _this6;\n  }\n  // foreign host request\n  _inherits(EditorWorkerClient, _Disposable4);\n  return _createClass(EditorWorkerClient, [{\n    key: \"fhr\",\n    value: function fhr(method, args) {\n      throw new Error(\"Not implemented!\");\n    }\n  }, {\n    key: \"_getOrCreateWorker\",\n    value: function _getOrCreateWorker() {\n      if (!this._worker) {\n        try {\n          this._worker = this._register(new SimpleWorkerClient(this._workerFactory, 'vs/editor/common/services/editorSimpleWorker', new EditorWorkerHost(this)));\n        } catch (err) {\n          logOnceWebWorkerWarning(err);\n          this._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(this), null));\n        }\n      }\n      return this._worker;\n    }\n  }, {\n    key: \"_getProxy\",\n    value: function _getProxy() {\n      var _this7 = this;\n      return this._getOrCreateWorker().getProxyObject().then(undefined, function (err) {\n        logOnceWebWorkerWarning(err);\n        _this7._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(_this7), null));\n        return _this7._getOrCreateWorker().getProxyObject();\n      });\n    }\n  }, {\n    key: \"_getOrCreateModelManager\",\n    value: function _getOrCreateModelManager(proxy) {\n      if (!this._modelManager) {\n        this._modelManager = this._register(new EditorModelManager(proxy, this._modelService, this._keepIdleModels));\n      }\n      return this._modelManager;\n    }\n  }, {\n    key: \"_withSyncedResources\",\n    value: function () {\n      var _withSyncedResources2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resources) {\n        var _this8 = this;\n        var forceLargeModels,\n          _args3 = arguments;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              forceLargeModels = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : false;\n              if (!this._disposed) {\n                _context3.next = 3;\n                break;\n              }\n              return _context3.abrupt(\"return\", Promise.reject(canceled()));\n            case 3:\n              return _context3.abrupt(\"return\", this._getProxy().then(function (proxy) {\n                _this8._getOrCreateModelManager(proxy).ensureSyncedResources(resources, forceLargeModels);\n                return proxy;\n              }));\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function _withSyncedResources(_x7) {\n        return _withSyncedResources2.apply(this, arguments);\n      }\n      return _withSyncedResources;\n    }()\n  }, {\n    key: \"computedUnicodeHighlights\",\n    value: function computedUnicodeHighlights(uri, options, range) {\n      return this._withSyncedResources([uri]).then(function (proxy) {\n        return proxy.computeUnicodeHighlights(uri.toString(), options, range);\n      });\n    }\n  }, {\n    key: \"computeDiff\",\n    value: function computeDiff(original, modified, options, algorithm) {\n      return this._withSyncedResources([original, modified], /* forceLargeModels */true).then(function (proxy) {\n        return proxy.computeDiff(original.toString(), modified.toString(), options, algorithm);\n      });\n    }\n  }, {\n    key: \"computeMoreMinimalEdits\",\n    value: function computeMoreMinimalEdits(resource, edits, pretty) {\n      return this._withSyncedResources([resource]).then(function (proxy) {\n        return proxy.computeMoreMinimalEdits(resource.toString(), edits, pretty);\n      });\n    }\n  }, {\n    key: \"computeLinks\",\n    value: function computeLinks(resource) {\n      return this._withSyncedResources([resource]).then(function (proxy) {\n        return proxy.computeLinks(resource.toString());\n      });\n    }\n  }, {\n    key: \"computeDefaultDocumentColors\",\n    value: function computeDefaultDocumentColors(resource) {\n      return this._withSyncedResources([resource]).then(function (proxy) {\n        return proxy.computeDefaultDocumentColors(resource.toString());\n      });\n    }\n  }, {\n    key: \"textualSuggest\",\n    value: function () {\n      var _textualSuggest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resources, leadingWord, wordDefRegExp) {\n        var proxy, wordDef, wordDefFlags;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this._withSyncedResources(resources);\n            case 2:\n              proxy = _context4.sent;\n              wordDef = wordDefRegExp.source;\n              wordDefFlags = wordDefRegExp.flags;\n              return _context4.abrupt(\"return\", proxy.textualSuggest(resources.map(function (r) {\n                return r.toString();\n              }), leadingWord, wordDef, wordDefFlags));\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function textualSuggest(_x8, _x9, _x10) {\n        return _textualSuggest.apply(this, arguments);\n      }\n      return textualSuggest;\n    }()\n  }, {\n    key: \"computeWordRanges\",\n    value: function computeWordRanges(resource, range) {\n      var _this9 = this;\n      return this._withSyncedResources([resource]).then(function (proxy) {\n        var model = _this9._modelService.getModel(resource);\n        if (!model) {\n          return Promise.resolve(null);\n        }\n        var wordDefRegExp = _this9.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n        var wordDef = wordDefRegExp.source;\n        var wordDefFlags = wordDefRegExp.flags;\n        return proxy.computeWordRanges(resource.toString(), range, wordDef, wordDefFlags);\n      });\n    }\n  }, {\n    key: \"navigateValueSet\",\n    value: function navigateValueSet(resource, range, up) {\n      var _this10 = this;\n      return this._withSyncedResources([resource]).then(function (proxy) {\n        var model = _this10._modelService.getModel(resource);\n        if (!model) {\n          return null;\n        }\n        var wordDefRegExp = _this10.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n        var wordDef = wordDefRegExp.source;\n        var wordDefFlags = wordDefRegExp.flags;\n        return proxy.navigateValueSet(resource.toString(), range, up, wordDef, wordDefFlags);\n      });\n    }\n  }, {\n    key: \"findSectionHeaders\",\n    value: function findSectionHeaders(uri, options) {\n      return this._withSyncedResources([uri]).then(function (proxy) {\n        return proxy.findSectionHeaders(uri.toString(), options);\n      });\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(EditorWorkerClient.prototype), \"dispose\", this).call(this);\n      this._disposed = true;\n    }\n  }]);\n}(Disposable);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","IntervalTimer","timeout","Disposable","dispose","toDisposable","DisposableStore","SimpleWorkerClient","logOnceWebWorkerWarning","DefaultWorkerFactory","Range","ILanguageConfigurationService","EditorSimpleWorker","IModelService","ITextResourceConfigurationService","isNonEmptyArray","ILogService","StopWatch","canceled","ILanguageFeaturesService","MovedText","DetailedLineRangeMapping","RangeMapping","LineRangeMapping","LineRange","mainWindow","WindowIntervalTimer","STOP_SYNC_MODEL_DELTA_TIME_MS","STOP_WORKER_DELTA_TIME_MS","canSyncModel","modelService","resource","model","getModel","isTooLargeForSyncing","EditorWorkerService","_Disposable","configurationService","logService","languageConfigurationService","languageFeaturesService","_this","_classCallCheck","_callSuper","_modelService","_workerManager","_register","WorkerManager","_logService","linkProvider","register","language","hasAccessToAllModels","provideLinks","token","uri","Promise","resolve","links","withWorker","then","client","computeLinks","completionProvider","WordBasedCompletionItemProvider","_inherits","_createClass","value","_get","_getPrototypeOf","prototype","call","canComputeUnicodeHighlights","computedUnicodeHighlights","options","range","_computeDiff","_asyncToGenerator","_regeneratorRuntime","mark","_callee","original","modified","algorithm","result","diff","toLineRangeMappings","wrap","_callee$","_context","prev","next","_toLineRangeMappings","changes","map","_a","computeDiff","sent","abrupt","identical","quitEarly","moves","m","stop","_x","_x2","_x3","_x4","apply","computeMoreMinimalEdits","edits","_this2","pretty","undefined","sw","create","trace","toString","elapsed","race","canNavigateValueSet","navigateValueSet","up","canComputeWordRanges","computeWordRanges","findSectionHeaders","workerManager","_debugDisplayName","_configurationService","_provideCompletionItems","_callee2","position","config","models","_iterator","_step","candidate","wordDefRegExp","word","replace","insert","data","_callee2$","_context2","getValue","wordBasedSuggestions","push","_createForOfIteratorHelper","getModels","s","n","done","unshift","getLanguageId","t0","e","f","finish","getLanguageConfiguration","getWordDefinition","getWordAtPosition","fromPositions","lineNumber","startColumn","endColumn","setEndPosition","column","textualSuggest","duration","suggestions","words","kind","label","insertText","provideCompletionItems","_x5","_x6","_Disposable2","_this3","_editorWorkerClient","_lastWorkerUsedTime","Date","getTime","stopWorkerInterval","cancelAndSet","_checkStopIdleWorker","Math","round","onModelRemoved","_","_checkStopEmptyWorker","timeSinceLastWorkerUsedTime","EditorWorkerClient","EditorModelManager","_Disposable3","proxy","keepIdleModels","_this4","_syncedModels","_syncedModelsLastUsedTime","_proxy","timer","_checkStopModelSync","modelUrl","ensureSyncedResources","resources","forceLargeModels","_iterator2","_step2","resourceStr","_beginModelSync","err","currentTime","toRemove","elapsedTime","_i","_toRemove","_stopModelSync","_this5","acceptNewModel","url","lines","getLinesContent","EOL","getEOL","versionId","getVersionId","toDispose","add","onDidChangeContent","acceptModelChanged","onWillDispose","acceptRemovedModel","SynchronousWorkerClient","instance","_instance","_proxyObj","getProxyObject","EditorWorkerHost","workerClient","_workerClient","fhr","method","args","_Disposable4","_this6","_disposed","_keepIdleModels","_workerFactory","_worker","_modelManager","Error","_getOrCreateWorker","_getProxy","_this7","_getOrCreateModelManager","_withSyncedResources2","_callee3","_this8","_args3","_callee3$","_context3","reject","_withSyncedResources","_x7","computeUnicodeHighlights","computeDefaultDocumentColors","_textualSuggest","_callee4","leadingWord","wordDef","wordDefFlags","_callee4$","_context4","source","flags","_x8","_x9","_x10","_this9","_this10"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/monaco-editor/esm/vs/editor/browser/services/editorWorkerService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { IntervalTimer, timeout } from '../../../base/common/async.js';\nimport { Disposable, dispose, toDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { SimpleWorkerClient, logOnceWebWorkerWarning } from '../../../base/common/worker/simpleWorker.js';\nimport { DefaultWorkerFactory } from '../../../base/browser/defaultWorkerFactory.js';\nimport { Range } from '../../common/core/range.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { EditorSimpleWorker } from '../../common/services/editorSimpleWorker.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ITextResourceConfigurationService } from '../../common/services/textResourceConfiguration.js';\nimport { isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nimport { MovedText } from '../../common/diff/linesDiffComputer.js';\nimport { DetailedLineRangeMapping, RangeMapping, LineRangeMapping } from '../../common/diff/rangeMapping.js';\nimport { LineRange } from '../../common/core/lineRange.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { WindowIntervalTimer } from '../../../base/browser/dom.js';\n/**\n * Stop syncing a model to the worker if it was not needed for 1 min.\n */\nconst STOP_SYNC_MODEL_DELTA_TIME_MS = 60 * 1000;\n/**\n * Stop the worker if it was not needed for 5 min.\n */\nconst STOP_WORKER_DELTA_TIME_MS = 5 * 60 * 1000;\nfunction canSyncModel(modelService, resource) {\n    const model = modelService.getModel(resource);\n    if (!model) {\n        return false;\n    }\n    if (model.isTooLargeForSyncing()) {\n        return false;\n    }\n    return true;\n}\nlet EditorWorkerService = class EditorWorkerService extends Disposable {\n    constructor(modelService, configurationService, logService, languageConfigurationService, languageFeaturesService) {\n        super();\n        this._modelService = modelService;\n        this._workerManager = this._register(new WorkerManager(this._modelService, languageConfigurationService));\n        this._logService = logService;\n        // register default link-provider and default completions-provider\n        this._register(languageFeaturesService.linkProvider.register({ language: '*', hasAccessToAllModels: true }, {\n            provideLinks: (model, token) => {\n                if (!canSyncModel(this._modelService, model.uri)) {\n                    return Promise.resolve({ links: [] }); // File too large\n                }\n                return this._workerManager.withWorker().then(client => client.computeLinks(model.uri)).then(links => {\n                    return links && { links };\n                });\n            }\n        }));\n        this._register(languageFeaturesService.completionProvider.register('*', new WordBasedCompletionItemProvider(this._workerManager, configurationService, this._modelService, languageConfigurationService)));\n    }\n    dispose() {\n        super.dispose();\n    }\n    canComputeUnicodeHighlights(uri) {\n        return canSyncModel(this._modelService, uri);\n    }\n    computedUnicodeHighlights(uri, options, range) {\n        return this._workerManager.withWorker().then(client => client.computedUnicodeHighlights(uri, options, range));\n    }\n    async computeDiff(original, modified, options, algorithm) {\n        const result = await this._workerManager.withWorker().then(client => client.computeDiff(original, modified, options, algorithm));\n        if (!result) {\n            return null;\n        }\n        // Convert from space efficient JSON data to rich objects.\n        const diff = {\n            identical: result.identical,\n            quitEarly: result.quitEarly,\n            changes: toLineRangeMappings(result.changes),\n            moves: result.moves.map(m => new MovedText(new LineRangeMapping(new LineRange(m[0], m[1]), new LineRange(m[2], m[3])), toLineRangeMappings(m[4])))\n        };\n        return diff;\n        function toLineRangeMappings(changes) {\n            return changes.map((c) => {\n                var _a;\n                return new DetailedLineRangeMapping(new LineRange(c[0], c[1]), new LineRange(c[2], c[3]), (_a = c[4]) === null || _a === void 0 ? void 0 : _a.map((c) => new RangeMapping(new Range(c[0], c[1], c[2], c[3]), new Range(c[4], c[5], c[6], c[7]))));\n            });\n        }\n    }\n    computeMoreMinimalEdits(resource, edits, pretty = false) {\n        if (isNonEmptyArray(edits)) {\n            if (!canSyncModel(this._modelService, resource)) {\n                return Promise.resolve(edits); // File too large\n            }\n            const sw = StopWatch.create();\n            const result = this._workerManager.withWorker().then(client => client.computeMoreMinimalEdits(resource, edits, pretty));\n            result.finally(() => this._logService.trace('FORMAT#computeMoreMinimalEdits', resource.toString(true), sw.elapsed()));\n            return Promise.race([result, timeout(1000).then(() => edits)]);\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    canNavigateValueSet(resource) {\n        return (canSyncModel(this._modelService, resource));\n    }\n    navigateValueSet(resource, range, up) {\n        return this._workerManager.withWorker().then(client => client.navigateValueSet(resource, range, up));\n    }\n    canComputeWordRanges(resource) {\n        return canSyncModel(this._modelService, resource);\n    }\n    computeWordRanges(resource, range) {\n        return this._workerManager.withWorker().then(client => client.computeWordRanges(resource, range));\n    }\n    findSectionHeaders(uri, options) {\n        return this._workerManager.withWorker().then(client => client.findSectionHeaders(uri, options));\n    }\n};\nEditorWorkerService = __decorate([\n    __param(0, IModelService),\n    __param(1, ITextResourceConfigurationService),\n    __param(2, ILogService),\n    __param(3, ILanguageConfigurationService),\n    __param(4, ILanguageFeaturesService)\n], EditorWorkerService);\nexport { EditorWorkerService };\nclass WordBasedCompletionItemProvider {\n    constructor(workerManager, configurationService, modelService, languageConfigurationService) {\n        this.languageConfigurationService = languageConfigurationService;\n        this._debugDisplayName = 'wordbasedCompletions';\n        this._workerManager = workerManager;\n        this._configurationService = configurationService;\n        this._modelService = modelService;\n    }\n    async provideCompletionItems(model, position) {\n        const config = this._configurationService.getValue(model.uri, position, 'editor');\n        if (config.wordBasedSuggestions === 'off') {\n            return undefined;\n        }\n        const models = [];\n        if (config.wordBasedSuggestions === 'currentDocument') {\n            // only current file and only if not too large\n            if (canSyncModel(this._modelService, model.uri)) {\n                models.push(model.uri);\n            }\n        }\n        else {\n            // either all files or files of same language\n            for (const candidate of this._modelService.getModels()) {\n                if (!canSyncModel(this._modelService, candidate.uri)) {\n                    continue;\n                }\n                if (candidate === model) {\n                    models.unshift(candidate.uri);\n                }\n                else if (config.wordBasedSuggestions === 'allDocuments' || candidate.getLanguageId() === model.getLanguageId()) {\n                    models.push(candidate.uri);\n                }\n            }\n        }\n        if (models.length === 0) {\n            return undefined; // File too large, no other files\n        }\n        const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n        const word = model.getWordAtPosition(position);\n        const replace = !word ? Range.fromPositions(position) : new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n        const insert = replace.setEndPosition(position.lineNumber, position.column);\n        const client = await this._workerManager.withWorker();\n        const data = await client.textualSuggest(models, word === null || word === void 0 ? void 0 : word.word, wordDefRegExp);\n        if (!data) {\n            return undefined;\n        }\n        return {\n            duration: data.duration,\n            suggestions: data.words.map((word) => {\n                return {\n                    kind: 18 /* languages.CompletionItemKind.Text */,\n                    label: word,\n                    insertText: word,\n                    range: { insert, replace }\n                };\n            }),\n        };\n    }\n}\nclass WorkerManager extends Disposable {\n    constructor(modelService, languageConfigurationService) {\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        this._modelService = modelService;\n        this._editorWorkerClient = null;\n        this._lastWorkerUsedTime = (new Date()).getTime();\n        const stopWorkerInterval = this._register(new WindowIntervalTimer());\n        stopWorkerInterval.cancelAndSet(() => this._checkStopIdleWorker(), Math.round(STOP_WORKER_DELTA_TIME_MS / 2), mainWindow);\n        this._register(this._modelService.onModelRemoved(_ => this._checkStopEmptyWorker()));\n    }\n    dispose() {\n        if (this._editorWorkerClient) {\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n        super.dispose();\n    }\n    /**\n     * Check if the model service has no more models and stop the worker if that is the case.\n     */\n    _checkStopEmptyWorker() {\n        if (!this._editorWorkerClient) {\n            return;\n        }\n        const models = this._modelService.getModels();\n        if (models.length === 0) {\n            // There are no more models => nothing possible for me to do\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n    }\n    /**\n     * Check if the worker has been idle for a while and then stop it.\n     */\n    _checkStopIdleWorker() {\n        if (!this._editorWorkerClient) {\n            return;\n        }\n        const timeSinceLastWorkerUsedTime = (new Date()).getTime() - this._lastWorkerUsedTime;\n        if (timeSinceLastWorkerUsedTime > STOP_WORKER_DELTA_TIME_MS) {\n            this._editorWorkerClient.dispose();\n            this._editorWorkerClient = null;\n        }\n    }\n    withWorker() {\n        this._lastWorkerUsedTime = (new Date()).getTime();\n        if (!this._editorWorkerClient) {\n            this._editorWorkerClient = new EditorWorkerClient(this._modelService, false, 'editorWorkerService', this.languageConfigurationService);\n        }\n        return Promise.resolve(this._editorWorkerClient);\n    }\n}\nclass EditorModelManager extends Disposable {\n    constructor(proxy, modelService, keepIdleModels) {\n        super();\n        this._syncedModels = Object.create(null);\n        this._syncedModelsLastUsedTime = Object.create(null);\n        this._proxy = proxy;\n        this._modelService = modelService;\n        if (!keepIdleModels) {\n            const timer = new IntervalTimer();\n            timer.cancelAndSet(() => this._checkStopModelSync(), Math.round(STOP_SYNC_MODEL_DELTA_TIME_MS / 2));\n            this._register(timer);\n        }\n    }\n    dispose() {\n        for (const modelUrl in this._syncedModels) {\n            dispose(this._syncedModels[modelUrl]);\n        }\n        this._syncedModels = Object.create(null);\n        this._syncedModelsLastUsedTime = Object.create(null);\n        super.dispose();\n    }\n    ensureSyncedResources(resources, forceLargeModels) {\n        for (const resource of resources) {\n            const resourceStr = resource.toString();\n            if (!this._syncedModels[resourceStr]) {\n                this._beginModelSync(resource, forceLargeModels);\n            }\n            if (this._syncedModels[resourceStr]) {\n                this._syncedModelsLastUsedTime[resourceStr] = (new Date()).getTime();\n            }\n        }\n    }\n    _checkStopModelSync() {\n        const currentTime = (new Date()).getTime();\n        const toRemove = [];\n        for (const modelUrl in this._syncedModelsLastUsedTime) {\n            const elapsedTime = currentTime - this._syncedModelsLastUsedTime[modelUrl];\n            if (elapsedTime > STOP_SYNC_MODEL_DELTA_TIME_MS) {\n                toRemove.push(modelUrl);\n            }\n        }\n        for (const e of toRemove) {\n            this._stopModelSync(e);\n        }\n    }\n    _beginModelSync(resource, forceLargeModels) {\n        const model = this._modelService.getModel(resource);\n        if (!model) {\n            return;\n        }\n        if (!forceLargeModels && model.isTooLargeForSyncing()) {\n            return;\n        }\n        const modelUrl = resource.toString();\n        this._proxy.acceptNewModel({\n            url: model.uri.toString(),\n            lines: model.getLinesContent(),\n            EOL: model.getEOL(),\n            versionId: model.getVersionId()\n        });\n        const toDispose = new DisposableStore();\n        toDispose.add(model.onDidChangeContent((e) => {\n            this._proxy.acceptModelChanged(modelUrl.toString(), e);\n        }));\n        toDispose.add(model.onWillDispose(() => {\n            this._stopModelSync(modelUrl);\n        }));\n        toDispose.add(toDisposable(() => {\n            this._proxy.acceptRemovedModel(modelUrl);\n        }));\n        this._syncedModels[modelUrl] = toDispose;\n    }\n    _stopModelSync(modelUrl) {\n        const toDispose = this._syncedModels[modelUrl];\n        delete this._syncedModels[modelUrl];\n        delete this._syncedModelsLastUsedTime[modelUrl];\n        dispose(toDispose);\n    }\n}\nclass SynchronousWorkerClient {\n    constructor(instance) {\n        this._instance = instance;\n        this._proxyObj = Promise.resolve(this._instance);\n    }\n    dispose() {\n        this._instance.dispose();\n    }\n    getProxyObject() {\n        return this._proxyObj;\n    }\n}\nexport class EditorWorkerHost {\n    constructor(workerClient) {\n        this._workerClient = workerClient;\n    }\n    // foreign host request\n    fhr(method, args) {\n        return this._workerClient.fhr(method, args);\n    }\n}\nexport class EditorWorkerClient extends Disposable {\n    constructor(modelService, keepIdleModels, label, languageConfigurationService) {\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        this._disposed = false;\n        this._modelService = modelService;\n        this._keepIdleModels = keepIdleModels;\n        this._workerFactory = new DefaultWorkerFactory(label);\n        this._worker = null;\n        this._modelManager = null;\n    }\n    // foreign host request\n    fhr(method, args) {\n        throw new Error(`Not implemented!`);\n    }\n    _getOrCreateWorker() {\n        if (!this._worker) {\n            try {\n                this._worker = this._register(new SimpleWorkerClient(this._workerFactory, 'vs/editor/common/services/editorSimpleWorker', new EditorWorkerHost(this)));\n            }\n            catch (err) {\n                logOnceWebWorkerWarning(err);\n                this._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(this), null));\n            }\n        }\n        return this._worker;\n    }\n    _getProxy() {\n        return this._getOrCreateWorker().getProxyObject().then(undefined, (err) => {\n            logOnceWebWorkerWarning(err);\n            this._worker = new SynchronousWorkerClient(new EditorSimpleWorker(new EditorWorkerHost(this), null));\n            return this._getOrCreateWorker().getProxyObject();\n        });\n    }\n    _getOrCreateModelManager(proxy) {\n        if (!this._modelManager) {\n            this._modelManager = this._register(new EditorModelManager(proxy, this._modelService, this._keepIdleModels));\n        }\n        return this._modelManager;\n    }\n    async _withSyncedResources(resources, forceLargeModels = false) {\n        if (this._disposed) {\n            return Promise.reject(canceled());\n        }\n        return this._getProxy().then((proxy) => {\n            this._getOrCreateModelManager(proxy).ensureSyncedResources(resources, forceLargeModels);\n            return proxy;\n        });\n    }\n    computedUnicodeHighlights(uri, options, range) {\n        return this._withSyncedResources([uri]).then(proxy => {\n            return proxy.computeUnicodeHighlights(uri.toString(), options, range);\n        });\n    }\n    computeDiff(original, modified, options, algorithm) {\n        return this._withSyncedResources([original, modified], /* forceLargeModels */ true).then(proxy => {\n            return proxy.computeDiff(original.toString(), modified.toString(), options, algorithm);\n        });\n    }\n    computeMoreMinimalEdits(resource, edits, pretty) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            return proxy.computeMoreMinimalEdits(resource.toString(), edits, pretty);\n        });\n    }\n    computeLinks(resource) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            return proxy.computeLinks(resource.toString());\n        });\n    }\n    computeDefaultDocumentColors(resource) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            return proxy.computeDefaultDocumentColors(resource.toString());\n        });\n    }\n    async textualSuggest(resources, leadingWord, wordDefRegExp) {\n        const proxy = await this._withSyncedResources(resources);\n        const wordDef = wordDefRegExp.source;\n        const wordDefFlags = wordDefRegExp.flags;\n        return proxy.textualSuggest(resources.map(r => r.toString()), leadingWord, wordDef, wordDefFlags);\n    }\n    computeWordRanges(resource, range) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            const model = this._modelService.getModel(resource);\n            if (!model) {\n                return Promise.resolve(null);\n            }\n            const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n            const wordDef = wordDefRegExp.source;\n            const wordDefFlags = wordDefRegExp.flags;\n            return proxy.computeWordRanges(resource.toString(), range, wordDef, wordDefFlags);\n        });\n    }\n    navigateValueSet(resource, range, up) {\n        return this._withSyncedResources([resource]).then(proxy => {\n            const model = this._modelService.getModel(resource);\n            if (!model) {\n                return null;\n            }\n            const wordDefRegExp = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n            const wordDef = wordDefRegExp.source;\n            const wordDefFlags = wordDefRegExp.flags;\n            return proxy.navigateValueSet(resource.toString(), range, up, wordDef, wordDefFlags);\n        });\n    }\n    findSectionHeaders(uri, options) {\n        return this._withSyncedResources([uri]).then(proxy => {\n            return proxy.findSectionHeaders(uri.toString(), options);\n        });\n    }\n    dispose() {\n        super.dispose();\n        this._disposed = true;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}