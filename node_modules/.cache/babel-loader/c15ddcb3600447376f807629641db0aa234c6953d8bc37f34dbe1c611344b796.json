{"ast":null,"code":"import { ref } from \"vue\";\nvar useControlBlock = function useControlBlock(_ref) {\n  var value = _ref.value,\n    onChange = _ref.onChange;\n  var active = ref(false);\n  var blockRef = ref();\n  var handlerRef = ref();\n  var getPercentNumber = function getPercentNumber(value2, max) {\n    if (value2 < 0) return 0;\n    if (value2 > max) return 1;\n    return value2 / max;\n  };\n  var setCurrentPosition = function setCurrentPosition(ev) {\n    if (!blockRef.value) return;\n    var clientX = ev.clientX,\n      clientY = ev.clientY;\n    var rect = blockRef.value.getBoundingClientRect();\n    var newValue = [getPercentNumber(clientX - rect.x, rect.width), getPercentNumber(clientY - rect.y, rect.height)];\n    if (newValue[0] !== value[0] || newValue[1] !== value[1]) {\n      onChange == null ? void 0 : onChange(newValue);\n    }\n  };\n  var removeListener = function removeListener() {\n    active.value = false;\n    window.removeEventListener(\"mousemove\", onMouseMove);\n    window.removeEventListener(\"mouseup\", removeListener);\n    window.removeEventListener(\"contextmenu\", removeListener);\n  };\n  var onMouseDown = function onMouseDown(ev) {\n    active.value = true;\n    setCurrentPosition(ev);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    window.addEventListener(\"mouseup\", removeListener);\n    window.addEventListener(\"contextmenu\", removeListener);\n  };\n  function onMouseMove(ev) {\n    ev.preventDefault();\n    if (ev.buttons > 0) {\n      setCurrentPosition(ev);\n    } else {\n      removeListener();\n    }\n  }\n  return {\n    active: active,\n    blockRef: blockRef,\n    handlerRef: handlerRef,\n    onMouseDown: onMouseDown\n  };\n};\nexport { useControlBlock };","map":{"version":3,"names":["ref","useControlBlock","_ref","value","onChange","active","blockRef","handlerRef","getPercentNumber","value2","max","setCurrentPosition","ev","clientX","clientY","rect","getBoundingClientRect","newValue","x","width","y","height","removeListener","window","removeEventListener","onMouseMove","onMouseDown","addEventListener","preventDefault","buttons"],"sources":["/Users/yinger/Desktop/z95_exam_frontend/node_modules/@arco-design/web-vue/es/color-picker/hooks/use-control-block.js"],"sourcesContent":["import { ref } from \"vue\";\nconst useControlBlock = ({ value, onChange }) => {\n  const active = ref(false);\n  const blockRef = ref();\n  const handlerRef = ref();\n  const getPercentNumber = (value2, max) => {\n    if (value2 < 0)\n      return 0;\n    if (value2 > max)\n      return 1;\n    return value2 / max;\n  };\n  const setCurrentPosition = (ev) => {\n    if (!blockRef.value)\n      return;\n    const { clientX, clientY } = ev;\n    const rect = blockRef.value.getBoundingClientRect();\n    const newValue = [\n      getPercentNumber(clientX - rect.x, rect.width),\n      getPercentNumber(clientY - rect.y, rect.height)\n    ];\n    if (newValue[0] !== value[0] || newValue[1] !== value[1]) {\n      onChange == null ? void 0 : onChange(newValue);\n    }\n  };\n  const removeListener = () => {\n    active.value = false;\n    window.removeEventListener(\"mousemove\", onMouseMove);\n    window.removeEventListener(\"mouseup\", removeListener);\n    window.removeEventListener(\"contextmenu\", removeListener);\n  };\n  const onMouseDown = (ev) => {\n    active.value = true;\n    setCurrentPosition(ev);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    window.addEventListener(\"mouseup\", removeListener);\n    window.addEventListener(\"contextmenu\", removeListener);\n  };\n  function onMouseMove(ev) {\n    ev.preventDefault();\n    if (ev.buttons > 0) {\n      setCurrentPosition(ev);\n    } else {\n      removeListener();\n    }\n  }\n  return {\n    active,\n    blockRef,\n    handlerRef,\n    onMouseDown\n  };\n};\nexport { useControlBlock };\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,KAAK;AACzB,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAAC,IAAA,EAA4B;EAAA,IAAtBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EACxC,IAAMC,MAAM,GAAGL,GAAG,CAAC,KAAK,CAAC;EACzB,IAAMM,QAAQ,GAAGN,GAAG,CAAC,CAAC;EACtB,IAAMO,UAAU,GAAGP,GAAG,CAAC,CAAC;EACxB,IAAMQ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,MAAM,EAAEC,GAAG,EAAK;IACxC,IAAID,MAAM,GAAG,CAAC,EACZ,OAAO,CAAC;IACV,IAAIA,MAAM,GAAGC,GAAG,EACd,OAAO,CAAC;IACV,OAAOD,MAAM,GAAGC,GAAG;EACrB,CAAC;EACD,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,EAAE,EAAK;IACjC,IAAI,CAACN,QAAQ,CAACH,KAAK,EACjB;IACF,IAAQU,OAAO,GAAcD,EAAE,CAAvBC,OAAO;MAAEC,OAAO,GAAKF,EAAE,CAAdE,OAAO;IACxB,IAAMC,IAAI,GAAGT,QAAQ,CAACH,KAAK,CAACa,qBAAqB,CAAC,CAAC;IACnD,IAAMC,QAAQ,GAAG,CACfT,gBAAgB,CAACK,OAAO,GAAGE,IAAI,CAACG,CAAC,EAAEH,IAAI,CAACI,KAAK,CAAC,EAC9CX,gBAAgB,CAACM,OAAO,GAAGC,IAAI,CAACK,CAAC,EAAEL,IAAI,CAACM,MAAM,CAAC,CAChD;IACD,IAAIJ,QAAQ,CAAC,CAAC,CAAC,KAAKd,KAAK,CAAC,CAAC,CAAC,IAAIc,QAAQ,CAAC,CAAC,CAAC,KAAKd,KAAK,CAAC,CAAC,CAAC,EAAE;MACxDC,QAAQ,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACa,QAAQ,CAAC;IAChD;EACF,CAAC;EACD,IAAMK,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3BjB,MAAM,CAACF,KAAK,GAAG,KAAK;IACpBoB,MAAM,CAACC,mBAAmB,CAAC,WAAW,EAAEC,WAAW,CAAC;IACpDF,MAAM,CAACC,mBAAmB,CAAC,SAAS,EAAEF,cAAc,CAAC;IACrDC,MAAM,CAACC,mBAAmB,CAAC,aAAa,EAAEF,cAAc,CAAC;EAC3D,CAAC;EACD,IAAMI,WAAW,GAAG,SAAdA,WAAWA,CAAId,EAAE,EAAK;IAC1BP,MAAM,CAACF,KAAK,GAAG,IAAI;IACnBQ,kBAAkB,CAACC,EAAE,CAAC;IACtBW,MAAM,CAACI,gBAAgB,CAAC,WAAW,EAAEF,WAAW,CAAC;IACjDF,MAAM,CAACI,gBAAgB,CAAC,SAAS,EAAEL,cAAc,CAAC;IAClDC,MAAM,CAACI,gBAAgB,CAAC,aAAa,EAAEL,cAAc,CAAC;EACxD,CAAC;EACD,SAASG,WAAWA,CAACb,EAAE,EAAE;IACvBA,EAAE,CAACgB,cAAc,CAAC,CAAC;IACnB,IAAIhB,EAAE,CAACiB,OAAO,GAAG,CAAC,EAAE;MAClBlB,kBAAkB,CAACC,EAAE,CAAC;IACxB,CAAC,MAAM;MACLU,cAAc,CAAC,CAAC;IAClB;EACF;EACA,OAAO;IACLjB,MAAM,EAANA,MAAM;IACNC,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA,UAAU;IACVmB,WAAW,EAAXA;EACF,CAAC;AACH,CAAC;AACD,SAASzB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}