{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar BrowserClipboardService_1;\nimport { isSafari, isWebkitWebView } from '../../../base/browser/browser.js';\nimport { $, addDisposableListener, getActiveDocument, onDidRegisterWindow } from '../../../base/browser/dom.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { Event } from '../../../base/common/event.js';\nimport { hash } from '../../../base/common/hash.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { ILogService } from '../../log/common/log.js';\nvar BrowserClipboardService = BrowserClipboardService_1 = /*#__PURE__*/function (_Disposable) {\n  function BrowserClipboardService(layoutService, logService) {\n    var _this;\n    _classCallCheck(this, BrowserClipboardService);\n    _this = _callSuper(this, BrowserClipboardService);\n    _this.layoutService = layoutService;\n    _this.logService = logService;\n    _this.mapTextToType = new Map(); // unsupported in web (only in-memory)\n    _this.findText = ''; // unsupported in web (only in-memory)\n    _this.resources = []; // unsupported in web (only in-memory)\n    _this.resourcesStateHash = undefined;\n    if (isSafari || isWebkitWebView) {\n      _this.installWebKitWriteTextWorkaround();\n    }\n    // Keep track of copy operations to reset our set of\n    // copied resources: since we keep resources in memory\n    // and not in the clipboard, we have to invalidate\n    // that state when the user copies other data.\n    _this._register(Event.runAndSubscribe(onDidRegisterWindow, function (_ref) {\n      var window = _ref.window,\n        disposables = _ref.disposables;\n      disposables.add(addDisposableListener(window.document, 'copy', function () {\n        return _this.clearResources();\n      }));\n    }, {\n      window: mainWindow,\n      disposables: _this._store\n    }));\n    return _this;\n  }\n  // In Safari, it has the following note:\n  //\n  // \"The request to write to the clipboard must be triggered during a user gesture.\n  // A call to clipboard.write or clipboard.writeText outside the scope of a user\n  // gesture(such as \"click\" or \"touch\" event handlers) will result in the immediate\n  // rejection of the promise returned by the API call.\"\n  // From: https://webkit.org/blog/10855/async-clipboard-api/\n  //\n  // Since extensions run in a web worker, and handle gestures in an asynchronous way,\n  // they are not classified by Safari as \"in response to a user gesture\" and will reject.\n  //\n  // This function sets up some handlers to work around that behavior.\n  _inherits(BrowserClipboardService, _Disposable);\n  return _createClass(BrowserClipboardService, [{\n    key: \"installWebKitWriteTextWorkaround\",\n    value: function installWebKitWriteTextWorkaround() {\n      var _this2 = this;\n      var handler = function handler() {\n        var currentWritePromise = new DeferredPromise();\n        // Cancel the previous promise since we just created a new one in response to this new event\n        if (_this2.webKitPendingClipboardWritePromise && !_this2.webKitPendingClipboardWritePromise.isSettled) {\n          _this2.webKitPendingClipboardWritePromise.cancel();\n        }\n        _this2.webKitPendingClipboardWritePromise = currentWritePromise;\n        // The ctor of ClipboardItem allows you to pass in a promise that will resolve to a string.\n        // This allows us to pass in a Promise that will either be cancelled by another event or\n        // resolved with the contents of the first call to this.writeText.\n        // see https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem#parameters\n        navigator.clipboard.write([new ClipboardItem({\n          'text/plain': currentWritePromise.p\n        })])[\"catch\"]( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(err) {\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(err instanceof Error) || err.name !== 'NotAllowedError' || !currentWritePromise.isRejected) {\n                    _this2.logService.error(err);\n                  }\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          return function (_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      };\n      this._register(Event.runAndSubscribe(this.layoutService.onDidAddContainer, function (_ref3) {\n        var container = _ref3.container,\n          disposables = _ref3.disposables;\n        disposables.add(addDisposableListener(container, 'click', handler));\n        disposables.add(addDisposableListener(container, 'keydown', handler));\n      }, {\n        container: this.layoutService.mainContainer,\n        disposables: this._store\n      }));\n    }\n  }, {\n    key: \"writeText\",\n    value: function () {\n      var _writeText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(text, type) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              // Clear resources given we are writing text\n              this.writeResources([]);\n              // With type: only in-memory is supported\n              if (!type) {\n                _context2.next = 4;\n                break;\n              }\n              this.mapTextToType.set(type, text);\n              return _context2.abrupt(\"return\");\n            case 4:\n              if (!this.webKitPendingClipboardWritePromise) {\n                _context2.next = 6;\n                break;\n              }\n              return _context2.abrupt(\"return\", this.webKitPendingClipboardWritePromise.complete(text));\n            case 6:\n              _context2.prev = 6;\n              _context2.next = 9;\n              return navigator.clipboard.writeText(text);\n            case 9:\n              return _context2.abrupt(\"return\", _context2.sent);\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](6);\n              console.error(_context2.t0);\n            case 15:\n              // Fallback to textarea and execCommand solution\n              this.fallbackWriteText(text);\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[6, 12]]);\n      }));\n      function writeText(_x2, _x3) {\n        return _writeText.apply(this, arguments);\n      }\n      return writeText;\n    }()\n  }, {\n    key: \"fallbackWriteText\",\n    value: function fallbackWriteText(text) {\n      var activeDocument = getActiveDocument();\n      var activeElement = activeDocument.activeElement;\n      var textArea = activeDocument.body.appendChild($('textarea', {\n        'aria-hidden': true\n      }));\n      textArea.style.height = '1px';\n      textArea.style.width = '1px';\n      textArea.style.position = 'absolute';\n      textArea.value = text;\n      textArea.focus();\n      textArea.select();\n      activeDocument.execCommand('copy');\n      if (activeElement instanceof HTMLElement) {\n        activeElement.focus();\n      }\n      activeDocument.body.removeChild(textArea);\n    }\n  }, {\n    key: \"readText\",\n    value: function () {\n      var _readText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(type) {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!type) {\n                _context3.next = 2;\n                break;\n              }\n              return _context3.abrupt(\"return\", this.mapTextToType.get(type) || '');\n            case 2:\n              _context3.prev = 2;\n              _context3.next = 5;\n              return navigator.clipboard.readText();\n            case 5:\n              return _context3.abrupt(\"return\", _context3.sent);\n            case 8:\n              _context3.prev = 8;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.error(_context3.t0);\n            case 11:\n              return _context3.abrupt(\"return\", '');\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n      function readText(_x4) {\n        return _readText.apply(this, arguments);\n      }\n      return readText;\n    }()\n  }, {\n    key: \"readFindText\",\n    value: function () {\n      var _readFindText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", this.findText);\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function readFindText() {\n        return _readFindText.apply(this, arguments);\n      }\n      return readFindText;\n    }()\n  }, {\n    key: \"writeFindText\",\n    value: function () {\n      var _writeFindText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(text) {\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              this.findText = text;\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function writeFindText(_x5) {\n        return _writeFindText.apply(this, arguments);\n      }\n      return writeFindText;\n    }()\n  }, {\n    key: \"writeResources\",\n    value: function () {\n      var _writeResources = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(resources) {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(resources.length === 0)) {\n                _context6.next = 4;\n                break;\n              }\n              this.clearResources();\n              _context6.next = 8;\n              break;\n            case 4:\n              this.resources = resources;\n              _context6.next = 7;\n              return this.computeResourcesStateHash();\n            case 7:\n              this.resourcesStateHash = _context6.sent;\n            case 8:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function writeResources(_x6) {\n        return _writeResources.apply(this, arguments);\n      }\n      return writeResources;\n    }()\n  }, {\n    key: \"readResources\",\n    value: function () {\n      var _readResources = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var resourcesStateHash;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return this.computeResourcesStateHash();\n            case 2:\n              resourcesStateHash = _context7.sent;\n              if (this.resourcesStateHash !== resourcesStateHash) {\n                this.clearResources(); // state mismatch, resources no longer valid\n              }\n              return _context7.abrupt(\"return\", this.resources);\n            case 5:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function readResources() {\n        return _readResources.apply(this, arguments);\n      }\n      return readResources;\n    }()\n  }, {\n    key: \"computeResourcesStateHash\",\n    value: function () {\n      var _computeResourcesStateHash = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var clipboardText;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              if (!(this.resources.length === 0)) {\n                _context8.next = 2;\n                break;\n              }\n              return _context8.abrupt(\"return\", undefined);\n            case 2:\n              _context8.next = 4;\n              return this.readText();\n            case 4:\n              clipboardText = _context8.sent;\n              return _context8.abrupt(\"return\", hash(clipboardText.substring(0, BrowserClipboardService_1.MAX_RESOURCE_STATE_SOURCE_LENGTH)));\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function computeResourcesStateHash() {\n        return _computeResourcesStateHash.apply(this, arguments);\n      }\n      return computeResourcesStateHash;\n    }()\n  }, {\n    key: \"clearResources\",\n    value: function clearResources() {\n      this.resources = [];\n      this.resourcesStateHash = undefined;\n    }\n  }]);\n}(Disposable);\nBrowserClipboardService.MAX_RESOURCE_STATE_SOURCE_LENGTH = 1000;\nBrowserClipboardService = BrowserClipboardService_1 = __decorate([__param(0, ILayoutService), __param(1, ILogService)], BrowserClipboardService);\nexport { BrowserClipboardService };","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","BrowserClipboardService_1","isSafari","isWebkitWebView","$","addDisposableListener","getActiveDocument","onDidRegisterWindow","mainWindow","DeferredPromise","Event","hash","Disposable","ILayoutService","ILogService","BrowserClipboardService","_Disposable","layoutService","logService","_this","_classCallCheck","_callSuper","mapTextToType","Map","findText","resources","resourcesStateHash","undefined","installWebKitWriteTextWorkaround","_register","runAndSubscribe","_ref","window","disposables","add","document","clearResources","_store","_inherits","_createClass","value","_this2","handler","currentWritePromise","webKitPendingClipboardWritePromise","isSettled","cancel","navigator","clipboard","write","ClipboardItem","p","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","err","wrap","_callee$","_context","prev","next","Error","name","isRejected","error","stop","_x","apply","onDidAddContainer","_ref3","container","mainContainer","_writeText","_callee2","text","type","_callee2$","_context2","writeResources","set","abrupt","complete","writeText","sent","t0","console","fallbackWriteText","_x2","_x3","activeDocument","activeElement","textArea","body","appendChild","style","height","width","position","focus","select","execCommand","HTMLElement","removeChild","_readText","_callee3","_callee3$","_context3","get","readText","_x4","_readFindText","_callee4","_callee4$","_context4","readFindText","_writeFindText","_callee5","_callee5$","_context5","writeFindText","_x5","_writeResources","_callee6","_callee6$","_context6","computeResourcesStateHash","_x6","_readResources","_callee7","_callee7$","_context7","readResources","_computeResourcesStateHash","_callee8","clipboardText","_callee8$","_context8","substring","MAX_RESOURCE_STATE_SOURCE_LENGTH"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/platform/clipboard/browser/clipboardService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar BrowserClipboardService_1;\nimport { isSafari, isWebkitWebView } from '../../../base/browser/browser.js';\nimport { $, addDisposableListener, getActiveDocument, onDidRegisterWindow } from '../../../base/browser/dom.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { Event } from '../../../base/common/event.js';\nimport { hash } from '../../../base/common/hash.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { ILogService } from '../../log/common/log.js';\nlet BrowserClipboardService = BrowserClipboardService_1 = class BrowserClipboardService extends Disposable {\n    constructor(layoutService, logService) {\n        super();\n        this.layoutService = layoutService;\n        this.logService = logService;\n        this.mapTextToType = new Map(); // unsupported in web (only in-memory)\n        this.findText = ''; // unsupported in web (only in-memory)\n        this.resources = []; // unsupported in web (only in-memory)\n        this.resourcesStateHash = undefined;\n        if (isSafari || isWebkitWebView) {\n            this.installWebKitWriteTextWorkaround();\n        }\n        // Keep track of copy operations to reset our set of\n        // copied resources: since we keep resources in memory\n        // and not in the clipboard, we have to invalidate\n        // that state when the user copies other data.\n        this._register(Event.runAndSubscribe(onDidRegisterWindow, ({ window, disposables }) => {\n            disposables.add(addDisposableListener(window.document, 'copy', () => this.clearResources()));\n        }, { window: mainWindow, disposables: this._store }));\n    }\n    // In Safari, it has the following note:\n    //\n    // \"The request to write to the clipboard must be triggered during a user gesture.\n    // A call to clipboard.write or clipboard.writeText outside the scope of a user\n    // gesture(such as \"click\" or \"touch\" event handlers) will result in the immediate\n    // rejection of the promise returned by the API call.\"\n    // From: https://webkit.org/blog/10855/async-clipboard-api/\n    //\n    // Since extensions run in a web worker, and handle gestures in an asynchronous way,\n    // they are not classified by Safari as \"in response to a user gesture\" and will reject.\n    //\n    // This function sets up some handlers to work around that behavior.\n    installWebKitWriteTextWorkaround() {\n        const handler = () => {\n            const currentWritePromise = new DeferredPromise();\n            // Cancel the previous promise since we just created a new one in response to this new event\n            if (this.webKitPendingClipboardWritePromise && !this.webKitPendingClipboardWritePromise.isSettled) {\n                this.webKitPendingClipboardWritePromise.cancel();\n            }\n            this.webKitPendingClipboardWritePromise = currentWritePromise;\n            // The ctor of ClipboardItem allows you to pass in a promise that will resolve to a string.\n            // This allows us to pass in a Promise that will either be cancelled by another event or\n            // resolved with the contents of the first call to this.writeText.\n            // see https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem#parameters\n            navigator.clipboard.write([new ClipboardItem({\n                    'text/plain': currentWritePromise.p,\n                })]).catch(async (err) => {\n                if (!(err instanceof Error) || err.name !== 'NotAllowedError' || !currentWritePromise.isRejected) {\n                    this.logService.error(err);\n                }\n            });\n        };\n        this._register(Event.runAndSubscribe(this.layoutService.onDidAddContainer, ({ container, disposables }) => {\n            disposables.add(addDisposableListener(container, 'click', handler));\n            disposables.add(addDisposableListener(container, 'keydown', handler));\n        }, { container: this.layoutService.mainContainer, disposables: this._store }));\n    }\n    async writeText(text, type) {\n        // Clear resources given we are writing text\n        this.writeResources([]);\n        // With type: only in-memory is supported\n        if (type) {\n            this.mapTextToType.set(type, text);\n            return;\n        }\n        if (this.webKitPendingClipboardWritePromise) {\n            // For Safari, we complete this Promise which allows the call to `navigator.clipboard.write()`\n            // above to resolve and successfully copy to the clipboard. If we let this continue, Safari\n            // would throw an error because this call stack doesn't appear to originate from a user gesture.\n            return this.webKitPendingClipboardWritePromise.complete(text);\n        }\n        // Guard access to navigator.clipboard with try/catch\n        // as we have seen DOMExceptions in certain browsers\n        // due to security policies.\n        try {\n            return await navigator.clipboard.writeText(text);\n        }\n        catch (error) {\n            console.error(error);\n        }\n        // Fallback to textarea and execCommand solution\n        this.fallbackWriteText(text);\n    }\n    fallbackWriteText(text) {\n        const activeDocument = getActiveDocument();\n        const activeElement = activeDocument.activeElement;\n        const textArea = activeDocument.body.appendChild($('textarea', { 'aria-hidden': true }));\n        textArea.style.height = '1px';\n        textArea.style.width = '1px';\n        textArea.style.position = 'absolute';\n        textArea.value = text;\n        textArea.focus();\n        textArea.select();\n        activeDocument.execCommand('copy');\n        if (activeElement instanceof HTMLElement) {\n            activeElement.focus();\n        }\n        activeDocument.body.removeChild(textArea);\n    }\n    async readText(type) {\n        // With type: only in-memory is supported\n        if (type) {\n            return this.mapTextToType.get(type) || '';\n        }\n        // Guard access to navigator.clipboard with try/catch\n        // as we have seen DOMExceptions in certain browsers\n        // due to security policies.\n        try {\n            return await navigator.clipboard.readText();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return '';\n    }\n    async readFindText() {\n        return this.findText;\n    }\n    async writeFindText(text) {\n        this.findText = text;\n    }\n    async writeResources(resources) {\n        if (resources.length === 0) {\n            this.clearResources();\n        }\n        else {\n            this.resources = resources;\n            this.resourcesStateHash = await this.computeResourcesStateHash();\n        }\n    }\n    async readResources() {\n        const resourcesStateHash = await this.computeResourcesStateHash();\n        if (this.resourcesStateHash !== resourcesStateHash) {\n            this.clearResources(); // state mismatch, resources no longer valid\n        }\n        return this.resources;\n    }\n    async computeResourcesStateHash() {\n        if (this.resources.length === 0) {\n            return undefined; // no resources, no hash needed\n        }\n        // Resources clipboard is managed in-memory only and thus\n        // fails to invalidate when clipboard data is changing.\n        // As such, we compute the hash of the current clipboard\n        // and use that to later validate the resources clipboard.\n        const clipboardText = await this.readText();\n        return hash(clipboardText.substring(0, BrowserClipboardService_1.MAX_RESOURCE_STATE_SOURCE_LENGTH));\n    }\n    clearResources() {\n        this.resources = [];\n        this.resourcesStateHash = undefined;\n    }\n};\nBrowserClipboardService.MAX_RESOURCE_STATE_SOURCE_LENGTH = 1000;\nBrowserClipboardService = BrowserClipboardService_1 = __decorate([\n    __param(0, ILayoutService),\n    __param(1, ILogService)\n], BrowserClipboardService);\nexport { BrowserClipboardService };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}