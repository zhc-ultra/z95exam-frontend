{"ast":null,"code":"import _slicedToArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar CodeEditorWidget_1;\nimport '../../services/markerDecorations.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, createEventDeliveryQueue } from '../../../../base/common/event.js';\nimport { Disposable, dispose as _dispose } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport './editor.css';\nimport { applyFontInfo as _applyFontInfo } from '../../config/domFontInfo.js';\nimport { EditorConfiguration } from '../../config/editorConfiguration.js';\nimport { TabFocus } from '../../config/tabFocus.js';\nimport { EditorExtensionsRegistry } from '../../editorExtensions.js';\nimport { ICodeEditorService } from '../../services/codeEditorService.js';\nimport { View } from '../../view.js';\nimport { DOMLineBreaksComputerFactory } from '../../view/domLineBreaksComputer.js';\nimport { ViewUserInputEvents } from '../../view/viewUserInputEvents.js';\nimport { CodeEditorContributions } from './codeEditorContributions.js';\nimport { filterValidationDecorations } from '../../../common/config/editorOptions.js';\nimport { CursorColumns } from '../../../common/core/cursorColumns.js';\nimport { editorUnnecessaryCodeOpacity } from '../../../common/core/editorColorRegistry.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { InternalEditorAction } from '../../../common/editorAction.js';\nimport * as editorCommon from '../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { MonospaceLineBreaksComputerFactory } from '../../../common/viewModel/monospaceLineBreaksComputer.js';\nimport { ViewModel } from '../../../common/viewModel/viewModelImpl.js';\nimport * as nls from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { editorErrorForeground, editorHintForeground, editorInfoForeground, editorWarningForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nvar CodeEditorWidget = CodeEditorWidget_1 = /*#__PURE__*/function (_Disposable) {\n  function CodeEditorWidget(domElement, _options, codeEditorWidgetOptions, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService) {\n    var _this;\n    _classCallCheck(this, CodeEditorWidget);\n    var _a;\n    _this = _callSuper(this, CodeEditorWidget);\n    _this.languageConfigurationService = languageConfigurationService;\n    //#region Eventing\n    _this._deliveryQueue = createEventDeliveryQueue();\n    _this._contributions = _this._register(new CodeEditorContributions());\n    _this._onDidDispose = _this._register(new Emitter());\n    _this.onDidDispose = _this._onDidDispose.event;\n    _this._onDidChangeModelContent = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelContent = _this._onDidChangeModelContent.event;\n    _this._onDidChangeModelLanguage = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelLanguage = _this._onDidChangeModelLanguage.event;\n    _this._onDidChangeModelLanguageConfiguration = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelLanguageConfiguration = _this._onDidChangeModelLanguageConfiguration.event;\n    _this._onDidChangeModelOptions = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelOptions = _this._onDidChangeModelOptions.event;\n    _this._onDidChangeModelDecorations = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelDecorations = _this._onDidChangeModelDecorations.event;\n    _this._onDidChangeModelTokens = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModelTokens = _this._onDidChangeModelTokens.event;\n    _this._onDidChangeConfiguration = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeConfiguration = _this._onDidChangeConfiguration.event;\n    _this._onWillChangeModel = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onWillChangeModel = _this._onWillChangeModel.event;\n    _this._onDidChangeModel = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeModel = _this._onDidChangeModel.event;\n    _this._onDidChangeCursorPosition = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeCursorPosition = _this._onDidChangeCursorPosition.event;\n    _this._onDidChangeCursorSelection = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeCursorSelection = _this._onDidChangeCursorSelection.event;\n    _this._onDidAttemptReadOnlyEdit = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDidAttemptReadOnlyEdit = _this._onDidAttemptReadOnlyEdit.event;\n    _this._onDidLayoutChange = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidLayoutChange = _this._onDidLayoutChange.event;\n    _this._editorTextFocus = _this._register(new BooleanEventEmitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidFocusEditorText = _this._editorTextFocus.onDidChangeToTrue;\n    _this.onDidBlurEditorText = _this._editorTextFocus.onDidChangeToFalse;\n    _this._editorWidgetFocus = _this._register(new BooleanEventEmitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidFocusEditorWidget = _this._editorWidgetFocus.onDidChangeToTrue;\n    _this.onDidBlurEditorWidget = _this._editorWidgetFocus.onDidChangeToFalse;\n    _this._onWillType = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onWillType = _this._onWillType.event;\n    _this._onDidType = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDidType = _this._onDidType.event;\n    _this._onDidCompositionStart = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDidCompositionStart = _this._onDidCompositionStart.event;\n    _this._onDidCompositionEnd = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDidCompositionEnd = _this._onDidCompositionEnd.event;\n    _this._onDidPaste = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDidPaste = _this._onDidPaste.event;\n    _this._onMouseUp = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseUp = _this._onMouseUp.event;\n    _this._onMouseDown = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseDown = _this._onMouseDown.event;\n    _this._onMouseDrag = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseDrag = _this._onMouseDrag.event;\n    _this._onMouseDrop = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseDrop = _this._onMouseDrop.event;\n    _this._onMouseDropCanceled = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseDropCanceled = _this._onMouseDropCanceled.event;\n    _this._onDropIntoEditor = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onDropIntoEditor = _this._onDropIntoEditor.event;\n    _this._onContextMenu = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onContextMenu = _this._onContextMenu.event;\n    _this._onMouseMove = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseMove = _this._onMouseMove.event;\n    _this._onMouseLeave = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseLeave = _this._onMouseLeave.event;\n    _this._onMouseWheel = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onMouseWheel = _this._onMouseWheel.event;\n    _this._onKeyUp = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onKeyUp = _this._onKeyUp.event;\n    _this._onKeyDown = _this._register(new InteractionEmitter(_this._contributions, _this._deliveryQueue));\n    _this.onKeyDown = _this._onKeyDown.event;\n    _this._onDidContentSizeChange = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidContentSizeChange = _this._onDidContentSizeChange.event;\n    _this._onDidScrollChange = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidScrollChange = _this._onDidScrollChange.event;\n    _this._onDidChangeViewZones = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeViewZones = _this._onDidChangeViewZones.event;\n    _this._onDidChangeHiddenAreas = _this._register(new Emitter({\n      deliveryQueue: _this._deliveryQueue\n    }));\n    _this.onDidChangeHiddenAreas = _this._onDidChangeHiddenAreas.event;\n    _this._actions = new Map();\n    _this._bannerDomNode = null;\n    _this._dropIntoEditorDecorations = _this.createDecorationsCollection();\n    codeEditorService.willCreateCodeEditor();\n    var options = _objectSpread({}, _options);\n    _this._domElement = domElement;\n    _this._overflowWidgetsDomNode = options.overflowWidgetsDomNode;\n    delete options.overflowWidgetsDomNode;\n    _this._id = ++EDITOR_ID;\n    _this._decorationTypeKeysToIds = {};\n    _this._decorationTypeSubtypes = {};\n    _this._telemetryData = codeEditorWidgetOptions.telemetryData;\n    _this._configuration = _this._register(_this._createConfiguration(codeEditorWidgetOptions.isSimpleWidget || false, options, accessibilityService));\n    _this._register(_this._configuration.onDidChange(function (e) {\n      _this._onDidChangeConfiguration.fire(e);\n      var options = _this._configuration.options;\n      if (e.hasChanged(145 /* EditorOption.layoutInfo */)) {\n        var layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n        _this._onDidLayoutChange.fire(layoutInfo);\n      }\n    }));\n    _this._contextKeyService = _this._register(contextKeyService.createScoped(_this._domElement));\n    _this._notificationService = notificationService;\n    _this._codeEditorService = codeEditorService;\n    _this._commandService = commandService;\n    _this._themeService = themeService;\n    _this._register(new EditorContextKeysManager(_this, _this._contextKeyService));\n    _this._register(new EditorModeContext(_this, _this._contextKeyService, languageFeaturesService));\n    _this._instantiationService = instantiationService.createChild(new ServiceCollection([IContextKeyService, _this._contextKeyService]));\n    _this._modelData = null;\n    _this._focusTracker = new CodeEditorWidgetFocusTracker(domElement, _this._overflowWidgetsDomNode);\n    _this._register(_this._focusTracker.onChange(function () {\n      _this._editorWidgetFocus.setValue(_this._focusTracker.hasFocus());\n    }));\n    _this._contentWidgets = {};\n    _this._overlayWidgets = {};\n    _this._glyphMarginWidgets = {};\n    var contributions;\n    if (Array.isArray(codeEditorWidgetOptions.contributions)) {\n      contributions = codeEditorWidgetOptions.contributions;\n    } else {\n      contributions = EditorExtensionsRegistry.getEditorContributions();\n    }\n    _this._contributions.initialize(_this, contributions, _this._instantiationService);\n    var _iterator = _createForOfIteratorHelper(EditorExtensionsRegistry.getEditorActions()),\n      _step;\n    try {\n      var _loop = function _loop() {\n        var action = _step.value;\n        if (_this._actions.has(action.id)) {\n          onUnexpectedError(new Error(\"Cannot have two actions with the same id \".concat(action.id)));\n          return 1; // continue\n        }\n        var internalAction = new InternalEditorAction(action.id, action.label, action.alias, action.metadata, (_a = action.precondition) !== null && _a !== void 0 ? _a : undefined, function (args) {\n          return _this._instantiationService.invokeFunction(function (accessor) {\n            return Promise.resolve(action.runEditorCommand(accessor, _this, args));\n          });\n        }, _this._contextKeyService);\n        _this._actions.set(internalAction.id, internalAction);\n      };\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        if (_loop()) continue;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    var isDropIntoEnabled = function isDropIntoEnabled() {\n      return !_this._configuration.options.get(91 /* EditorOption.readOnly */) && _this._configuration.options.get(36 /* EditorOption.dropIntoEditor */).enabled;\n    };\n    _this._register(new dom.DragAndDropObserver(_this._domElement, {\n      onDragOver: function onDragOver(e) {\n        if (!isDropIntoEnabled()) {\n          return;\n        }\n        var target = _this.getTargetAtClientPoint(e.clientX, e.clientY);\n        if (target === null || target === void 0 ? void 0 : target.position) {\n          _this.showDropIndicatorAt(target.position);\n        }\n      },\n      onDrop: function () {\n        var _onDrop = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n          var target;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (isDropIntoEnabled()) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                _this.removeDropIndicator();\n                if (e.dataTransfer) {\n                  _context.next = 5;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 5:\n                target = _this.getTargetAtClientPoint(e.clientX, e.clientY);\n                if (target === null || target === void 0 ? void 0 : target.position) {\n                  _this._onDropIntoEditor.fire({\n                    position: target.position,\n                    event: e\n                  });\n                }\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function onDrop(_x) {\n          return _onDrop.apply(this, arguments);\n        }\n        return onDrop;\n      }(),\n      onDragLeave: function onDragLeave() {\n        _this.removeDropIndicator();\n      },\n      onDragEnd: function onDragEnd() {\n        _this.removeDropIndicator();\n      }\n    }));\n    _this._codeEditorService.addCodeEditor(_this);\n    return _this;\n  }\n  _inherits(CodeEditorWidget, _Disposable);\n  return _createClass(CodeEditorWidget, [{\n    key: \"isSimpleWidget\",\n    get:\n    //#endregion\n    function get() {\n      return this._configuration.isSimpleWidget;\n    }\n  }, {\n    key: \"writeScreenReaderContent\",\n    value: function writeScreenReaderContent(reason) {\n      var _a;\n      (_a = this._modelData) === null || _a === void 0 ? void 0 : _a.view.writeScreenReaderContent(reason);\n    }\n  }, {\n    key: \"_createConfiguration\",\n    value: function _createConfiguration(isSimpleWidget, options, accessibilityService) {\n      return new EditorConfiguration(isSimpleWidget, options, this._domElement, accessibilityService);\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.getEditorType() + ':' + this._id;\n    }\n  }, {\n    key: \"getEditorType\",\n    value: function getEditorType() {\n      return editorCommon.EditorType.ICodeEditor;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this._codeEditorService.removeCodeEditor(this);\n      this._focusTracker.dispose();\n      this._actions.clear();\n      this._contentWidgets = {};\n      this._overlayWidgets = {};\n      this._removeDecorationTypes();\n      this._postDetachModelCleanup(this._detachModel());\n      this._onDidDispose.fire();\n      _get(_getPrototypeOf(CodeEditorWidget.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"invokeWithinContext\",\n    value: function invokeWithinContext(fn) {\n      return this._instantiationService.invokeFunction(fn);\n    }\n  }, {\n    key: \"updateOptions\",\n    value: function updateOptions(newOptions) {\n      this._configuration.updateOptions(newOptions || {});\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions() {\n      return this._configuration.options;\n    }\n  }, {\n    key: \"getOption\",\n    value: function getOption(id) {\n      return this._configuration.options.get(id);\n    }\n  }, {\n    key: \"getRawOptions\",\n    value: function getRawOptions() {\n      return this._configuration.getRawOptions();\n    }\n  }, {\n    key: \"getOverflowWidgetsDomNode\",\n    value: function getOverflowWidgetsDomNode() {\n      return this._overflowWidgetsDomNode;\n    }\n  }, {\n    key: \"getConfiguredWordAtPosition\",\n    value: function getConfiguredWordAtPosition(position) {\n      if (!this._modelData) {\n        return null;\n      }\n      return WordOperations.getWordAtPosition(this._modelData.model, this._configuration.options.get(131 /* EditorOption.wordSeparators */), this._configuration.options.get(130 /* EditorOption.wordSegmenterLocales */), position);\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (!this._modelData) {\n        return '';\n      }\n      var preserveBOM = options && options.preserveBOM ? true : false;\n      var eolPreference = 0 /* EndOfLinePreference.TextDefined */;\n      if (options && options.lineEnding && options.lineEnding === '\\n') {\n        eolPreference = 1 /* EndOfLinePreference.LF */;\n      } else if (options && options.lineEnding && options.lineEnding === '\\r\\n') {\n        eolPreference = 2 /* EndOfLinePreference.CRLF */;\n      }\n      return this._modelData.model.getValue(eolPreference, preserveBOM);\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.model.setValue(newValue);\n    }\n  }, {\n    key: \"getModel\",\n    value: function getModel() {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.model;\n    }\n  }, {\n    key: \"setModel\",\n    value: function setModel() {\n      var _model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var _a;\n      var model = _model;\n      if (this._modelData === null && model === null) {\n        // Current model is the new model\n        return;\n      }\n      if (this._modelData && this._modelData.model === model) {\n        // Current model is the new model\n        return;\n      }\n      var e = {\n        oldModelUrl: ((_a = this._modelData) === null || _a === void 0 ? void 0 : _a.model.uri) || null,\n        newModelUrl: (model === null || model === void 0 ? void 0 : model.uri) || null\n      };\n      this._onWillChangeModel.fire(e);\n      var hasTextFocus = this.hasTextFocus();\n      var detachedModel = this._detachModel();\n      this._attachModel(model);\n      if (hasTextFocus && this.hasModel()) {\n        this.focus();\n      }\n      this._removeDecorationTypes();\n      this._onDidChangeModel.fire(e);\n      this._postDetachModelCleanup(detachedModel);\n      this._contributionsDisposable = this._contributions.onAfterModelAttached();\n    }\n  }, {\n    key: \"_removeDecorationTypes\",\n    value: function _removeDecorationTypes() {\n      this._decorationTypeKeysToIds = {};\n      if (this._decorationTypeSubtypes) {\n        for (var decorationType in this._decorationTypeSubtypes) {\n          var subTypes = this._decorationTypeSubtypes[decorationType];\n          for (var subType in subTypes) {\n            this._removeDecorationType(decorationType + '-' + subType);\n          }\n        }\n        this._decorationTypeSubtypes = {};\n      }\n    }\n  }, {\n    key: \"getVisibleRanges\",\n    value: function getVisibleRanges() {\n      if (!this._modelData) {\n        return [];\n      }\n      return this._modelData.viewModel.getVisibleRanges();\n    }\n  }, {\n    key: \"getVisibleRangesPlusViewportAboveBelow\",\n    value: function getVisibleRangesPlusViewportAboveBelow() {\n      if (!this._modelData) {\n        return [];\n      }\n      return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow();\n    }\n  }, {\n    key: \"getWhitespaces\",\n    value: function getWhitespaces() {\n      if (!this._modelData) {\n        return [];\n      }\n      return this._modelData.viewModel.viewLayout.getWhitespaces();\n    }\n  }, {\n    key: \"getTopForLineNumber\",\n    value: function getTopForLineNumber(lineNumber) {\n      var includeViewZones = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this._modelData) {\n        return -1;\n      }\n      return CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, lineNumber, 1, includeViewZones);\n    }\n  }, {\n    key: \"getTopForPosition\",\n    value: function getTopForPosition(lineNumber, column) {\n      if (!this._modelData) {\n        return -1;\n      }\n      return CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, lineNumber, column, false);\n    }\n  }, {\n    key: \"getBottomForLineNumber\",\n    value: function getBottomForLineNumber(lineNumber) {\n      var includeViewZones = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (!this._modelData) {\n        return -1;\n      }\n      return CodeEditorWidget_1._getVerticalOffsetAfterPosition(this._modelData, lineNumber, 1, includeViewZones);\n    }\n  }, {\n    key: \"setHiddenAreas\",\n    value: function setHiddenAreas(ranges, source) {\n      var _a;\n      (_a = this._modelData) === null || _a === void 0 ? void 0 : _a.viewModel.setHiddenAreas(ranges.map(function (r) {\n        return Range.lift(r);\n      }), source);\n    }\n  }, {\n    key: \"getVisibleColumnFromPosition\",\n    value: function getVisibleColumnFromPosition(rawPosition) {\n      if (!this._modelData) {\n        return rawPosition.column;\n      }\n      var position = this._modelData.model.validatePosition(rawPosition);\n      var tabSize = this._modelData.model.getOptions().tabSize;\n      return CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(position.lineNumber), position.column, tabSize) + 1;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.viewModel.getPosition();\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(position) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'api';\n      if (!this._modelData) {\n        return;\n      }\n      if (!Position.isIPosition(position)) {\n        throw new Error('Invalid arguments');\n      }\n      this._modelData.viewModel.setSelections(source, [{\n        selectionStartLineNumber: position.lineNumber,\n        selectionStartColumn: position.column,\n        positionLineNumber: position.lineNumber,\n        positionColumn: position.column\n      }]);\n    }\n  }, {\n    key: \"_sendRevealRange\",\n    value: function _sendRevealRange(modelRange, verticalType, revealHorizontal, scrollType) {\n      if (!this._modelData) {\n        return;\n      }\n      if (!Range.isIRange(modelRange)) {\n        throw new Error('Invalid arguments');\n      }\n      var validatedModelRange = this._modelData.model.validateRange(modelRange);\n      var viewRange = this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(validatedModelRange);\n      this._modelData.viewModel.revealRange('api', revealHorizontal, viewRange, verticalType, scrollType);\n    }\n  }, {\n    key: \"revealLine\",\n    value: function revealLine(lineNumber) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealLine(lineNumber, 0 /* VerticalRevealType.Simple */, scrollType);\n    }\n  }, {\n    key: \"revealLineInCenter\",\n    value: function revealLineInCenter(lineNumber) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealLine(lineNumber, 1 /* VerticalRevealType.Center */, scrollType);\n    }\n  }, {\n    key: \"revealLineInCenterIfOutsideViewport\",\n    value: function revealLineInCenterIfOutsideViewport(lineNumber) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealLine(lineNumber, 2 /* VerticalRevealType.CenterIfOutsideViewport */, scrollType);\n    }\n  }, {\n    key: \"revealLineNearTop\",\n    value: function revealLineNearTop(lineNumber) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealLine(lineNumber, 5 /* VerticalRevealType.NearTop */, scrollType);\n    }\n  }, {\n    key: \"_revealLine\",\n    value: function _revealLine(lineNumber, revealType, scrollType) {\n      if (typeof lineNumber !== 'number') {\n        throw new Error('Invalid arguments');\n      }\n      this._sendRevealRange(new Range(lineNumber, 1, lineNumber, 1), revealType, false, scrollType);\n    }\n  }, {\n    key: \"revealPosition\",\n    value: function revealPosition(position) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealPosition(position, 0 /* VerticalRevealType.Simple */, true, scrollType);\n    }\n  }, {\n    key: \"revealPositionInCenter\",\n    value: function revealPositionInCenter(position) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealPosition(position, 1 /* VerticalRevealType.Center */, true, scrollType);\n    }\n  }, {\n    key: \"revealPositionInCenterIfOutsideViewport\",\n    value: function revealPositionInCenterIfOutsideViewport(position) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealPosition(position, 2 /* VerticalRevealType.CenterIfOutsideViewport */, true, scrollType);\n    }\n  }, {\n    key: \"revealPositionNearTop\",\n    value: function revealPositionNearTop(position) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealPosition(position, 5 /* VerticalRevealType.NearTop */, true, scrollType);\n    }\n  }, {\n    key: \"_revealPosition\",\n    value: function _revealPosition(position, verticalType, revealHorizontal, scrollType) {\n      if (!Position.isIPosition(position)) {\n        throw new Error('Invalid arguments');\n      }\n      this._sendRevealRange(new Range(position.lineNumber, position.column, position.lineNumber, position.column), verticalType, revealHorizontal, scrollType);\n    }\n  }, {\n    key: \"getSelection\",\n    value: function getSelection() {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.viewModel.getSelection();\n    }\n  }, {\n    key: \"getSelections\",\n    value: function getSelections() {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.viewModel.getSelections();\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(something) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'api';\n      var isSelection = Selection.isISelection(something);\n      var isRange = Range.isIRange(something);\n      if (!isSelection && !isRange) {\n        throw new Error('Invalid arguments');\n      }\n      if (isSelection) {\n        this._setSelectionImpl(something, source);\n      } else if (isRange) {\n        // act as if it was an IRange\n        var selection = {\n          selectionStartLineNumber: something.startLineNumber,\n          selectionStartColumn: something.startColumn,\n          positionLineNumber: something.endLineNumber,\n          positionColumn: something.endColumn\n        };\n        this._setSelectionImpl(selection, source);\n      }\n    }\n  }, {\n    key: \"_setSelectionImpl\",\n    value: function _setSelectionImpl(sel, source) {\n      if (!this._modelData) {\n        return;\n      }\n      var selection = new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);\n      this._modelData.viewModel.setSelections(source, [selection]);\n    }\n  }, {\n    key: \"revealLines\",\n    value: function revealLines(startLineNumber, endLineNumber) {\n      var scrollType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this._revealLines(startLineNumber, endLineNumber, 0 /* VerticalRevealType.Simple */, scrollType);\n    }\n  }, {\n    key: \"revealLinesInCenter\",\n    value: function revealLinesInCenter(startLineNumber, endLineNumber) {\n      var scrollType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this._revealLines(startLineNumber, endLineNumber, 1 /* VerticalRevealType.Center */, scrollType);\n    }\n  }, {\n    key: \"revealLinesInCenterIfOutsideViewport\",\n    value: function revealLinesInCenterIfOutsideViewport(startLineNumber, endLineNumber) {\n      var scrollType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this._revealLines(startLineNumber, endLineNumber, 2 /* VerticalRevealType.CenterIfOutsideViewport */, scrollType);\n    }\n  }, {\n    key: \"revealLinesNearTop\",\n    value: function revealLinesNearTop(startLineNumber, endLineNumber) {\n      var scrollType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      this._revealLines(startLineNumber, endLineNumber, 5 /* VerticalRevealType.NearTop */, scrollType);\n    }\n  }, {\n    key: \"_revealLines\",\n    value: function _revealLines(startLineNumber, endLineNumber, verticalType, scrollType) {\n      if (typeof startLineNumber !== 'number' || typeof endLineNumber !== 'number') {\n        throw new Error('Invalid arguments');\n      }\n      this._sendRevealRange(new Range(startLineNumber, 1, endLineNumber, 1), verticalType, false, scrollType);\n    }\n  }, {\n    key: \"revealRange\",\n    value: function revealRange(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var revealVerticalInCenter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var revealHorizontal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      this._revealRange(range, revealVerticalInCenter ? 1 /* VerticalRevealType.Center */ : 0 /* VerticalRevealType.Simple */, revealHorizontal, scrollType);\n    }\n  }, {\n    key: \"revealRangeInCenter\",\n    value: function revealRangeInCenter(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealRange(range, 1 /* VerticalRevealType.Center */, true, scrollType);\n    }\n  }, {\n    key: \"revealRangeInCenterIfOutsideViewport\",\n    value: function revealRangeInCenterIfOutsideViewport(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealRange(range, 2 /* VerticalRevealType.CenterIfOutsideViewport */, true, scrollType);\n    }\n  }, {\n    key: \"revealRangeNearTop\",\n    value: function revealRangeNearTop(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealRange(range, 5 /* VerticalRevealType.NearTop */, true, scrollType);\n    }\n  }, {\n    key: \"revealRangeNearTopIfOutsideViewport\",\n    value: function revealRangeNearTopIfOutsideViewport(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealRange(range, 6 /* VerticalRevealType.NearTopIfOutsideViewport */, true, scrollType);\n    }\n  }, {\n    key: \"revealRangeAtTop\",\n    value: function revealRangeAtTop(range) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this._revealRange(range, 3 /* VerticalRevealType.Top */, true, scrollType);\n    }\n  }, {\n    key: \"_revealRange\",\n    value: function _revealRange(range, verticalType, revealHorizontal, scrollType) {\n      if (!Range.isIRange(range)) {\n        throw new Error('Invalid arguments');\n      }\n      this._sendRevealRange(Range.lift(range), verticalType, revealHorizontal, scrollType);\n    }\n  }, {\n    key: \"setSelections\",\n    value: function setSelections(ranges) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'api';\n      var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      if (!this._modelData) {\n        return;\n      }\n      if (!ranges || ranges.length === 0) {\n        throw new Error('Invalid arguments');\n      }\n      for (var i = 0, len = ranges.length; i < len; i++) {\n        if (!Selection.isISelection(ranges[i])) {\n          throw new Error('Invalid arguments');\n        }\n      }\n      this._modelData.viewModel.setSelections(source, ranges, reason);\n    }\n  }, {\n    key: \"getContentWidth\",\n    value: function getContentWidth() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getContentWidth();\n    }\n  }, {\n    key: \"getScrollWidth\",\n    value: function getScrollWidth() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getScrollWidth();\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getCurrentScrollLeft();\n    }\n  }, {\n    key: \"getContentHeight\",\n    value: function getContentHeight() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getContentHeight();\n    }\n  }, {\n    key: \"getScrollHeight\",\n    value: function getScrollHeight() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getScrollHeight();\n    }\n  }, {\n    key: \"getScrollTop\",\n    value: function getScrollTop() {\n      if (!this._modelData) {\n        return -1;\n      }\n      return this._modelData.viewModel.viewLayout.getCurrentScrollTop();\n    }\n  }, {\n    key: \"setScrollLeft\",\n    value: function setScrollLeft(newScrollLeft) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (!this._modelData) {\n        return;\n      }\n      if (typeof newScrollLeft !== 'number') {\n        throw new Error('Invalid arguments');\n      }\n      this._modelData.viewModel.viewLayout.setScrollPosition({\n        scrollLeft: newScrollLeft\n      }, scrollType);\n    }\n  }, {\n    key: \"setScrollTop\",\n    value: function setScrollTop(newScrollTop) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (!this._modelData) {\n        return;\n      }\n      if (typeof newScrollTop !== 'number') {\n        throw new Error('Invalid arguments');\n      }\n      this._modelData.viewModel.viewLayout.setScrollPosition({\n        scrollTop: newScrollTop\n      }, scrollType);\n    }\n  }, {\n    key: \"setScrollPosition\",\n    value: function setScrollPosition(position) {\n      var scrollType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.viewLayout.setScrollPosition(position, scrollType);\n    }\n  }, {\n    key: \"hasPendingScrollAnimation\",\n    value: function hasPendingScrollAnimation() {\n      if (!this._modelData) {\n        return false;\n      }\n      return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation();\n    }\n  }, {\n    key: \"saveViewState\",\n    value: function saveViewState() {\n      if (!this._modelData) {\n        return null;\n      }\n      var contributionsState = this._contributions.saveViewState();\n      var cursorState = this._modelData.viewModel.saveCursorState();\n      var viewState = this._modelData.viewModel.saveState();\n      return {\n        cursorState: cursorState,\n        viewState: viewState,\n        contributionsState: contributionsState\n      };\n    }\n  }, {\n    key: \"restoreViewState\",\n    value: function restoreViewState(s) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      var codeEditorState = s;\n      if (codeEditorState && codeEditorState.cursorState && codeEditorState.viewState) {\n        var cursorState = codeEditorState.cursorState;\n        if (Array.isArray(cursorState)) {\n          if (cursorState.length > 0) {\n            this._modelData.viewModel.restoreCursorState(cursorState);\n          }\n        } else {\n          // Backwards compatibility\n          this._modelData.viewModel.restoreCursorState([cursorState]);\n        }\n        this._contributions.restoreViewState(codeEditorState.contributionsState || {});\n        var reducedState = this._modelData.viewModel.reduceRestoreState(codeEditorState.viewState);\n        this._modelData.view.restoreState(reducedState);\n      }\n    }\n  }, {\n    key: \"handleInitialized\",\n    value: function handleInitialized() {\n      var _a;\n      (_a = this._getViewModel()) === null || _a === void 0 ? void 0 : _a.visibleLinesStabilized();\n    }\n  }, {\n    key: \"getContribution\",\n    value: function getContribution(id) {\n      return this._contributions.get(id);\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      return Array.from(this._actions.values());\n    }\n  }, {\n    key: \"getSupportedActions\",\n    value: function getSupportedActions() {\n      var result = this.getActions();\n      result = result.filter(function (action) {\n        return action.isSupported();\n      });\n      return result;\n    }\n  }, {\n    key: \"getAction\",\n    value: function getAction(id) {\n      return this._actions.get(id) || null;\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(source, handlerId, payload) {\n      payload = payload || {};\n      switch (handlerId) {\n        case \"compositionStart\" /* editorCommon.Handler.CompositionStart */:\n          this._startComposition();\n          return;\n        case \"compositionEnd\" /* editorCommon.Handler.CompositionEnd */:\n          this._endComposition(source);\n          return;\n        case \"type\" /* editorCommon.Handler.Type */:\n          {\n            var args = payload;\n            this._type(source, args.text || '');\n            return;\n          }\n        case \"replacePreviousChar\" /* editorCommon.Handler.ReplacePreviousChar */:\n          {\n            var _args2 = payload;\n            this._compositionType(source, _args2.text || '', _args2.replaceCharCnt || 0, 0, 0);\n            return;\n          }\n        case \"compositionType\" /* editorCommon.Handler.CompositionType */:\n          {\n            var _args3 = payload;\n            this._compositionType(source, _args3.text || '', _args3.replacePrevCharCnt || 0, _args3.replaceNextCharCnt || 0, _args3.positionDelta || 0);\n            return;\n          }\n        case \"paste\" /* editorCommon.Handler.Paste */:\n          {\n            var _args4 = payload;\n            this._paste(source, _args4.text || '', _args4.pasteOnNewLine || false, _args4.multicursorText || null, _args4.mode || null, _args4.clipboardEvent);\n            return;\n          }\n        case \"cut\" /* editorCommon.Handler.Cut */:\n          this._cut(source);\n          return;\n      }\n      var action = this.getAction(handlerId);\n      if (action) {\n        Promise.resolve(action.run(payload)).then(undefined, onUnexpectedError);\n        return;\n      }\n      if (!this._modelData) {\n        return;\n      }\n      if (this._triggerEditorCommand(source, handlerId, payload)) {\n        return;\n      }\n      this._triggerCommand(handlerId, payload);\n    }\n  }, {\n    key: \"_triggerCommand\",\n    value: function _triggerCommand(handlerId, payload) {\n      this._commandService.executeCommand(handlerId, payload);\n    }\n  }, {\n    key: \"_startComposition\",\n    value: function _startComposition() {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.startComposition();\n      this._onDidCompositionStart.fire();\n    }\n  }, {\n    key: \"_endComposition\",\n    value: function _endComposition(source) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.endComposition(source);\n      this._onDidCompositionEnd.fire();\n    }\n  }, {\n    key: \"_type\",\n    value: function _type(source, text) {\n      if (!this._modelData || text.length === 0) {\n        return;\n      }\n      if (source === 'keyboard') {\n        this._onWillType.fire(text);\n      }\n      this._modelData.viewModel.type(text, source);\n      if (source === 'keyboard') {\n        this._onDidType.fire(text);\n      }\n    }\n  }, {\n    key: \"_compositionType\",\n    value: function _compositionType(source, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.compositionType(text, replacePrevCharCnt, replaceNextCharCnt, positionDelta, source);\n    }\n  }, {\n    key: \"_paste\",\n    value: function _paste(source, text, pasteOnNewLine, multicursorText, mode, clipboardEvent) {\n      if (!this._modelData) {\n        return;\n      }\n      var viewModel = this._modelData.viewModel;\n      var startPosition = viewModel.getSelection().getStartPosition();\n      viewModel.paste(text, pasteOnNewLine, multicursorText, source);\n      var endPosition = viewModel.getSelection().getStartPosition();\n      if (source === 'keyboard') {\n        this._onDidPaste.fire({\n          clipboardEvent: clipboardEvent,\n          range: new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column),\n          languageId: mode\n        });\n      }\n    }\n  }, {\n    key: \"_cut\",\n    value: function _cut(source) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.cut(source);\n    }\n  }, {\n    key: \"_triggerEditorCommand\",\n    value: function _triggerEditorCommand(source, handlerId, payload) {\n      var _this2 = this;\n      var command = EditorExtensionsRegistry.getEditorCommand(handlerId);\n      if (command) {\n        payload = payload || {};\n        payload.source = source;\n        this._instantiationService.invokeFunction(function (accessor) {\n          Promise.resolve(command.runEditorCommand(accessor, _this2, payload)).then(undefined, onUnexpectedError);\n        });\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"_getViewModel\",\n    value: function _getViewModel() {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.viewModel;\n    }\n  }, {\n    key: \"pushUndoStop\",\n    value: function pushUndoStop() {\n      if (!this._modelData) {\n        return false;\n      }\n      if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n        // read only editor => sorry!\n        return false;\n      }\n      this._modelData.model.pushStackElement();\n      return true;\n    }\n  }, {\n    key: \"popUndoStop\",\n    value: function popUndoStop() {\n      if (!this._modelData) {\n        return false;\n      }\n      if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n        // read only editor => sorry!\n        return false;\n      }\n      this._modelData.model.popStackElement();\n      return true;\n    }\n  }, {\n    key: \"executeEdits\",\n    value: function executeEdits(source, edits, endCursorState) {\n      if (!this._modelData) {\n        return false;\n      }\n      if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n        // read only editor => sorry!\n        return false;\n      }\n      var cursorStateComputer;\n      if (!endCursorState) {\n        cursorStateComputer = function cursorStateComputer() {\n          return null;\n        };\n      } else if (Array.isArray(endCursorState)) {\n        cursorStateComputer = function cursorStateComputer() {\n          return endCursorState;\n        };\n      } else {\n        cursorStateComputer = endCursorState;\n      }\n      this._modelData.viewModel.executeEdits(source, edits, cursorStateComputer);\n      return true;\n    }\n  }, {\n    key: \"executeCommand\",\n    value: function executeCommand(source, command) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.executeCommand(command, source);\n    }\n  }, {\n    key: \"executeCommands\",\n    value: function executeCommands(source, commands) {\n      if (!this._modelData) {\n        return;\n      }\n      this._modelData.viewModel.executeCommands(commands, source);\n    }\n  }, {\n    key: \"createDecorationsCollection\",\n    value: function createDecorationsCollection(decorations) {\n      return new EditorDecorationsCollection(this, decorations);\n    }\n  }, {\n    key: \"changeDecorations\",\n    value: function changeDecorations(callback) {\n      if (!this._modelData) {\n        // callback will not be called\n        return null;\n      }\n      return this._modelData.model.changeDecorations(callback, this._id);\n    }\n  }, {\n    key: \"getLineDecorations\",\n    value: function getLineDecorations(lineNumber) {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.model.getLineDecorations(lineNumber, this._id, filterValidationDecorations(this._configuration.options));\n    }\n  }, {\n    key: \"getDecorationsInRange\",\n    value: function getDecorationsInRange(range) {\n      if (!this._modelData) {\n        return null;\n      }\n      return this._modelData.model.getDecorationsInRange(range, this._id, filterValidationDecorations(this._configuration.options));\n    }\n    /**\n     * @deprecated\n     */\n  }, {\n    key: \"deltaDecorations\",\n    value: function deltaDecorations(oldDecorations, newDecorations) {\n      if (!this._modelData) {\n        return [];\n      }\n      if (oldDecorations.length === 0 && newDecorations.length === 0) {\n        return oldDecorations;\n      }\n      return this._modelData.model.deltaDecorations(oldDecorations, newDecorations, this._id);\n    }\n  }, {\n    key: \"removeDecorations\",\n    value: function removeDecorations(decorationIds) {\n      if (!this._modelData || decorationIds.length === 0) {\n        return;\n      }\n      this._modelData.model.changeDecorations(function (changeAccessor) {\n        changeAccessor.deltaDecorations(decorationIds, []);\n      });\n    }\n  }, {\n    key: \"removeDecorationsByType\",\n    value: function removeDecorationsByType(decorationTypeKey) {\n      // remove decorations for type and sub type\n      var oldDecorationsIds = this._decorationTypeKeysToIds[decorationTypeKey];\n      if (oldDecorationsIds) {\n        this.changeDecorations(function (accessor) {\n          return accessor.deltaDecorations(oldDecorationsIds, []);\n        });\n      }\n      if (this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)) {\n        delete this._decorationTypeKeysToIds[decorationTypeKey];\n      }\n      if (this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)) {\n        delete this._decorationTypeSubtypes[decorationTypeKey];\n      }\n    }\n  }, {\n    key: \"getLayoutInfo\",\n    value: function getLayoutInfo() {\n      var options = this._configuration.options;\n      var layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n      return layoutInfo;\n    }\n  }, {\n    key: \"createOverviewRuler\",\n    value: function createOverviewRuler(cssClassName) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return null;\n      }\n      return this._modelData.view.createOverviewRuler(cssClassName);\n    }\n  }, {\n    key: \"getContainerDomNode\",\n    value: function getContainerDomNode() {\n      return this._domElement;\n    }\n  }, {\n    key: \"getDomNode\",\n    value: function getDomNode() {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return null;\n      }\n      return this._modelData.view.domNode.domNode;\n    }\n  }, {\n    key: \"delegateVerticalScrollbarPointerDown\",\n    value: function delegateVerticalScrollbarPointerDown(browserEvent) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.delegateVerticalScrollbarPointerDown(browserEvent);\n    }\n  }, {\n    key: \"delegateScrollFromMouseWheelEvent\",\n    value: function delegateScrollFromMouseWheelEvent(browserEvent) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.delegateScrollFromMouseWheelEvent(browserEvent);\n    }\n  }, {\n    key: \"layout\",\n    value: function layout(dimension) {\n      var postponeRendering = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this._configuration.observeContainer(dimension);\n      if (!postponeRendering) {\n        this.render();\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.focus();\n    }\n  }, {\n    key: \"hasTextFocus\",\n    value: function hasTextFocus() {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return false;\n      }\n      return this._modelData.view.isFocused();\n    }\n  }, {\n    key: \"hasWidgetFocus\",\n    value: function hasWidgetFocus() {\n      return this._focusTracker && this._focusTracker.hasFocus();\n    }\n  }, {\n    key: \"addContentWidget\",\n    value: function addContentWidget(widget) {\n      var widgetData = {\n        widget: widget,\n        position: widget.getPosition()\n      };\n      if (this._contentWidgets.hasOwnProperty(widget.getId())) {\n        console.warn('Overwriting a content widget with the same id:' + widget.getId());\n      }\n      this._contentWidgets[widget.getId()] = widgetData;\n      if (this._modelData && this._modelData.hasRealView) {\n        this._modelData.view.addContentWidget(widgetData);\n      }\n    }\n  }, {\n    key: \"layoutContentWidget\",\n    value: function layoutContentWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._contentWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._contentWidgets[widgetId];\n        widgetData.position = widget.getPosition();\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.layoutContentWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"removeContentWidget\",\n    value: function removeContentWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._contentWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._contentWidgets[widgetId];\n        delete this._contentWidgets[widgetId];\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.removeContentWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"addOverlayWidget\",\n    value: function addOverlayWidget(widget) {\n      var widgetData = {\n        widget: widget,\n        position: widget.getPosition()\n      };\n      if (this._overlayWidgets.hasOwnProperty(widget.getId())) {\n        console.warn('Overwriting an overlay widget with the same id.');\n      }\n      this._overlayWidgets[widget.getId()] = widgetData;\n      if (this._modelData && this._modelData.hasRealView) {\n        this._modelData.view.addOverlayWidget(widgetData);\n      }\n    }\n  }, {\n    key: \"layoutOverlayWidget\",\n    value: function layoutOverlayWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._overlayWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._overlayWidgets[widgetId];\n        widgetData.position = widget.getPosition();\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.layoutOverlayWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"removeOverlayWidget\",\n    value: function removeOverlayWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._overlayWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._overlayWidgets[widgetId];\n        delete this._overlayWidgets[widgetId];\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.removeOverlayWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"addGlyphMarginWidget\",\n    value: function addGlyphMarginWidget(widget) {\n      var widgetData = {\n        widget: widget,\n        position: widget.getPosition()\n      };\n      if (this._glyphMarginWidgets.hasOwnProperty(widget.getId())) {\n        console.warn('Overwriting a glyph margin widget with the same id.');\n      }\n      this._glyphMarginWidgets[widget.getId()] = widgetData;\n      if (this._modelData && this._modelData.hasRealView) {\n        this._modelData.view.addGlyphMarginWidget(widgetData);\n      }\n    }\n  }, {\n    key: \"layoutGlyphMarginWidget\",\n    value: function layoutGlyphMarginWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._glyphMarginWidgets[widgetId];\n        widgetData.position = widget.getPosition();\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.layoutGlyphMarginWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"removeGlyphMarginWidget\",\n    value: function removeGlyphMarginWidget(widget) {\n      var widgetId = widget.getId();\n      if (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n        var widgetData = this._glyphMarginWidgets[widgetId];\n        delete this._glyphMarginWidgets[widgetId];\n        if (this._modelData && this._modelData.hasRealView) {\n          this._modelData.view.removeGlyphMarginWidget(widgetData);\n        }\n      }\n    }\n  }, {\n    key: \"changeViewZones\",\n    value: function changeViewZones(callback) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.change(callback);\n    }\n  }, {\n    key: \"getTargetAtClientPoint\",\n    value: function getTargetAtClientPoint(clientX, clientY) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return null;\n      }\n      return this._modelData.view.getTargetAtClientPoint(clientX, clientY);\n    }\n  }, {\n    key: \"getScrolledVisiblePosition\",\n    value: function getScrolledVisiblePosition(rawPosition) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return null;\n      }\n      var position = this._modelData.model.validatePosition(rawPosition);\n      var options = this._configuration.options;\n      var layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n      var top = CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, position.lineNumber, position.column) - this.getScrollTop();\n      var left = this._modelData.view.getOffsetForColumn(position.lineNumber, position.column) + layoutInfo.glyphMarginWidth + layoutInfo.lineNumbersWidth + layoutInfo.decorationsWidth - this.getScrollLeft();\n      return {\n        top: top,\n        left: left,\n        height: options.get(67 /* EditorOption.lineHeight */)\n      };\n    }\n  }, {\n    key: \"getOffsetForColumn\",\n    value: function getOffsetForColumn(lineNumber, column) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return -1;\n      }\n      return this._modelData.view.getOffsetForColumn(lineNumber, column);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var forceRedraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.render(true, forceRedraw);\n    }\n  }, {\n    key: \"setAriaOptions\",\n    value: function setAriaOptions(options) {\n      if (!this._modelData || !this._modelData.hasRealView) {\n        return;\n      }\n      this._modelData.view.setAriaOptions(options);\n    }\n  }, {\n    key: \"applyFontInfo\",\n    value: function applyFontInfo(target) {\n      _applyFontInfo(target, this._configuration.options.get(50 /* EditorOption.fontInfo */));\n    }\n  }, {\n    key: \"setBanner\",\n    value: function setBanner(domNode, domNodeHeight) {\n      if (this._bannerDomNode && this._domElement.contains(this._bannerDomNode)) {\n        this._domElement.removeChild(this._bannerDomNode);\n      }\n      this._bannerDomNode = domNode;\n      this._configuration.setReservedHeight(domNode ? domNodeHeight : 0);\n      if (this._bannerDomNode) {\n        this._domElement.prepend(this._bannerDomNode);\n      }\n    }\n  }, {\n    key: \"_attachModel\",\n    value: function _attachModel(model) {\n      var _this3 = this;\n      if (!model) {\n        this._modelData = null;\n        return;\n      }\n      var listenersToRemove = [];\n      this._domElement.setAttribute('data-mode-id', model.getLanguageId());\n      this._configuration.setIsDominatedByLongLines(model.isDominatedByLongLines());\n      this._configuration.setModelLineCount(model.getLineCount());\n      var attachedView = model.onBeforeAttached();\n      var viewModel = new ViewModel(this._id, this._configuration, model, DOMLineBreaksComputerFactory.create(dom.getWindow(this._domElement)), MonospaceLineBreaksComputerFactory.create(this._configuration.options), function (callback) {\n        return dom.scheduleAtNextAnimationFrame(dom.getWindow(_this3._domElement), callback);\n      }, this.languageConfigurationService, this._themeService, attachedView);\n      // Someone might destroy the model from under the editor, so prevent any exceptions by setting a null model\n      listenersToRemove.push(model.onWillDispose(function () {\n        return _this3.setModel(null);\n      }));\n      listenersToRemove.push(viewModel.onEvent(function (e) {\n        switch (e.kind) {\n          case 0 /* OutgoingViewModelEventKind.ContentSizeChanged */:\n            _this3._onDidContentSizeChange.fire(e);\n            break;\n          case 1 /* OutgoingViewModelEventKind.FocusChanged */:\n            _this3._editorTextFocus.setValue(e.hasFocus);\n            break;\n          case 2 /* OutgoingViewModelEventKind.ScrollChanged */:\n            _this3._onDidScrollChange.fire(e);\n            break;\n          case 3 /* OutgoingViewModelEventKind.ViewZonesChanged */:\n            _this3._onDidChangeViewZones.fire();\n            break;\n          case 4 /* OutgoingViewModelEventKind.HiddenAreasChanged */:\n            _this3._onDidChangeHiddenAreas.fire();\n            break;\n          case 5 /* OutgoingViewModelEventKind.ReadOnlyEditAttempt */:\n            _this3._onDidAttemptReadOnlyEdit.fire();\n            break;\n          case 6 /* OutgoingViewModelEventKind.CursorStateChanged */:\n            {\n              if (e.reachedMaxCursorCount) {\n                var multiCursorLimit = _this3.getOption(80 /* EditorOption.multiCursorLimit */);\n                var message = nls.localize('cursors.maximum', \"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.\", multiCursorLimit);\n                _this3._notificationService.prompt(Severity.Warning, message, [{\n                  label: 'Find and Replace',\n                  run: function run() {\n                    _this3._commandService.executeCommand('editor.action.startFindReplaceAction');\n                  }\n                }, {\n                  label: nls.localize('goToSetting', 'Increase Multi Cursor Limit'),\n                  run: function run() {\n                    _this3._commandService.executeCommand('workbench.action.openSettings2', {\n                      query: 'editor.multiCursorLimit'\n                    });\n                  }\n                }]);\n              }\n              var positions = [];\n              for (var i = 0, len = e.selections.length; i < len; i++) {\n                positions[i] = e.selections[i].getPosition();\n              }\n              var e1 = {\n                position: positions[0],\n                secondaryPositions: positions.slice(1),\n                reason: e.reason,\n                source: e.source\n              };\n              _this3._onDidChangeCursorPosition.fire(e1);\n              var e2 = {\n                selection: e.selections[0],\n                secondarySelections: e.selections.slice(1),\n                modelVersionId: e.modelVersionId,\n                oldSelections: e.oldSelections,\n                oldModelVersionId: e.oldModelVersionId,\n                source: e.source,\n                reason: e.reason\n              };\n              _this3._onDidChangeCursorSelection.fire(e2);\n              break;\n            }\n          case 7 /* OutgoingViewModelEventKind.ModelDecorationsChanged */:\n            _this3._onDidChangeModelDecorations.fire(e.event);\n            break;\n          case 8 /* OutgoingViewModelEventKind.ModelLanguageChanged */:\n            _this3._domElement.setAttribute('data-mode-id', model.getLanguageId());\n            _this3._onDidChangeModelLanguage.fire(e.event);\n            break;\n          case 9 /* OutgoingViewModelEventKind.ModelLanguageConfigurationChanged */:\n            _this3._onDidChangeModelLanguageConfiguration.fire(e.event);\n            break;\n          case 10 /* OutgoingViewModelEventKind.ModelContentChanged */:\n            _this3._onDidChangeModelContent.fire(e.event);\n            break;\n          case 11 /* OutgoingViewModelEventKind.ModelOptionsChanged */:\n            _this3._onDidChangeModelOptions.fire(e.event);\n            break;\n          case 12 /* OutgoingViewModelEventKind.ModelTokensChanged */:\n            _this3._onDidChangeModelTokens.fire(e.event);\n            break;\n        }\n      }));\n      var _this$_createView = this._createView(viewModel),\n        _this$_createView2 = _slicedToArray(_this$_createView, 2),\n        view = _this$_createView2[0],\n        hasRealView = _this$_createView2[1];\n      if (hasRealView) {\n        this._domElement.appendChild(view.domNode.domNode);\n        var keys = Object.keys(this._contentWidgets);\n        for (var i = 0, len = keys.length; i < len; i++) {\n          var widgetId = keys[i];\n          view.addContentWidget(this._contentWidgets[widgetId]);\n        }\n        keys = Object.keys(this._overlayWidgets);\n        for (var _i = 0, _len = keys.length; _i < _len; _i++) {\n          var _widgetId = keys[_i];\n          view.addOverlayWidget(this._overlayWidgets[_widgetId]);\n        }\n        keys = Object.keys(this._glyphMarginWidgets);\n        for (var _i2 = 0, _len2 = keys.length; _i2 < _len2; _i2++) {\n          var _widgetId2 = keys[_i2];\n          view.addGlyphMarginWidget(this._glyphMarginWidgets[_widgetId2]);\n        }\n        view.render(false, true);\n        view.domNode.domNode.setAttribute('data-uri', model.uri.toString());\n      }\n      this._modelData = new ModelData(model, viewModel, view, hasRealView, listenersToRemove, attachedView);\n    }\n  }, {\n    key: \"_createView\",\n    value: function _createView(viewModel) {\n      var _this4 = this;\n      var commandDelegate;\n      if (this.isSimpleWidget) {\n        commandDelegate = {\n          paste: function paste(text, pasteOnNewLine, multicursorText, mode) {\n            _this4._paste('keyboard', text, pasteOnNewLine, multicursorText, mode);\n          },\n          type: function type(text) {\n            _this4._type('keyboard', text);\n          },\n          compositionType: function compositionType(text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n            _this4._compositionType('keyboard', text, replacePrevCharCnt, replaceNextCharCnt, positionDelta);\n          },\n          startComposition: function startComposition() {\n            _this4._startComposition();\n          },\n          endComposition: function endComposition() {\n            _this4._endComposition('keyboard');\n          },\n          cut: function cut() {\n            _this4._cut('keyboard');\n          }\n        };\n      } else {\n        commandDelegate = {\n          paste: function paste(text, pasteOnNewLine, multicursorText, mode) {\n            var payload = {\n              text: text,\n              pasteOnNewLine: pasteOnNewLine,\n              multicursorText: multicursorText,\n              mode: mode\n            };\n            _this4._commandService.executeCommand(\"paste\" /* editorCommon.Handler.Paste */, payload);\n          },\n          type: function type(text) {\n            var payload = {\n              text: text\n            };\n            _this4._commandService.executeCommand(\"type\" /* editorCommon.Handler.Type */, payload);\n          },\n          compositionType: function compositionType(text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n            // Try if possible to go through the existing `replacePreviousChar` command\n            if (replaceNextCharCnt || positionDelta) {\n              // must be handled through the new command\n              var payload = {\n                text: text,\n                replacePrevCharCnt: replacePrevCharCnt,\n                replaceNextCharCnt: replaceNextCharCnt,\n                positionDelta: positionDelta\n              };\n              _this4._commandService.executeCommand(\"compositionType\" /* editorCommon.Handler.CompositionType */, payload);\n            } else {\n              var _payload = {\n                text: text,\n                replaceCharCnt: replacePrevCharCnt\n              };\n              _this4._commandService.executeCommand(\"replacePreviousChar\" /* editorCommon.Handler.ReplacePreviousChar */, _payload);\n            }\n          },\n          startComposition: function startComposition() {\n            _this4._commandService.executeCommand(\"compositionStart\" /* editorCommon.Handler.CompositionStart */, {});\n          },\n          endComposition: function endComposition() {\n            _this4._commandService.executeCommand(\"compositionEnd\" /* editorCommon.Handler.CompositionEnd */, {});\n          },\n          cut: function cut() {\n            _this4._commandService.executeCommand(\"cut\" /* editorCommon.Handler.Cut */, {});\n          }\n        };\n      }\n      var viewUserInputEvents = new ViewUserInputEvents(viewModel.coordinatesConverter);\n      viewUserInputEvents.onKeyDown = function (e) {\n        return _this4._onKeyDown.fire(e);\n      };\n      viewUserInputEvents.onKeyUp = function (e) {\n        return _this4._onKeyUp.fire(e);\n      };\n      viewUserInputEvents.onContextMenu = function (e) {\n        return _this4._onContextMenu.fire(e);\n      };\n      viewUserInputEvents.onMouseMove = function (e) {\n        return _this4._onMouseMove.fire(e);\n      };\n      viewUserInputEvents.onMouseLeave = function (e) {\n        return _this4._onMouseLeave.fire(e);\n      };\n      viewUserInputEvents.onMouseDown = function (e) {\n        return _this4._onMouseDown.fire(e);\n      };\n      viewUserInputEvents.onMouseUp = function (e) {\n        return _this4._onMouseUp.fire(e);\n      };\n      viewUserInputEvents.onMouseDrag = function (e) {\n        return _this4._onMouseDrag.fire(e);\n      };\n      viewUserInputEvents.onMouseDrop = function (e) {\n        return _this4._onMouseDrop.fire(e);\n      };\n      viewUserInputEvents.onMouseDropCanceled = function (e) {\n        return _this4._onMouseDropCanceled.fire(e);\n      };\n      viewUserInputEvents.onMouseWheel = function (e) {\n        return _this4._onMouseWheel.fire(e);\n      };\n      var view = new View(commandDelegate, this._configuration, this._themeService.getColorTheme(), viewModel, viewUserInputEvents, this._overflowWidgetsDomNode, this._instantiationService);\n      return [view, true];\n    }\n  }, {\n    key: \"_postDetachModelCleanup\",\n    value: function _postDetachModelCleanup(detachedModel) {\n      detachedModel === null || detachedModel === void 0 ? void 0 : detachedModel.removeAllDecorationsWithOwnerId(this._id);\n    }\n  }, {\n    key: \"_detachModel\",\n    value: function _detachModel() {\n      var _a;\n      (_a = this._contributionsDisposable) === null || _a === void 0 ? void 0 : _a.dispose();\n      this._contributionsDisposable = undefined;\n      if (!this._modelData) {\n        return null;\n      }\n      var model = this._modelData.model;\n      var removeDomNode = this._modelData.hasRealView ? this._modelData.view.domNode.domNode : null;\n      this._modelData.dispose();\n      this._modelData = null;\n      this._domElement.removeAttribute('data-mode-id');\n      if (removeDomNode && this._domElement.contains(removeDomNode)) {\n        this._domElement.removeChild(removeDomNode);\n      }\n      if (this._bannerDomNode && this._domElement.contains(this._bannerDomNode)) {\n        this._domElement.removeChild(this._bannerDomNode);\n      }\n      return model;\n    }\n  }, {\n    key: \"_removeDecorationType\",\n    value: function _removeDecorationType(key) {\n      this._codeEditorService.removeDecorationType(key);\n    }\n  }, {\n    key: \"hasModel\",\n    value: function hasModel() {\n      return this._modelData !== null;\n    }\n  }, {\n    key: \"showDropIndicatorAt\",\n    value: function showDropIndicatorAt(position) {\n      var newDecorations = [{\n        range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n        options: CodeEditorWidget_1.dropIntoEditorDecorationOptions\n      }];\n      this._dropIntoEditorDecorations.set(newDecorations);\n      this.revealPosition(position, 1 /* editorCommon.ScrollType.Immediate */);\n    }\n  }, {\n    key: \"removeDropIndicator\",\n    value: function removeDropIndicator() {\n      this._dropIntoEditorDecorations.clear();\n    }\n  }, {\n    key: \"setContextValue\",\n    value: function setContextValue(key, value) {\n      this._contextKeyService.createKey(key, value);\n    }\n  }], [{\n    key: \"_getVerticalOffsetAfterPosition\",\n    value: function _getVerticalOffsetAfterPosition(modelData, modelLineNumber, modelColumn, includeViewZones) {\n      var modelPosition = modelData.model.validatePosition({\n        lineNumber: modelLineNumber,\n        column: modelColumn\n      });\n      var viewPosition = modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n      return modelData.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(viewPosition.lineNumber, includeViewZones);\n    }\n  }, {\n    key: \"_getVerticalOffsetForPosition\",\n    value: function _getVerticalOffsetForPosition(modelData, modelLineNumber, modelColumn) {\n      var includeViewZones = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var modelPosition = modelData.model.validatePosition({\n        lineNumber: modelLineNumber,\n        column: modelColumn\n      });\n      var viewPosition = modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n      return modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber, includeViewZones);\n    }\n  }]);\n}(Disposable);\nCodeEditorWidget.dropIntoEditorDecorationOptions = ModelDecorationOptions.register({\n  description: 'workbench-dnd-target',\n  className: 'dnd-target'\n});\nCodeEditorWidget = CodeEditorWidget_1 = __decorate([__param(3, IInstantiationService), __param(4, ICodeEditorService), __param(5, ICommandService), __param(6, IContextKeyService), __param(7, IThemeService), __param(8, INotificationService), __param(9, IAccessibilityService), __param(10, ILanguageConfigurationService), __param(11, ILanguageFeaturesService)], CodeEditorWidget);\nexport { CodeEditorWidget };\nvar EDITOR_ID = 0;\nvar ModelData = /*#__PURE__*/function () {\n  function ModelData(model, viewModel, view, hasRealView, listenersToRemove, attachedView) {\n    _classCallCheck(this, ModelData);\n    this.model = model;\n    this.viewModel = viewModel;\n    this.view = view;\n    this.hasRealView = hasRealView;\n    this.listenersToRemove = listenersToRemove;\n    this.attachedView = attachedView;\n  }\n  return _createClass(ModelData, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _dispose(this.listenersToRemove);\n      this.model.onBeforeDetached(this.attachedView);\n      if (this.hasRealView) {\n        this.view.dispose();\n      }\n      this.viewModel.dispose();\n    }\n  }]);\n}();\nexport var BooleanEventEmitter = /*#__PURE__*/function (_Disposable2) {\n  function BooleanEventEmitter(_emitterOptions) {\n    var _this5;\n    _classCallCheck(this, BooleanEventEmitter);\n    _this5 = _callSuper(this, BooleanEventEmitter);\n    _this5._emitterOptions = _emitterOptions;\n    _this5._onDidChangeToTrue = _this5._register(new Emitter(_this5._emitterOptions));\n    _this5.onDidChangeToTrue = _this5._onDidChangeToTrue.event;\n    _this5._onDidChangeToFalse = _this5._register(new Emitter(_this5._emitterOptions));\n    _this5.onDidChangeToFalse = _this5._onDidChangeToFalse.event;\n    _this5._value = 0 /* BooleanEventValue.NotSet */;\n    return _this5;\n  }\n  _inherits(BooleanEventEmitter, _Disposable2);\n  return _createClass(BooleanEventEmitter, [{\n    key: \"setValue\",\n    value: function setValue(_value) {\n      var value = _value ? 2 /* BooleanEventValue.True */ : 1 /* BooleanEventValue.False */;\n      if (this._value === value) {\n        return;\n      }\n      this._value = value;\n      if (this._value === 2 /* BooleanEventValue.True */) {\n        this._onDidChangeToTrue.fire();\n      } else if (this._value === 1 /* BooleanEventValue.False */) {\n        this._onDidChangeToFalse.fire();\n      }\n    }\n  }]);\n}(Disposable);\n/**\n * A regular event emitter that also makes sure contributions are instantiated if necessary\n */\nvar InteractionEmitter = /*#__PURE__*/function (_Emitter) {\n  function InteractionEmitter(_contributions, deliveryQueue) {\n    var _this6;\n    _classCallCheck(this, InteractionEmitter);\n    _this6 = _callSuper(this, InteractionEmitter, [{\n      deliveryQueue: deliveryQueue\n    }]);\n    _this6._contributions = _contributions;\n    return _this6;\n  }\n  _inherits(InteractionEmitter, _Emitter);\n  return _createClass(InteractionEmitter, [{\n    key: \"fire\",\n    value: function fire(event) {\n      this._contributions.onBeforeInteractionEvent();\n      _get(_getPrototypeOf(InteractionEmitter.prototype), \"fire\", this).call(this, event);\n    }\n  }]);\n}(Emitter);\nvar EditorContextKeysManager = /*#__PURE__*/function (_Disposable3) {\n  function EditorContextKeysManager(editor, contextKeyService) {\n    var _this7;\n    _classCallCheck(this, EditorContextKeysManager);\n    _this7 = _callSuper(this, EditorContextKeysManager);\n    _this7._editor = editor;\n    contextKeyService.createKey('editorId', editor.getId());\n    _this7._editorSimpleInput = EditorContextKeys.editorSimpleInput.bindTo(contextKeyService);\n    _this7._editorFocus = EditorContextKeys.focus.bindTo(contextKeyService);\n    _this7._textInputFocus = EditorContextKeys.textInputFocus.bindTo(contextKeyService);\n    _this7._editorTextFocus = EditorContextKeys.editorTextFocus.bindTo(contextKeyService);\n    _this7._tabMovesFocus = EditorContextKeys.tabMovesFocus.bindTo(contextKeyService);\n    _this7._editorReadonly = EditorContextKeys.readOnly.bindTo(contextKeyService);\n    _this7._inDiffEditor = EditorContextKeys.inDiffEditor.bindTo(contextKeyService);\n    _this7._editorColumnSelection = EditorContextKeys.columnSelection.bindTo(contextKeyService);\n    _this7._hasMultipleSelections = EditorContextKeys.hasMultipleSelections.bindTo(contextKeyService);\n    _this7._hasNonEmptySelection = EditorContextKeys.hasNonEmptySelection.bindTo(contextKeyService);\n    _this7._canUndo = EditorContextKeys.canUndo.bindTo(contextKeyService);\n    _this7._canRedo = EditorContextKeys.canRedo.bindTo(contextKeyService);\n    _this7._register(_this7._editor.onDidChangeConfiguration(function () {\n      return _this7._updateFromConfig();\n    }));\n    _this7._register(_this7._editor.onDidChangeCursorSelection(function () {\n      return _this7._updateFromSelection();\n    }));\n    _this7._register(_this7._editor.onDidFocusEditorWidget(function () {\n      return _this7._updateFromFocus();\n    }));\n    _this7._register(_this7._editor.onDidBlurEditorWidget(function () {\n      return _this7._updateFromFocus();\n    }));\n    _this7._register(_this7._editor.onDidFocusEditorText(function () {\n      return _this7._updateFromFocus();\n    }));\n    _this7._register(_this7._editor.onDidBlurEditorText(function () {\n      return _this7._updateFromFocus();\n    }));\n    _this7._register(_this7._editor.onDidChangeModel(function () {\n      return _this7._updateFromModel();\n    }));\n    _this7._register(_this7._editor.onDidChangeConfiguration(function () {\n      return _this7._updateFromModel();\n    }));\n    _this7._register(TabFocus.onDidChangeTabFocus(function (tabFocusMode) {\n      return _this7._tabMovesFocus.set(tabFocusMode);\n    }));\n    _this7._updateFromConfig();\n    _this7._updateFromSelection();\n    _this7._updateFromFocus();\n    _this7._updateFromModel();\n    _this7._editorSimpleInput.set(_this7._editor.isSimpleWidget);\n    return _this7;\n  }\n  _inherits(EditorContextKeysManager, _Disposable3);\n  return _createClass(EditorContextKeysManager, [{\n    key: \"_updateFromConfig\",\n    value: function _updateFromConfig() {\n      var options = this._editor.getOptions();\n      this._tabMovesFocus.set(TabFocus.getTabFocusMode());\n      this._editorReadonly.set(options.get(91 /* EditorOption.readOnly */));\n      this._inDiffEditor.set(options.get(61 /* EditorOption.inDiffEditor */));\n      this._editorColumnSelection.set(options.get(22 /* EditorOption.columnSelection */));\n    }\n  }, {\n    key: \"_updateFromSelection\",\n    value: function _updateFromSelection() {\n      var selections = this._editor.getSelections();\n      if (!selections) {\n        this._hasMultipleSelections.reset();\n        this._hasNonEmptySelection.reset();\n      } else {\n        this._hasMultipleSelections.set(selections.length > 1);\n        this._hasNonEmptySelection.set(selections.some(function (s) {\n          return !s.isEmpty();\n        }));\n      }\n    }\n  }, {\n    key: \"_updateFromFocus\",\n    value: function _updateFromFocus() {\n      this._editorFocus.set(this._editor.hasWidgetFocus() && !this._editor.isSimpleWidget);\n      this._editorTextFocus.set(this._editor.hasTextFocus() && !this._editor.isSimpleWidget);\n      this._textInputFocus.set(this._editor.hasTextFocus());\n    }\n  }, {\n    key: \"_updateFromModel\",\n    value: function _updateFromModel() {\n      var model = this._editor.getModel();\n      this._canUndo.set(Boolean(model && model.canUndo()));\n      this._canRedo.set(Boolean(model && model.canRedo()));\n    }\n  }]);\n}(Disposable);\nexport var EditorModeContext = /*#__PURE__*/function (_Disposable4) {\n  function EditorModeContext(_editor, _contextKeyService, _languageFeaturesService) {\n    var _this8;\n    _classCallCheck(this, EditorModeContext);\n    _this8 = _callSuper(this, EditorModeContext);\n    _this8._editor = _editor;\n    _this8._contextKeyService = _contextKeyService;\n    _this8._languageFeaturesService = _languageFeaturesService;\n    _this8._langId = EditorContextKeys.languageId.bindTo(_contextKeyService);\n    _this8._hasCompletionItemProvider = EditorContextKeys.hasCompletionItemProvider.bindTo(_contextKeyService);\n    _this8._hasCodeActionsProvider = EditorContextKeys.hasCodeActionsProvider.bindTo(_contextKeyService);\n    _this8._hasCodeLensProvider = EditorContextKeys.hasCodeLensProvider.bindTo(_contextKeyService);\n    _this8._hasDefinitionProvider = EditorContextKeys.hasDefinitionProvider.bindTo(_contextKeyService);\n    _this8._hasDeclarationProvider = EditorContextKeys.hasDeclarationProvider.bindTo(_contextKeyService);\n    _this8._hasImplementationProvider = EditorContextKeys.hasImplementationProvider.bindTo(_contextKeyService);\n    _this8._hasTypeDefinitionProvider = EditorContextKeys.hasTypeDefinitionProvider.bindTo(_contextKeyService);\n    _this8._hasHoverProvider = EditorContextKeys.hasHoverProvider.bindTo(_contextKeyService);\n    _this8._hasDocumentHighlightProvider = EditorContextKeys.hasDocumentHighlightProvider.bindTo(_contextKeyService);\n    _this8._hasDocumentSymbolProvider = EditorContextKeys.hasDocumentSymbolProvider.bindTo(_contextKeyService);\n    _this8._hasReferenceProvider = EditorContextKeys.hasReferenceProvider.bindTo(_contextKeyService);\n    _this8._hasRenameProvider = EditorContextKeys.hasRenameProvider.bindTo(_contextKeyService);\n    _this8._hasSignatureHelpProvider = EditorContextKeys.hasSignatureHelpProvider.bindTo(_contextKeyService);\n    _this8._hasInlayHintsProvider = EditorContextKeys.hasInlayHintsProvider.bindTo(_contextKeyService);\n    _this8._hasDocumentFormattingProvider = EditorContextKeys.hasDocumentFormattingProvider.bindTo(_contextKeyService);\n    _this8._hasDocumentSelectionFormattingProvider = EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n    _this8._hasMultipleDocumentFormattingProvider = EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(_contextKeyService);\n    _this8._hasMultipleDocumentSelectionFormattingProvider = EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n    _this8._isInEmbeddedEditor = EditorContextKeys.isInEmbeddedEditor.bindTo(_contextKeyService);\n    var update = function update() {\n      return _this8._update();\n    };\n    // update when model/mode changes\n    _this8._register(_editor.onDidChangeModel(update));\n    _this8._register(_editor.onDidChangeModelLanguage(update));\n    // update when registries change\n    _this8._register(_languageFeaturesService.completionProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.codeActionProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.codeLensProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.definitionProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.declarationProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.implementationProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.typeDefinitionProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.hoverProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.documentHighlightProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.documentSymbolProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.referenceProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.renameProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.documentFormattingEditProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.signatureHelpProvider.onDidChange(update));\n    _this8._register(_languageFeaturesService.inlayHintsProvider.onDidChange(update));\n    update();\n    return _this8;\n  }\n  _inherits(EditorModeContext, _Disposable4);\n  return _createClass(EditorModeContext, [{\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(EditorModeContext.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this9 = this;\n      this._contextKeyService.bufferChangeEvents(function () {\n        _this9._langId.reset();\n        _this9._hasCompletionItemProvider.reset();\n        _this9._hasCodeActionsProvider.reset();\n        _this9._hasCodeLensProvider.reset();\n        _this9._hasDefinitionProvider.reset();\n        _this9._hasDeclarationProvider.reset();\n        _this9._hasImplementationProvider.reset();\n        _this9._hasTypeDefinitionProvider.reset();\n        _this9._hasHoverProvider.reset();\n        _this9._hasDocumentHighlightProvider.reset();\n        _this9._hasDocumentSymbolProvider.reset();\n        _this9._hasReferenceProvider.reset();\n        _this9._hasRenameProvider.reset();\n        _this9._hasDocumentFormattingProvider.reset();\n        _this9._hasDocumentSelectionFormattingProvider.reset();\n        _this9._hasSignatureHelpProvider.reset();\n        _this9._isInEmbeddedEditor.reset();\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var _this10 = this;\n      var model = this._editor.getModel();\n      if (!model) {\n        this.reset();\n        return;\n      }\n      this._contextKeyService.bufferChangeEvents(function () {\n        _this10._langId.set(model.getLanguageId());\n        _this10._hasCompletionItemProvider.set(_this10._languageFeaturesService.completionProvider.has(model));\n        _this10._hasCodeActionsProvider.set(_this10._languageFeaturesService.codeActionProvider.has(model));\n        _this10._hasCodeLensProvider.set(_this10._languageFeaturesService.codeLensProvider.has(model));\n        _this10._hasDefinitionProvider.set(_this10._languageFeaturesService.definitionProvider.has(model));\n        _this10._hasDeclarationProvider.set(_this10._languageFeaturesService.declarationProvider.has(model));\n        _this10._hasImplementationProvider.set(_this10._languageFeaturesService.implementationProvider.has(model));\n        _this10._hasTypeDefinitionProvider.set(_this10._languageFeaturesService.typeDefinitionProvider.has(model));\n        _this10._hasHoverProvider.set(_this10._languageFeaturesService.hoverProvider.has(model));\n        _this10._hasDocumentHighlightProvider.set(_this10._languageFeaturesService.documentHighlightProvider.has(model));\n        _this10._hasDocumentSymbolProvider.set(_this10._languageFeaturesService.documentSymbolProvider.has(model));\n        _this10._hasReferenceProvider.set(_this10._languageFeaturesService.referenceProvider.has(model));\n        _this10._hasRenameProvider.set(_this10._languageFeaturesService.renameProvider.has(model));\n        _this10._hasSignatureHelpProvider.set(_this10._languageFeaturesService.signatureHelpProvider.has(model));\n        _this10._hasInlayHintsProvider.set(_this10._languageFeaturesService.inlayHintsProvider.has(model));\n        _this10._hasDocumentFormattingProvider.set(_this10._languageFeaturesService.documentFormattingEditProvider.has(model) || _this10._languageFeaturesService.documentRangeFormattingEditProvider.has(model));\n        _this10._hasDocumentSelectionFormattingProvider.set(_this10._languageFeaturesService.documentRangeFormattingEditProvider.has(model));\n        _this10._hasMultipleDocumentFormattingProvider.set(_this10._languageFeaturesService.documentFormattingEditProvider.all(model).length + _this10._languageFeaturesService.documentRangeFormattingEditProvider.all(model).length > 1);\n        _this10._hasMultipleDocumentSelectionFormattingProvider.set(_this10._languageFeaturesService.documentRangeFormattingEditProvider.all(model).length > 1);\n        _this10._isInEmbeddedEditor.set(model.uri.scheme === Schemas.walkThroughSnippet || model.uri.scheme === Schemas.vscodeChatCodeBlock);\n      });\n    }\n  }]);\n}(Disposable);\nvar CodeEditorWidgetFocusTracker = /*#__PURE__*/function (_Disposable5) {\n  function CodeEditorWidgetFocusTracker(domElement, overflowWidgetsDomNode) {\n    var _this11;\n    _classCallCheck(this, CodeEditorWidgetFocusTracker);\n    _this11 = _callSuper(this, CodeEditorWidgetFocusTracker);\n    _this11._onChange = _this11._register(new Emitter());\n    _this11.onChange = _this11._onChange.event;\n    _this11._hadFocus = undefined;\n    _this11._hasDomElementFocus = false;\n    _this11._domFocusTracker = _this11._register(dom.trackFocus(domElement));\n    _this11._overflowWidgetsDomNodeHasFocus = false;\n    _this11._register(_this11._domFocusTracker.onDidFocus(function () {\n      _this11._hasDomElementFocus = true;\n      _this11._update();\n    }));\n    _this11._register(_this11._domFocusTracker.onDidBlur(function () {\n      _this11._hasDomElementFocus = false;\n      _this11._update();\n    }));\n    if (overflowWidgetsDomNode) {\n      _this11._overflowWidgetsDomNode = _this11._register(dom.trackFocus(overflowWidgetsDomNode));\n      _this11._register(_this11._overflowWidgetsDomNode.onDidFocus(function () {\n        _this11._overflowWidgetsDomNodeHasFocus = true;\n        _this11._update();\n      }));\n      _this11._register(_this11._overflowWidgetsDomNode.onDidBlur(function () {\n        _this11._overflowWidgetsDomNodeHasFocus = false;\n        _this11._update();\n      }));\n    }\n    return _this11;\n  }\n  _inherits(CodeEditorWidgetFocusTracker, _Disposable5);\n  return _createClass(CodeEditorWidgetFocusTracker, [{\n    key: \"_update\",\n    value: function _update() {\n      var focused = this._hasDomElementFocus || this._overflowWidgetsDomNodeHasFocus;\n      if (this._hadFocus !== focused) {\n        this._hadFocus = focused;\n        this._onChange.fire(undefined);\n      }\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      var _a;\n      return (_a = this._hadFocus) !== null && _a !== void 0 ? _a : false;\n    }\n  }]);\n}(Disposable);\nvar EditorDecorationsCollection = /*#__PURE__*/function () {\n  function EditorDecorationsCollection(_editor, decorations) {\n    _classCallCheck(this, EditorDecorationsCollection);\n    this._editor = _editor;\n    this._decorationIds = [];\n    this._isChangingDecorations = false;\n    if (Array.isArray(decorations) && decorations.length > 0) {\n      this.set(decorations);\n    }\n  }\n  return _createClass(EditorDecorationsCollection, [{\n    key: \"length\",\n    get: function get() {\n      return this._decorationIds.length;\n    }\n  }, {\n    key: \"onDidChange\",\n    value: function onDidChange(listener, thisArgs, disposables) {\n      var _this12 = this;\n      return this._editor.onDidChangeModelDecorations(function (e) {\n        if (_this12._isChangingDecorations) {\n          return;\n        }\n        listener.call(thisArgs, e);\n      }, disposables);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(index) {\n      if (!this._editor.hasModel()) {\n        return null;\n      }\n      if (index >= this._decorationIds.length) {\n        return null;\n      }\n      return this._editor.getModel().getDecorationRange(this._decorationIds[index]);\n    }\n  }, {\n    key: \"getRanges\",\n    value: function getRanges() {\n      if (!this._editor.hasModel()) {\n        return [];\n      }\n      var model = this._editor.getModel();\n      var result = [];\n      var _iterator2 = _createForOfIteratorHelper(this._decorationIds),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var decorationId = _step2.value;\n          var range = model.getDecorationRange(decorationId);\n          if (range) {\n            result.push(range);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return result;\n    }\n  }, {\n    key: \"has\",\n    value: function has(decoration) {\n      return this._decorationIds.includes(decoration.id);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this._decorationIds.length === 0) {\n        // nothing to do\n        return;\n      }\n      this.set([]);\n    }\n  }, {\n    key: \"set\",\n    value: function set(newDecorations) {\n      var _this13 = this;\n      try {\n        this._isChangingDecorations = true;\n        this._editor.changeDecorations(function (accessor) {\n          _this13._decorationIds = accessor.deltaDecorations(_this13._decorationIds, newDecorations);\n        });\n      } finally {\n        this._isChangingDecorations = false;\n      }\n      return this._decorationIds;\n    }\n  }, {\n    key: \"append\",\n    value: function append(newDecorations) {\n      var _this14 = this;\n      var newDecorationIds = [];\n      try {\n        this._isChangingDecorations = true;\n        this._editor.changeDecorations(function (accessor) {\n          newDecorationIds = accessor.deltaDecorations([], newDecorations);\n          _this14._decorationIds = _this14._decorationIds.concat(newDecorationIds);\n        });\n      } finally {\n        this._isChangingDecorations = false;\n      }\n      return newDecorationIds;\n    }\n  }]);\n}();\nvar squigglyStart = encodeURIComponent(\"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='\");\nvar squigglyEnd = encodeURIComponent(\"'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>\");\nfunction getSquigglySVGData(color) {\n  return squigglyStart + encodeURIComponent(color.toString()) + squigglyEnd;\n}\nvar dotdotdotStart = encodeURIComponent(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"3\\\" width=\\\"12\\\"><g fill=\\\"\");\nvar dotdotdotEnd = encodeURIComponent(\"\\\"><circle cx=\\\"1\\\" cy=\\\"1\\\" r=\\\"1\\\"/><circle cx=\\\"5\\\" cy=\\\"1\\\" r=\\\"1\\\"/><circle cx=\\\"9\\\" cy=\\\"1\\\" r=\\\"1\\\"/></g></svg>\");\nfunction getDotDotDotSVGData(color) {\n  return dotdotdotStart + encodeURIComponent(color.toString()) + dotdotdotEnd;\n}\nregisterThemingParticipant(function (theme, collector) {\n  var errorForeground = theme.getColor(editorErrorForeground);\n  if (errorForeground) {\n    collector.addRule(\".monaco-editor .\".concat(\"squiggly-error\" /* ClassName.EditorErrorDecoration */, \" { background: url(\\\"data:image/svg+xml,\", getSquigglySVGData(errorForeground), \"\\\") repeat-x bottom left; }\"));\n  }\n  var warningForeground = theme.getColor(editorWarningForeground);\n  if (warningForeground) {\n    collector.addRule(\".monaco-editor .\".concat(\"squiggly-warning\" /* ClassName.EditorWarningDecoration */, \" { background: url(\\\"data:image/svg+xml,\", getSquigglySVGData(warningForeground), \"\\\") repeat-x bottom left; }\"));\n  }\n  var infoForeground = theme.getColor(editorInfoForeground);\n  if (infoForeground) {\n    collector.addRule(\".monaco-editor .\".concat(\"squiggly-info\" /* ClassName.EditorInfoDecoration */, \" { background: url(\\\"data:image/svg+xml,\", getSquigglySVGData(infoForeground), \"\\\") repeat-x bottom left; }\"));\n  }\n  var hintForeground = theme.getColor(editorHintForeground);\n  if (hintForeground) {\n    collector.addRule(\".monaco-editor .\".concat(\"squiggly-hint\" /* ClassName.EditorHintDecoration */, \" { background: url(\\\"data:image/svg+xml,\", getDotDotDotSVGData(hintForeground), \"\\\") no-repeat bottom left; }\"));\n  }\n  var unnecessaryForeground = theme.getColor(editorUnnecessaryCodeOpacity);\n  if (unnecessaryForeground) {\n    collector.addRule(\".monaco-editor.showUnused .\".concat(\"squiggly-inline-unnecessary\" /* ClassName.EditorUnnecessaryInlineDecoration */, \" { opacity: \", unnecessaryForeground.rgba.a, \"; }\"));\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","CodeEditorWidget_1","dom","onUnexpectedError","Emitter","createEventDeliveryQueue","Disposable","dispose","Schemas","applyFontInfo","EditorConfiguration","TabFocus","EditorExtensionsRegistry","ICodeEditorService","View","DOMLineBreaksComputerFactory","ViewUserInputEvents","CodeEditorContributions","filterValidationDecorations","CursorColumns","editorUnnecessaryCodeOpacity","Position","Range","Selection","WordOperations","InternalEditorAction","editorCommon","EditorContextKeys","ILanguageConfigurationService","ModelDecorationOptions","ILanguageFeaturesService","MonospaceLineBreaksComputerFactory","ViewModel","nls","IAccessibilityService","ICommandService","IContextKeyService","IInstantiationService","ServiceCollection","INotificationService","Severity","editorErrorForeground","editorHintForeground","editorInfoForeground","editorWarningForeground","IThemeService","registerThemingParticipant","CodeEditorWidget","_Disposable","domElement","_options","codeEditorWidgetOptions","instantiationService","codeEditorService","commandService","contextKeyService","themeService","notificationService","accessibilityService","languageConfigurationService","languageFeaturesService","_this","_classCallCheck","_a","_callSuper","_deliveryQueue","_contributions","_register","_onDidDispose","onDidDispose","event","_onDidChangeModelContent","deliveryQueue","onDidChangeModelContent","_onDidChangeModelLanguage","onDidChangeModelLanguage","_onDidChangeModelLanguageConfiguration","onDidChangeModelLanguageConfiguration","_onDidChangeModelOptions","onDidChangeModelOptions","_onDidChangeModelDecorations","onDidChangeModelDecorations","_onDidChangeModelTokens","onDidChangeModelTokens","_onDidChangeConfiguration","onDidChangeConfiguration","_onWillChangeModel","onWillChangeModel","_onDidChangeModel","onDidChangeModel","_onDidChangeCursorPosition","onDidChangeCursorPosition","_onDidChangeCursorSelection","onDidChangeCursorSelection","_onDidAttemptReadOnlyEdit","InteractionEmitter","onDidAttemptReadOnlyEdit","_onDidLayoutChange","onDidLayoutChange","_editorTextFocus","BooleanEventEmitter","onDidFocusEditorText","onDidChangeToTrue","onDidBlurEditorText","onDidChangeToFalse","_editorWidgetFocus","onDidFocusEditorWidget","onDidBlurEditorWidget","_onWillType","onWillType","_onDidType","onDidType","_onDidCompositionStart","onDidCompositionStart","_onDidCompositionEnd","onDidCompositionEnd","_onDidPaste","onDidPaste","_onMouseUp","onMouseUp","_onMouseDown","onMouseDown","_onMouseDrag","onMouseDrag","_onMouseDrop","onMouseDrop","_onMouseDropCanceled","onMouseDropCanceled","_onDropIntoEditor","onDropIntoEditor","_onContextMenu","onContextMenu","_onMouseMove","onMouseMove","_onMouseLeave","onMouseLeave","_onMouseWheel","onMouseWheel","_onKeyUp","onKeyUp","_onKeyDown","onKeyDown","_onDidContentSizeChange","onDidContentSizeChange","_onDidScrollChange","onDidScrollChange","_onDidChangeViewZones","onDidChangeViewZones","_onDidChangeHiddenAreas","onDidChangeHiddenAreas","_actions","Map","_bannerDomNode","_dropIntoEditorDecorations","createDecorationsCollection","willCreateCodeEditor","options","_objectSpread","_domElement","_overflowWidgetsDomNode","overflowWidgetsDomNode","_id","EDITOR_ID","_decorationTypeKeysToIds","_decorationTypeSubtypes","_telemetryData","telemetryData","_configuration","_createConfiguration","isSimpleWidget","onDidChange","e","fire","hasChanged","layoutInfo","get","_contextKeyService","createScoped","_notificationService","_codeEditorService","_commandService","_themeService","EditorContextKeysManager","EditorModeContext","_instantiationService","createChild","_modelData","_focusTracker","CodeEditorWidgetFocusTracker","onChange","setValue","hasFocus","_contentWidgets","_overlayWidgets","_glyphMarginWidgets","contributions","Array","isArray","getEditorContributions","initialize","_iterator","_createForOfIteratorHelper","getEditorActions","_step","_loop","action","value","has","id","Error","concat","internalAction","label","alias","metadata","precondition","undefined","args","invokeFunction","accessor","Promise","resolve","runEditorCommand","set","s","n","done","err","f","isDropIntoEnabled","enabled","DragAndDropObserver","onDragOver","getTargetAtClientPoint","clientX","clientY","position","showDropIndicatorAt","onDrop","_onDrop","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","removeDropIndicator","dataTransfer","stop","_x","apply","onDragLeave","onDragEnd","addCodeEditor","_inherits","_createClass","writeScreenReaderContent","reason","view","getId","getEditorType","EditorType","ICodeEditor","removeCodeEditor","clear","_removeDecorationTypes","_postDetachModelCleanup","_detachModel","_get","_getPrototypeOf","prototype","call","invokeWithinContext","fn","updateOptions","newOptions","getOptions","getOption","getRawOptions","getOverflowWidgetsDomNode","getConfiguredWordAtPosition","getWordAtPosition","model","getValue","preserveBOM","eolPreference","lineEnding","newValue","getModel","setModel","_model","oldModelUrl","uri","newModelUrl","hasTextFocus","detachedModel","_attachModel","hasModel","focus","_contributionsDisposable","onAfterModelAttached","decorationType","subTypes","subType","_removeDecorationType","getVisibleRanges","viewModel","getVisibleRangesPlusViewportAboveBelow","getWhitespaces","viewLayout","getTopForLineNumber","lineNumber","includeViewZones","_getVerticalOffsetForPosition","getTopForPosition","column","getBottomForLineNumber","_getVerticalOffsetAfterPosition","setHiddenAreas","ranges","source","map","lift","getVisibleColumnFromPosition","rawPosition","validatePosition","tabSize","visibleColumnFromColumn","getLineContent","getPosition","setPosition","isIPosition","setSelections","selectionStartLineNumber","selectionStartColumn","positionLineNumber","positionColumn","_sendRevealRange","modelRange","verticalType","revealHorizontal","scrollType","isIRange","validatedModelRange","validateRange","viewRange","coordinatesConverter","convertModelRangeToViewRange","revealRange","revealLine","_revealLine","revealLineInCenter","revealLineInCenterIfOutsideViewport","revealLineNearTop","revealType","revealPosition","_revealPosition","revealPositionInCenter","revealPositionInCenterIfOutsideViewport","revealPositionNearTop","getSelection","getSelections","setSelection","something","isSelection","isISelection","isRange","_setSelectionImpl","selection","startLineNumber","startColumn","endLineNumber","endColumn","sel","revealLines","_revealLines","revealLinesInCenter","revealLinesInCenterIfOutsideViewport","revealLinesNearTop","range","revealVerticalInCenter","_revealRange","revealRangeInCenter","revealRangeInCenterIfOutsideViewport","revealRangeNearTop","revealRangeNearTopIfOutsideViewport","revealRangeAtTop","len","getContentWidth","getScrollWidth","getScrollLeft","getCurrentScrollLeft","getContentHeight","getScrollHeight","getScrollTop","getCurrentScrollTop","setScrollLeft","newScrollLeft","setScrollPosition","scrollLeft","setScrollTop","newScrollTop","scrollTop","hasPendingScrollAnimation","saveViewState","contributionsState","cursorState","saveCursorState","viewState","saveState","restoreViewState","hasRealView","codeEditorState","restoreCursorState","reducedState","reduceRestoreState","restoreState","handleInitialized","_getViewModel","visibleLinesStabilized","getContribution","getActions","from","values","getSupportedActions","result","filter","isSupported","getAction","trigger","handlerId","payload","_startComposition","_endComposition","_type","text","_compositionType","replaceCharCnt","replacePrevCharCnt","replaceNextCharCnt","positionDelta","_paste","pasteOnNewLine","multicursorText","mode","clipboardEvent","_cut","run","then","_triggerEditorCommand","_triggerCommand","executeCommand","startComposition","endComposition","type","compositionType","startPosition","getStartPosition","paste","endPosition","languageId","cut","_this2","command","getEditorCommand","pushUndoStop","pushStackElement","popUndoStop","popStackElement","executeEdits","edits","endCursorState","cursorStateComputer","executeCommands","commands","decorations","EditorDecorationsCollection","changeDecorations","callback","getLineDecorations","getDecorationsInRange","deltaDecorations","oldDecorations","newDecorations","removeDecorations","decorationIds","changeAccessor","removeDecorationsByType","decorationTypeKey","oldDecorationsIds","hasOwnProperty","getLayoutInfo","createOverviewRuler","cssClassName","getContainerDomNode","getDomNode","domNode","delegateVerticalScrollbarPointerDown","browserEvent","delegateScrollFromMouseWheelEvent","layout","dimension","postponeRendering","observeContainer","render","isFocused","hasWidgetFocus","addContentWidget","widget","widgetData","console","warn","layoutContentWidget","widgetId","removeContentWidget","addOverlayWidget","layoutOverlayWidget","removeOverlayWidget","addGlyphMarginWidget","layoutGlyphMarginWidget","removeGlyphMarginWidget","changeViewZones","change","getScrolledVisiblePosition","top","left","getOffsetForColumn","glyphMarginWidth","lineNumbersWidth","decorationsWidth","height","forceRedraw","setAriaOptions","setBanner","domNodeHeight","contains","removeChild","setReservedHeight","prepend","_this3","listenersToRemove","setAttribute","getLanguageId","setIsDominatedByLongLines","isDominatedByLongLines","setModelLineCount","getLineCount","attachedView","onBeforeAttached","create","getWindow","scheduleAtNextAnimationFrame","push","onWillDispose","onEvent","kind","reachedMaxCursorCount","multiCursorLimit","message","localize","prompt","Warning","query","positions","selections","e1","secondaryPositions","slice","e2","secondarySelections","modelVersionId","oldSelections","oldModelVersionId","_this$_createView","_createView","_this$_createView2","_slicedToArray","appendChild","keys","toString","ModelData","_this4","commandDelegate","viewUserInputEvents","getColorTheme","removeAllDecorationsWithOwnerId","removeDomNode","removeAttribute","removeDecorationType","dropIntoEditorDecorationOptions","setContextValue","createKey","modelData","modelLineNumber","modelColumn","modelPosition","viewPosition","convertModelPositionToViewPosition","getVerticalOffsetAfterLineNumber","getVerticalOffsetForLineNumber","register","description","className","onBeforeDetached","_Disposable2","_emitterOptions","_this5","_onDidChangeToTrue","_onDidChangeToFalse","_value","_Emitter","_this6","onBeforeInteractionEvent","_Disposable3","editor","_this7","_editor","_editorSimpleInput","editorSimpleInput","bindTo","_editorFocus","_textInputFocus","textInputFocus","editorTextFocus","_tabMovesFocus","tabMovesFocus","_editorReadonly","readOnly","_inDiffEditor","inDiffEditor","_editorColumnSelection","columnSelection","_hasMultipleSelections","hasMultipleSelections","_hasNonEmptySelection","hasNonEmptySelection","_canUndo","canUndo","_canRedo","canRedo","_updateFromConfig","_updateFromSelection","_updateFromFocus","_updateFromModel","onDidChangeTabFocus","tabFocusMode","getTabFocusMode","reset","some","isEmpty","Boolean","_Disposable4","_languageFeaturesService","_this8","_langId","_hasCompletionItemProvider","hasCompletionItemProvider","_hasCodeActionsProvider","hasCodeActionsProvider","_hasCodeLensProvider","hasCodeLensProvider","_hasDefinitionProvider","hasDefinitionProvider","_hasDeclarationProvider","hasDeclarationProvider","_hasImplementationProvider","hasImplementationProvider","_hasTypeDefinitionProvider","hasTypeDefinitionProvider","_hasHoverProvider","hasHoverProvider","_hasDocumentHighlightProvider","hasDocumentHighlightProvider","_hasDocumentSymbolProvider","hasDocumentSymbolProvider","_hasReferenceProvider","hasReferenceProvider","_hasRenameProvider","hasRenameProvider","_hasSignatureHelpProvider","hasSignatureHelpProvider","_hasInlayHintsProvider","hasInlayHintsProvider","_hasDocumentFormattingProvider","hasDocumentFormattingProvider","_hasDocumentSelectionFormattingProvider","hasDocumentSelectionFormattingProvider","_hasMultipleDocumentFormattingProvider","hasMultipleDocumentFormattingProvider","_hasMultipleDocumentSelectionFormattingProvider","hasMultipleDocumentSelectionFormattingProvider","_isInEmbeddedEditor","isInEmbeddedEditor","update","_update","completionProvider","codeActionProvider","codeLensProvider","definitionProvider","declarationProvider","implementationProvider","typeDefinitionProvider","hoverProvider","documentHighlightProvider","documentSymbolProvider","referenceProvider","renameProvider","documentFormattingEditProvider","documentRangeFormattingEditProvider","signatureHelpProvider","inlayHintsProvider","_this9","bufferChangeEvents","_this10","all","scheme","walkThroughSnippet","vscodeChatCodeBlock","_Disposable5","_this11","_onChange","_hadFocus","_hasDomElementFocus","_domFocusTracker","trackFocus","_overflowWidgetsDomNodeHasFocus","onDidFocus","onDidBlur","focused","_decorationIds","_isChangingDecorations","listener","thisArgs","disposables","_this12","getRange","index","getDecorationRange","getRanges","_iterator2","_step2","decorationId","decoration","includes","_this13","append","_this14","newDecorationIds","squigglyStart","encodeURIComponent","squigglyEnd","getSquigglySVGData","color","dotdotdotStart","dotdotdotEnd","getDotDotDotSVGData","theme","collector","errorForeground","getColor","addRule","warningForeground","infoForeground","hintForeground","unnecessaryForeground","rgba","a"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditor/codeEditorWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar CodeEditorWidget_1;\nimport '../../services/markerDecorations.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, createEventDeliveryQueue } from '../../../../base/common/event.js';\nimport { Disposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport './editor.css';\nimport { applyFontInfo } from '../../config/domFontInfo.js';\nimport { EditorConfiguration } from '../../config/editorConfiguration.js';\nimport { TabFocus } from '../../config/tabFocus.js';\nimport { EditorExtensionsRegistry } from '../../editorExtensions.js';\nimport { ICodeEditorService } from '../../services/codeEditorService.js';\nimport { View } from '../../view.js';\nimport { DOMLineBreaksComputerFactory } from '../../view/domLineBreaksComputer.js';\nimport { ViewUserInputEvents } from '../../view/viewUserInputEvents.js';\nimport { CodeEditorContributions } from './codeEditorContributions.js';\nimport { filterValidationDecorations } from '../../../common/config/editorOptions.js';\nimport { CursorColumns } from '../../../common/core/cursorColumns.js';\nimport { editorUnnecessaryCodeOpacity } from '../../../common/core/editorColorRegistry.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { InternalEditorAction } from '../../../common/editorAction.js';\nimport * as editorCommon from '../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { MonospaceLineBreaksComputerFactory } from '../../../common/viewModel/monospaceLineBreaksComputer.js';\nimport { ViewModel } from '../../../common/viewModel/viewModelImpl.js';\nimport * as nls from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { editorErrorForeground, editorHintForeground, editorInfoForeground, editorWarningForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nlet CodeEditorWidget = CodeEditorWidget_1 = class CodeEditorWidget extends Disposable {\n    //#endregion\n    get isSimpleWidget() {\n        return this._configuration.isSimpleWidget;\n    }\n    constructor(domElement, _options, codeEditorWidgetOptions, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService) {\n        var _a;\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        //#region Eventing\n        this._deliveryQueue = createEventDeliveryQueue();\n        this._contributions = this._register(new CodeEditorContributions());\n        this._onDidDispose = this._register(new Emitter());\n        this.onDidDispose = this._onDidDispose.event;\n        this._onDidChangeModelContent = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelContent = this._onDidChangeModelContent.event;\n        this._onDidChangeModelLanguage = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelLanguage = this._onDidChangeModelLanguage.event;\n        this._onDidChangeModelLanguageConfiguration = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelLanguageConfiguration = this._onDidChangeModelLanguageConfiguration.event;\n        this._onDidChangeModelOptions = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelOptions = this._onDidChangeModelOptions.event;\n        this._onDidChangeModelDecorations = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelDecorations = this._onDidChangeModelDecorations.event;\n        this._onDidChangeModelTokens = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModelTokens = this._onDidChangeModelTokens.event;\n        this._onDidChangeConfiguration = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeConfiguration = this._onDidChangeConfiguration.event;\n        this._onWillChangeModel = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onWillChangeModel = this._onWillChangeModel.event;\n        this._onDidChangeModel = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeModel = this._onDidChangeModel.event;\n        this._onDidChangeCursorPosition = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeCursorPosition = this._onDidChangeCursorPosition.event;\n        this._onDidChangeCursorSelection = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeCursorSelection = this._onDidChangeCursorSelection.event;\n        this._onDidAttemptReadOnlyEdit = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDidAttemptReadOnlyEdit = this._onDidAttemptReadOnlyEdit.event;\n        this._onDidLayoutChange = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidLayoutChange = this._onDidLayoutChange.event;\n        this._editorTextFocus = this._register(new BooleanEventEmitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidFocusEditorText = this._editorTextFocus.onDidChangeToTrue;\n        this.onDidBlurEditorText = this._editorTextFocus.onDidChangeToFalse;\n        this._editorWidgetFocus = this._register(new BooleanEventEmitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidFocusEditorWidget = this._editorWidgetFocus.onDidChangeToTrue;\n        this.onDidBlurEditorWidget = this._editorWidgetFocus.onDidChangeToFalse;\n        this._onWillType = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onWillType = this._onWillType.event;\n        this._onDidType = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDidType = this._onDidType.event;\n        this._onDidCompositionStart = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDidCompositionStart = this._onDidCompositionStart.event;\n        this._onDidCompositionEnd = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDidCompositionEnd = this._onDidCompositionEnd.event;\n        this._onDidPaste = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDidPaste = this._onDidPaste.event;\n        this._onMouseUp = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseUp = this._onMouseUp.event;\n        this._onMouseDown = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseDown = this._onMouseDown.event;\n        this._onMouseDrag = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseDrag = this._onMouseDrag.event;\n        this._onMouseDrop = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseDrop = this._onMouseDrop.event;\n        this._onMouseDropCanceled = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseDropCanceled = this._onMouseDropCanceled.event;\n        this._onDropIntoEditor = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onDropIntoEditor = this._onDropIntoEditor.event;\n        this._onContextMenu = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onContextMenu = this._onContextMenu.event;\n        this._onMouseMove = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseMove = this._onMouseMove.event;\n        this._onMouseLeave = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseLeave = this._onMouseLeave.event;\n        this._onMouseWheel = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onMouseWheel = this._onMouseWheel.event;\n        this._onKeyUp = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onKeyUp = this._onKeyUp.event;\n        this._onKeyDown = this._register(new InteractionEmitter(this._contributions, this._deliveryQueue));\n        this.onKeyDown = this._onKeyDown.event;\n        this._onDidContentSizeChange = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidContentSizeChange = this._onDidContentSizeChange.event;\n        this._onDidScrollChange = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidScrollChange = this._onDidScrollChange.event;\n        this._onDidChangeViewZones = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeViewZones = this._onDidChangeViewZones.event;\n        this._onDidChangeHiddenAreas = this._register(new Emitter({ deliveryQueue: this._deliveryQueue }));\n        this.onDidChangeHiddenAreas = this._onDidChangeHiddenAreas.event;\n        this._actions = new Map();\n        this._bannerDomNode = null;\n        this._dropIntoEditorDecorations = this.createDecorationsCollection();\n        codeEditorService.willCreateCodeEditor();\n        const options = { ..._options };\n        this._domElement = domElement;\n        this._overflowWidgetsDomNode = options.overflowWidgetsDomNode;\n        delete options.overflowWidgetsDomNode;\n        this._id = (++EDITOR_ID);\n        this._decorationTypeKeysToIds = {};\n        this._decorationTypeSubtypes = {};\n        this._telemetryData = codeEditorWidgetOptions.telemetryData;\n        this._configuration = this._register(this._createConfiguration(codeEditorWidgetOptions.isSimpleWidget || false, options, accessibilityService));\n        this._register(this._configuration.onDidChange((e) => {\n            this._onDidChangeConfiguration.fire(e);\n            const options = this._configuration.options;\n            if (e.hasChanged(145 /* EditorOption.layoutInfo */)) {\n                const layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n                this._onDidLayoutChange.fire(layoutInfo);\n            }\n        }));\n        this._contextKeyService = this._register(contextKeyService.createScoped(this._domElement));\n        this._notificationService = notificationService;\n        this._codeEditorService = codeEditorService;\n        this._commandService = commandService;\n        this._themeService = themeService;\n        this._register(new EditorContextKeysManager(this, this._contextKeyService));\n        this._register(new EditorModeContext(this, this._contextKeyService, languageFeaturesService));\n        this._instantiationService = instantiationService.createChild(new ServiceCollection([IContextKeyService, this._contextKeyService]));\n        this._modelData = null;\n        this._focusTracker = new CodeEditorWidgetFocusTracker(domElement, this._overflowWidgetsDomNode);\n        this._register(this._focusTracker.onChange(() => {\n            this._editorWidgetFocus.setValue(this._focusTracker.hasFocus());\n        }));\n        this._contentWidgets = {};\n        this._overlayWidgets = {};\n        this._glyphMarginWidgets = {};\n        let contributions;\n        if (Array.isArray(codeEditorWidgetOptions.contributions)) {\n            contributions = codeEditorWidgetOptions.contributions;\n        }\n        else {\n            contributions = EditorExtensionsRegistry.getEditorContributions();\n        }\n        this._contributions.initialize(this, contributions, this._instantiationService);\n        for (const action of EditorExtensionsRegistry.getEditorActions()) {\n            if (this._actions.has(action.id)) {\n                onUnexpectedError(new Error(`Cannot have two actions with the same id ${action.id}`));\n                continue;\n            }\n            const internalAction = new InternalEditorAction(action.id, action.label, action.alias, action.metadata, (_a = action.precondition) !== null && _a !== void 0 ? _a : undefined, (args) => {\n                return this._instantiationService.invokeFunction((accessor) => {\n                    return Promise.resolve(action.runEditorCommand(accessor, this, args));\n                });\n            }, this._contextKeyService);\n            this._actions.set(internalAction.id, internalAction);\n        }\n        const isDropIntoEnabled = () => {\n            return !this._configuration.options.get(91 /* EditorOption.readOnly */)\n                && this._configuration.options.get(36 /* EditorOption.dropIntoEditor */).enabled;\n        };\n        this._register(new dom.DragAndDropObserver(this._domElement, {\n            onDragOver: e => {\n                if (!isDropIntoEnabled()) {\n                    return;\n                }\n                const target = this.getTargetAtClientPoint(e.clientX, e.clientY);\n                if (target === null || target === void 0 ? void 0 : target.position) {\n                    this.showDropIndicatorAt(target.position);\n                }\n            },\n            onDrop: async (e) => {\n                if (!isDropIntoEnabled()) {\n                    return;\n                }\n                this.removeDropIndicator();\n                if (!e.dataTransfer) {\n                    return;\n                }\n                const target = this.getTargetAtClientPoint(e.clientX, e.clientY);\n                if (target === null || target === void 0 ? void 0 : target.position) {\n                    this._onDropIntoEditor.fire({ position: target.position, event: e });\n                }\n            },\n            onDragLeave: () => {\n                this.removeDropIndicator();\n            },\n            onDragEnd: () => {\n                this.removeDropIndicator();\n            },\n        }));\n        this._codeEditorService.addCodeEditor(this);\n    }\n    writeScreenReaderContent(reason) {\n        var _a;\n        (_a = this._modelData) === null || _a === void 0 ? void 0 : _a.view.writeScreenReaderContent(reason);\n    }\n    _createConfiguration(isSimpleWidget, options, accessibilityService) {\n        return new EditorConfiguration(isSimpleWidget, options, this._domElement, accessibilityService);\n    }\n    getId() {\n        return this.getEditorType() + ':' + this._id;\n    }\n    getEditorType() {\n        return editorCommon.EditorType.ICodeEditor;\n    }\n    dispose() {\n        this._codeEditorService.removeCodeEditor(this);\n        this._focusTracker.dispose();\n        this._actions.clear();\n        this._contentWidgets = {};\n        this._overlayWidgets = {};\n        this._removeDecorationTypes();\n        this._postDetachModelCleanup(this._detachModel());\n        this._onDidDispose.fire();\n        super.dispose();\n    }\n    invokeWithinContext(fn) {\n        return this._instantiationService.invokeFunction(fn);\n    }\n    updateOptions(newOptions) {\n        this._configuration.updateOptions(newOptions || {});\n    }\n    getOptions() {\n        return this._configuration.options;\n    }\n    getOption(id) {\n        return this._configuration.options.get(id);\n    }\n    getRawOptions() {\n        return this._configuration.getRawOptions();\n    }\n    getOverflowWidgetsDomNode() {\n        return this._overflowWidgetsDomNode;\n    }\n    getConfiguredWordAtPosition(position) {\n        if (!this._modelData) {\n            return null;\n        }\n        return WordOperations.getWordAtPosition(this._modelData.model, this._configuration.options.get(131 /* EditorOption.wordSeparators */), this._configuration.options.get(130 /* EditorOption.wordSegmenterLocales */), position);\n    }\n    getValue(options = null) {\n        if (!this._modelData) {\n            return '';\n        }\n        const preserveBOM = (options && options.preserveBOM) ? true : false;\n        let eolPreference = 0 /* EndOfLinePreference.TextDefined */;\n        if (options && options.lineEnding && options.lineEnding === '\\n') {\n            eolPreference = 1 /* EndOfLinePreference.LF */;\n        }\n        else if (options && options.lineEnding && options.lineEnding === '\\r\\n') {\n            eolPreference = 2 /* EndOfLinePreference.CRLF */;\n        }\n        return this._modelData.model.getValue(eolPreference, preserveBOM);\n    }\n    setValue(newValue) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.model.setValue(newValue);\n    }\n    getModel() {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.model;\n    }\n    setModel(_model = null) {\n        var _a;\n        const model = _model;\n        if (this._modelData === null && model === null) {\n            // Current model is the new model\n            return;\n        }\n        if (this._modelData && this._modelData.model === model) {\n            // Current model is the new model\n            return;\n        }\n        const e = {\n            oldModelUrl: ((_a = this._modelData) === null || _a === void 0 ? void 0 : _a.model.uri) || null,\n            newModelUrl: (model === null || model === void 0 ? void 0 : model.uri) || null\n        };\n        this._onWillChangeModel.fire(e);\n        const hasTextFocus = this.hasTextFocus();\n        const detachedModel = this._detachModel();\n        this._attachModel(model);\n        if (hasTextFocus && this.hasModel()) {\n            this.focus();\n        }\n        this._removeDecorationTypes();\n        this._onDidChangeModel.fire(e);\n        this._postDetachModelCleanup(detachedModel);\n        this._contributionsDisposable = this._contributions.onAfterModelAttached();\n    }\n    _removeDecorationTypes() {\n        this._decorationTypeKeysToIds = {};\n        if (this._decorationTypeSubtypes) {\n            for (const decorationType in this._decorationTypeSubtypes) {\n                const subTypes = this._decorationTypeSubtypes[decorationType];\n                for (const subType in subTypes) {\n                    this._removeDecorationType(decorationType + '-' + subType);\n                }\n            }\n            this._decorationTypeSubtypes = {};\n        }\n    }\n    getVisibleRanges() {\n        if (!this._modelData) {\n            return [];\n        }\n        return this._modelData.viewModel.getVisibleRanges();\n    }\n    getVisibleRangesPlusViewportAboveBelow() {\n        if (!this._modelData) {\n            return [];\n        }\n        return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow();\n    }\n    getWhitespaces() {\n        if (!this._modelData) {\n            return [];\n        }\n        return this._modelData.viewModel.viewLayout.getWhitespaces();\n    }\n    static _getVerticalOffsetAfterPosition(modelData, modelLineNumber, modelColumn, includeViewZones) {\n        const modelPosition = modelData.model.validatePosition({\n            lineNumber: modelLineNumber,\n            column: modelColumn\n        });\n        const viewPosition = modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n        return modelData.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(viewPosition.lineNumber, includeViewZones);\n    }\n    getTopForLineNumber(lineNumber, includeViewZones = false) {\n        if (!this._modelData) {\n            return -1;\n        }\n        return CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, lineNumber, 1, includeViewZones);\n    }\n    getTopForPosition(lineNumber, column) {\n        if (!this._modelData) {\n            return -1;\n        }\n        return CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, lineNumber, column, false);\n    }\n    static _getVerticalOffsetForPosition(modelData, modelLineNumber, modelColumn, includeViewZones = false) {\n        const modelPosition = modelData.model.validatePosition({\n            lineNumber: modelLineNumber,\n            column: modelColumn\n        });\n        const viewPosition = modelData.viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n        return modelData.viewModel.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber, includeViewZones);\n    }\n    getBottomForLineNumber(lineNumber, includeViewZones = false) {\n        if (!this._modelData) {\n            return -1;\n        }\n        return CodeEditorWidget_1._getVerticalOffsetAfterPosition(this._modelData, lineNumber, 1, includeViewZones);\n    }\n    setHiddenAreas(ranges, source) {\n        var _a;\n        (_a = this._modelData) === null || _a === void 0 ? void 0 : _a.viewModel.setHiddenAreas(ranges.map(r => Range.lift(r)), source);\n    }\n    getVisibleColumnFromPosition(rawPosition) {\n        if (!this._modelData) {\n            return rawPosition.column;\n        }\n        const position = this._modelData.model.validatePosition(rawPosition);\n        const tabSize = this._modelData.model.getOptions().tabSize;\n        return CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(position.lineNumber), position.column, tabSize) + 1;\n    }\n    getPosition() {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.viewModel.getPosition();\n    }\n    setPosition(position, source = 'api') {\n        if (!this._modelData) {\n            return;\n        }\n        if (!Position.isIPosition(position)) {\n            throw new Error('Invalid arguments');\n        }\n        this._modelData.viewModel.setSelections(source, [{\n                selectionStartLineNumber: position.lineNumber,\n                selectionStartColumn: position.column,\n                positionLineNumber: position.lineNumber,\n                positionColumn: position.column\n            }]);\n    }\n    _sendRevealRange(modelRange, verticalType, revealHorizontal, scrollType) {\n        if (!this._modelData) {\n            return;\n        }\n        if (!Range.isIRange(modelRange)) {\n            throw new Error('Invalid arguments');\n        }\n        const validatedModelRange = this._modelData.model.validateRange(modelRange);\n        const viewRange = this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(validatedModelRange);\n        this._modelData.viewModel.revealRange('api', revealHorizontal, viewRange, verticalType, scrollType);\n    }\n    revealLine(lineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLine(lineNumber, 0 /* VerticalRevealType.Simple */, scrollType);\n    }\n    revealLineInCenter(lineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLine(lineNumber, 1 /* VerticalRevealType.Center */, scrollType);\n    }\n    revealLineInCenterIfOutsideViewport(lineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLine(lineNumber, 2 /* VerticalRevealType.CenterIfOutsideViewport */, scrollType);\n    }\n    revealLineNearTop(lineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLine(lineNumber, 5 /* VerticalRevealType.NearTop */, scrollType);\n    }\n    _revealLine(lineNumber, revealType, scrollType) {\n        if (typeof lineNumber !== 'number') {\n            throw new Error('Invalid arguments');\n        }\n        this._sendRevealRange(new Range(lineNumber, 1, lineNumber, 1), revealType, false, scrollType);\n    }\n    revealPosition(position, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealPosition(position, 0 /* VerticalRevealType.Simple */, true, scrollType);\n    }\n    revealPositionInCenter(position, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealPosition(position, 1 /* VerticalRevealType.Center */, true, scrollType);\n    }\n    revealPositionInCenterIfOutsideViewport(position, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealPosition(position, 2 /* VerticalRevealType.CenterIfOutsideViewport */, true, scrollType);\n    }\n    revealPositionNearTop(position, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealPosition(position, 5 /* VerticalRevealType.NearTop */, true, scrollType);\n    }\n    _revealPosition(position, verticalType, revealHorizontal, scrollType) {\n        if (!Position.isIPosition(position)) {\n            throw new Error('Invalid arguments');\n        }\n        this._sendRevealRange(new Range(position.lineNumber, position.column, position.lineNumber, position.column), verticalType, revealHorizontal, scrollType);\n    }\n    getSelection() {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.viewModel.getSelection();\n    }\n    getSelections() {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.viewModel.getSelections();\n    }\n    setSelection(something, source = 'api') {\n        const isSelection = Selection.isISelection(something);\n        const isRange = Range.isIRange(something);\n        if (!isSelection && !isRange) {\n            throw new Error('Invalid arguments');\n        }\n        if (isSelection) {\n            this._setSelectionImpl(something, source);\n        }\n        else if (isRange) {\n            // act as if it was an IRange\n            const selection = {\n                selectionStartLineNumber: something.startLineNumber,\n                selectionStartColumn: something.startColumn,\n                positionLineNumber: something.endLineNumber,\n                positionColumn: something.endColumn\n            };\n            this._setSelectionImpl(selection, source);\n        }\n    }\n    _setSelectionImpl(sel, source) {\n        if (!this._modelData) {\n            return;\n        }\n        const selection = new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);\n        this._modelData.viewModel.setSelections(source, [selection]);\n    }\n    revealLines(startLineNumber, endLineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLines(startLineNumber, endLineNumber, 0 /* VerticalRevealType.Simple */, scrollType);\n    }\n    revealLinesInCenter(startLineNumber, endLineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLines(startLineNumber, endLineNumber, 1 /* VerticalRevealType.Center */, scrollType);\n    }\n    revealLinesInCenterIfOutsideViewport(startLineNumber, endLineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLines(startLineNumber, endLineNumber, 2 /* VerticalRevealType.CenterIfOutsideViewport */, scrollType);\n    }\n    revealLinesNearTop(startLineNumber, endLineNumber, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealLines(startLineNumber, endLineNumber, 5 /* VerticalRevealType.NearTop */, scrollType);\n    }\n    _revealLines(startLineNumber, endLineNumber, verticalType, scrollType) {\n        if (typeof startLineNumber !== 'number' || typeof endLineNumber !== 'number') {\n            throw new Error('Invalid arguments');\n        }\n        this._sendRevealRange(new Range(startLineNumber, 1, endLineNumber, 1), verticalType, false, scrollType);\n    }\n    revealRange(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */, revealVerticalInCenter = false, revealHorizontal = true) {\n        this._revealRange(range, revealVerticalInCenter ? 1 /* VerticalRevealType.Center */ : 0 /* VerticalRevealType.Simple */, revealHorizontal, scrollType);\n    }\n    revealRangeInCenter(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealRange(range, 1 /* VerticalRevealType.Center */, true, scrollType);\n    }\n    revealRangeInCenterIfOutsideViewport(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealRange(range, 2 /* VerticalRevealType.CenterIfOutsideViewport */, true, scrollType);\n    }\n    revealRangeNearTop(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealRange(range, 5 /* VerticalRevealType.NearTop */, true, scrollType);\n    }\n    revealRangeNearTopIfOutsideViewport(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealRange(range, 6 /* VerticalRevealType.NearTopIfOutsideViewport */, true, scrollType);\n    }\n    revealRangeAtTop(range, scrollType = 0 /* editorCommon.ScrollType.Smooth */) {\n        this._revealRange(range, 3 /* VerticalRevealType.Top */, true, scrollType);\n    }\n    _revealRange(range, verticalType, revealHorizontal, scrollType) {\n        if (!Range.isIRange(range)) {\n            throw new Error('Invalid arguments');\n        }\n        this._sendRevealRange(Range.lift(range), verticalType, revealHorizontal, scrollType);\n    }\n    setSelections(ranges, source = 'api', reason = 0 /* CursorChangeReason.NotSet */) {\n        if (!this._modelData) {\n            return;\n        }\n        if (!ranges || ranges.length === 0) {\n            throw new Error('Invalid arguments');\n        }\n        for (let i = 0, len = ranges.length; i < len; i++) {\n            if (!Selection.isISelection(ranges[i])) {\n                throw new Error('Invalid arguments');\n            }\n        }\n        this._modelData.viewModel.setSelections(source, ranges, reason);\n    }\n    getContentWidth() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getContentWidth();\n    }\n    getScrollWidth() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getScrollWidth();\n    }\n    getScrollLeft() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getCurrentScrollLeft();\n    }\n    getContentHeight() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getContentHeight();\n    }\n    getScrollHeight() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getScrollHeight();\n    }\n    getScrollTop() {\n        if (!this._modelData) {\n            return -1;\n        }\n        return this._modelData.viewModel.viewLayout.getCurrentScrollTop();\n    }\n    setScrollLeft(newScrollLeft, scrollType = 1 /* editorCommon.ScrollType.Immediate */) {\n        if (!this._modelData) {\n            return;\n        }\n        if (typeof newScrollLeft !== 'number') {\n            throw new Error('Invalid arguments');\n        }\n        this._modelData.viewModel.viewLayout.setScrollPosition({\n            scrollLeft: newScrollLeft\n        }, scrollType);\n    }\n    setScrollTop(newScrollTop, scrollType = 1 /* editorCommon.ScrollType.Immediate */) {\n        if (!this._modelData) {\n            return;\n        }\n        if (typeof newScrollTop !== 'number') {\n            throw new Error('Invalid arguments');\n        }\n        this._modelData.viewModel.viewLayout.setScrollPosition({\n            scrollTop: newScrollTop\n        }, scrollType);\n    }\n    setScrollPosition(position, scrollType = 1 /* editorCommon.ScrollType.Immediate */) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.viewLayout.setScrollPosition(position, scrollType);\n    }\n    hasPendingScrollAnimation() {\n        if (!this._modelData) {\n            return false;\n        }\n        return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation();\n    }\n    saveViewState() {\n        if (!this._modelData) {\n            return null;\n        }\n        const contributionsState = this._contributions.saveViewState();\n        const cursorState = this._modelData.viewModel.saveCursorState();\n        const viewState = this._modelData.viewModel.saveState();\n        return {\n            cursorState: cursorState,\n            viewState: viewState,\n            contributionsState: contributionsState\n        };\n    }\n    restoreViewState(s) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        const codeEditorState = s;\n        if (codeEditorState && codeEditorState.cursorState && codeEditorState.viewState) {\n            const cursorState = codeEditorState.cursorState;\n            if (Array.isArray(cursorState)) {\n                if (cursorState.length > 0) {\n                    this._modelData.viewModel.restoreCursorState(cursorState);\n                }\n            }\n            else {\n                // Backwards compatibility\n                this._modelData.viewModel.restoreCursorState([cursorState]);\n            }\n            this._contributions.restoreViewState(codeEditorState.contributionsState || {});\n            const reducedState = this._modelData.viewModel.reduceRestoreState(codeEditorState.viewState);\n            this._modelData.view.restoreState(reducedState);\n        }\n    }\n    handleInitialized() {\n        var _a;\n        (_a = this._getViewModel()) === null || _a === void 0 ? void 0 : _a.visibleLinesStabilized();\n    }\n    getContribution(id) {\n        return this._contributions.get(id);\n    }\n    getActions() {\n        return Array.from(this._actions.values());\n    }\n    getSupportedActions() {\n        let result = this.getActions();\n        result = result.filter(action => action.isSupported());\n        return result;\n    }\n    getAction(id) {\n        return this._actions.get(id) || null;\n    }\n    trigger(source, handlerId, payload) {\n        payload = payload || {};\n        switch (handlerId) {\n            case \"compositionStart\" /* editorCommon.Handler.CompositionStart */:\n                this._startComposition();\n                return;\n            case \"compositionEnd\" /* editorCommon.Handler.CompositionEnd */:\n                this._endComposition(source);\n                return;\n            case \"type\" /* editorCommon.Handler.Type */: {\n                const args = payload;\n                this._type(source, args.text || '');\n                return;\n            }\n            case \"replacePreviousChar\" /* editorCommon.Handler.ReplacePreviousChar */: {\n                const args = payload;\n                this._compositionType(source, args.text || '', args.replaceCharCnt || 0, 0, 0);\n                return;\n            }\n            case \"compositionType\" /* editorCommon.Handler.CompositionType */: {\n                const args = payload;\n                this._compositionType(source, args.text || '', args.replacePrevCharCnt || 0, args.replaceNextCharCnt || 0, args.positionDelta || 0);\n                return;\n            }\n            case \"paste\" /* editorCommon.Handler.Paste */: {\n                const args = payload;\n                this._paste(source, args.text || '', args.pasteOnNewLine || false, args.multicursorText || null, args.mode || null, args.clipboardEvent);\n                return;\n            }\n            case \"cut\" /* editorCommon.Handler.Cut */:\n                this._cut(source);\n                return;\n        }\n        const action = this.getAction(handlerId);\n        if (action) {\n            Promise.resolve(action.run(payload)).then(undefined, onUnexpectedError);\n            return;\n        }\n        if (!this._modelData) {\n            return;\n        }\n        if (this._triggerEditorCommand(source, handlerId, payload)) {\n            return;\n        }\n        this._triggerCommand(handlerId, payload);\n    }\n    _triggerCommand(handlerId, payload) {\n        this._commandService.executeCommand(handlerId, payload);\n    }\n    _startComposition() {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.startComposition();\n        this._onDidCompositionStart.fire();\n    }\n    _endComposition(source) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.endComposition(source);\n        this._onDidCompositionEnd.fire();\n    }\n    _type(source, text) {\n        if (!this._modelData || text.length === 0) {\n            return;\n        }\n        if (source === 'keyboard') {\n            this._onWillType.fire(text);\n        }\n        this._modelData.viewModel.type(text, source);\n        if (source === 'keyboard') {\n            this._onDidType.fire(text);\n        }\n    }\n    _compositionType(source, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.compositionType(text, replacePrevCharCnt, replaceNextCharCnt, positionDelta, source);\n    }\n    _paste(source, text, pasteOnNewLine, multicursorText, mode, clipboardEvent) {\n        if (!this._modelData) {\n            return;\n        }\n        const viewModel = this._modelData.viewModel;\n        const startPosition = viewModel.getSelection().getStartPosition();\n        viewModel.paste(text, pasteOnNewLine, multicursorText, source);\n        const endPosition = viewModel.getSelection().getStartPosition();\n        if (source === 'keyboard') {\n            this._onDidPaste.fire({\n                clipboardEvent,\n                range: new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column),\n                languageId: mode\n            });\n        }\n    }\n    _cut(source) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.cut(source);\n    }\n    _triggerEditorCommand(source, handlerId, payload) {\n        const command = EditorExtensionsRegistry.getEditorCommand(handlerId);\n        if (command) {\n            payload = payload || {};\n            payload.source = source;\n            this._instantiationService.invokeFunction((accessor) => {\n                Promise.resolve(command.runEditorCommand(accessor, this, payload)).then(undefined, onUnexpectedError);\n            });\n            return true;\n        }\n        return false;\n    }\n    _getViewModel() {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.viewModel;\n    }\n    pushUndoStop() {\n        if (!this._modelData) {\n            return false;\n        }\n        if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n            // read only editor => sorry!\n            return false;\n        }\n        this._modelData.model.pushStackElement();\n        return true;\n    }\n    popUndoStop() {\n        if (!this._modelData) {\n            return false;\n        }\n        if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n            // read only editor => sorry!\n            return false;\n        }\n        this._modelData.model.popStackElement();\n        return true;\n    }\n    executeEdits(source, edits, endCursorState) {\n        if (!this._modelData) {\n            return false;\n        }\n        if (this._configuration.options.get(91 /* EditorOption.readOnly */)) {\n            // read only editor => sorry!\n            return false;\n        }\n        let cursorStateComputer;\n        if (!endCursorState) {\n            cursorStateComputer = () => null;\n        }\n        else if (Array.isArray(endCursorState)) {\n            cursorStateComputer = () => endCursorState;\n        }\n        else {\n            cursorStateComputer = endCursorState;\n        }\n        this._modelData.viewModel.executeEdits(source, edits, cursorStateComputer);\n        return true;\n    }\n    executeCommand(source, command) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.executeCommand(command, source);\n    }\n    executeCommands(source, commands) {\n        if (!this._modelData) {\n            return;\n        }\n        this._modelData.viewModel.executeCommands(commands, source);\n    }\n    createDecorationsCollection(decorations) {\n        return new EditorDecorationsCollection(this, decorations);\n    }\n    changeDecorations(callback) {\n        if (!this._modelData) {\n            // callback will not be called\n            return null;\n        }\n        return this._modelData.model.changeDecorations(callback, this._id);\n    }\n    getLineDecorations(lineNumber) {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.model.getLineDecorations(lineNumber, this._id, filterValidationDecorations(this._configuration.options));\n    }\n    getDecorationsInRange(range) {\n        if (!this._modelData) {\n            return null;\n        }\n        return this._modelData.model.getDecorationsInRange(range, this._id, filterValidationDecorations(this._configuration.options));\n    }\n    /**\n     * @deprecated\n     */\n    deltaDecorations(oldDecorations, newDecorations) {\n        if (!this._modelData) {\n            return [];\n        }\n        if (oldDecorations.length === 0 && newDecorations.length === 0) {\n            return oldDecorations;\n        }\n        return this._modelData.model.deltaDecorations(oldDecorations, newDecorations, this._id);\n    }\n    removeDecorations(decorationIds) {\n        if (!this._modelData || decorationIds.length === 0) {\n            return;\n        }\n        this._modelData.model.changeDecorations((changeAccessor) => {\n            changeAccessor.deltaDecorations(decorationIds, []);\n        });\n    }\n    removeDecorationsByType(decorationTypeKey) {\n        // remove decorations for type and sub type\n        const oldDecorationsIds = this._decorationTypeKeysToIds[decorationTypeKey];\n        if (oldDecorationsIds) {\n            this.changeDecorations(accessor => accessor.deltaDecorations(oldDecorationsIds, []));\n        }\n        if (this._decorationTypeKeysToIds.hasOwnProperty(decorationTypeKey)) {\n            delete this._decorationTypeKeysToIds[decorationTypeKey];\n        }\n        if (this._decorationTypeSubtypes.hasOwnProperty(decorationTypeKey)) {\n            delete this._decorationTypeSubtypes[decorationTypeKey];\n        }\n    }\n    getLayoutInfo() {\n        const options = this._configuration.options;\n        const layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n        return layoutInfo;\n    }\n    createOverviewRuler(cssClassName) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return null;\n        }\n        return this._modelData.view.createOverviewRuler(cssClassName);\n    }\n    getContainerDomNode() {\n        return this._domElement;\n    }\n    getDomNode() {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return null;\n        }\n        return this._modelData.view.domNode.domNode;\n    }\n    delegateVerticalScrollbarPointerDown(browserEvent) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.delegateVerticalScrollbarPointerDown(browserEvent);\n    }\n    delegateScrollFromMouseWheelEvent(browserEvent) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.delegateScrollFromMouseWheelEvent(browserEvent);\n    }\n    layout(dimension, postponeRendering = false) {\n        this._configuration.observeContainer(dimension);\n        if (!postponeRendering) {\n            this.render();\n        }\n    }\n    focus() {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.focus();\n    }\n    hasTextFocus() {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return false;\n        }\n        return this._modelData.view.isFocused();\n    }\n    hasWidgetFocus() {\n        return this._focusTracker && this._focusTracker.hasFocus();\n    }\n    addContentWidget(widget) {\n        const widgetData = {\n            widget: widget,\n            position: widget.getPosition()\n        };\n        if (this._contentWidgets.hasOwnProperty(widget.getId())) {\n            console.warn('Overwriting a content widget with the same id:' + widget.getId());\n        }\n        this._contentWidgets[widget.getId()] = widgetData;\n        if (this._modelData && this._modelData.hasRealView) {\n            this._modelData.view.addContentWidget(widgetData);\n        }\n    }\n    layoutContentWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._contentWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._contentWidgets[widgetId];\n            widgetData.position = widget.getPosition();\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.layoutContentWidget(widgetData);\n            }\n        }\n    }\n    removeContentWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._contentWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._contentWidgets[widgetId];\n            delete this._contentWidgets[widgetId];\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.removeContentWidget(widgetData);\n            }\n        }\n    }\n    addOverlayWidget(widget) {\n        const widgetData = {\n            widget: widget,\n            position: widget.getPosition()\n        };\n        if (this._overlayWidgets.hasOwnProperty(widget.getId())) {\n            console.warn('Overwriting an overlay widget with the same id.');\n        }\n        this._overlayWidgets[widget.getId()] = widgetData;\n        if (this._modelData && this._modelData.hasRealView) {\n            this._modelData.view.addOverlayWidget(widgetData);\n        }\n    }\n    layoutOverlayWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._overlayWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._overlayWidgets[widgetId];\n            widgetData.position = widget.getPosition();\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.layoutOverlayWidget(widgetData);\n            }\n        }\n    }\n    removeOverlayWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._overlayWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._overlayWidgets[widgetId];\n            delete this._overlayWidgets[widgetId];\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.removeOverlayWidget(widgetData);\n            }\n        }\n    }\n    addGlyphMarginWidget(widget) {\n        const widgetData = {\n            widget: widget,\n            position: widget.getPosition()\n        };\n        if (this._glyphMarginWidgets.hasOwnProperty(widget.getId())) {\n            console.warn('Overwriting a glyph margin widget with the same id.');\n        }\n        this._glyphMarginWidgets[widget.getId()] = widgetData;\n        if (this._modelData && this._modelData.hasRealView) {\n            this._modelData.view.addGlyphMarginWidget(widgetData);\n        }\n    }\n    layoutGlyphMarginWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._glyphMarginWidgets[widgetId];\n            widgetData.position = widget.getPosition();\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.layoutGlyphMarginWidget(widgetData);\n            }\n        }\n    }\n    removeGlyphMarginWidget(widget) {\n        const widgetId = widget.getId();\n        if (this._glyphMarginWidgets.hasOwnProperty(widgetId)) {\n            const widgetData = this._glyphMarginWidgets[widgetId];\n            delete this._glyphMarginWidgets[widgetId];\n            if (this._modelData && this._modelData.hasRealView) {\n                this._modelData.view.removeGlyphMarginWidget(widgetData);\n            }\n        }\n    }\n    changeViewZones(callback) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.change(callback);\n    }\n    getTargetAtClientPoint(clientX, clientY) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return null;\n        }\n        return this._modelData.view.getTargetAtClientPoint(clientX, clientY);\n    }\n    getScrolledVisiblePosition(rawPosition) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return null;\n        }\n        const position = this._modelData.model.validatePosition(rawPosition);\n        const options = this._configuration.options;\n        const layoutInfo = options.get(145 /* EditorOption.layoutInfo */);\n        const top = CodeEditorWidget_1._getVerticalOffsetForPosition(this._modelData, position.lineNumber, position.column) - this.getScrollTop();\n        const left = this._modelData.view.getOffsetForColumn(position.lineNumber, position.column) + layoutInfo.glyphMarginWidth + layoutInfo.lineNumbersWidth + layoutInfo.decorationsWidth - this.getScrollLeft();\n        return {\n            top: top,\n            left: left,\n            height: options.get(67 /* EditorOption.lineHeight */)\n        };\n    }\n    getOffsetForColumn(lineNumber, column) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return -1;\n        }\n        return this._modelData.view.getOffsetForColumn(lineNumber, column);\n    }\n    render(forceRedraw = false) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.render(true, forceRedraw);\n    }\n    setAriaOptions(options) {\n        if (!this._modelData || !this._modelData.hasRealView) {\n            return;\n        }\n        this._modelData.view.setAriaOptions(options);\n    }\n    applyFontInfo(target) {\n        applyFontInfo(target, this._configuration.options.get(50 /* EditorOption.fontInfo */));\n    }\n    setBanner(domNode, domNodeHeight) {\n        if (this._bannerDomNode && this._domElement.contains(this._bannerDomNode)) {\n            this._domElement.removeChild(this._bannerDomNode);\n        }\n        this._bannerDomNode = domNode;\n        this._configuration.setReservedHeight(domNode ? domNodeHeight : 0);\n        if (this._bannerDomNode) {\n            this._domElement.prepend(this._bannerDomNode);\n        }\n    }\n    _attachModel(model) {\n        if (!model) {\n            this._modelData = null;\n            return;\n        }\n        const listenersToRemove = [];\n        this._domElement.setAttribute('data-mode-id', model.getLanguageId());\n        this._configuration.setIsDominatedByLongLines(model.isDominatedByLongLines());\n        this._configuration.setModelLineCount(model.getLineCount());\n        const attachedView = model.onBeforeAttached();\n        const viewModel = new ViewModel(this._id, this._configuration, model, DOMLineBreaksComputerFactory.create(dom.getWindow(this._domElement)), MonospaceLineBreaksComputerFactory.create(this._configuration.options), (callback) => dom.scheduleAtNextAnimationFrame(dom.getWindow(this._domElement), callback), this.languageConfigurationService, this._themeService, attachedView);\n        // Someone might destroy the model from under the editor, so prevent any exceptions by setting a null model\n        listenersToRemove.push(model.onWillDispose(() => this.setModel(null)));\n        listenersToRemove.push(viewModel.onEvent((e) => {\n            switch (e.kind) {\n                case 0 /* OutgoingViewModelEventKind.ContentSizeChanged */:\n                    this._onDidContentSizeChange.fire(e);\n                    break;\n                case 1 /* OutgoingViewModelEventKind.FocusChanged */:\n                    this._editorTextFocus.setValue(e.hasFocus);\n                    break;\n                case 2 /* OutgoingViewModelEventKind.ScrollChanged */:\n                    this._onDidScrollChange.fire(e);\n                    break;\n                case 3 /* OutgoingViewModelEventKind.ViewZonesChanged */:\n                    this._onDidChangeViewZones.fire();\n                    break;\n                case 4 /* OutgoingViewModelEventKind.HiddenAreasChanged */:\n                    this._onDidChangeHiddenAreas.fire();\n                    break;\n                case 5 /* OutgoingViewModelEventKind.ReadOnlyEditAttempt */:\n                    this._onDidAttemptReadOnlyEdit.fire();\n                    break;\n                case 6 /* OutgoingViewModelEventKind.CursorStateChanged */: {\n                    if (e.reachedMaxCursorCount) {\n                        const multiCursorLimit = this.getOption(80 /* EditorOption.multiCursorLimit */);\n                        const message = nls.localize('cursors.maximum', \"The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.\", multiCursorLimit);\n                        this._notificationService.prompt(Severity.Warning, message, [\n                            {\n                                label: 'Find and Replace',\n                                run: () => {\n                                    this._commandService.executeCommand('editor.action.startFindReplaceAction');\n                                }\n                            },\n                            {\n                                label: nls.localize('goToSetting', 'Increase Multi Cursor Limit'),\n                                run: () => {\n                                    this._commandService.executeCommand('workbench.action.openSettings2', {\n                                        query: 'editor.multiCursorLimit'\n                                    });\n                                }\n                            }\n                        ]);\n                    }\n                    const positions = [];\n                    for (let i = 0, len = e.selections.length; i < len; i++) {\n                        positions[i] = e.selections[i].getPosition();\n                    }\n                    const e1 = {\n                        position: positions[0],\n                        secondaryPositions: positions.slice(1),\n                        reason: e.reason,\n                        source: e.source\n                    };\n                    this._onDidChangeCursorPosition.fire(e1);\n                    const e2 = {\n                        selection: e.selections[0],\n                        secondarySelections: e.selections.slice(1),\n                        modelVersionId: e.modelVersionId,\n                        oldSelections: e.oldSelections,\n                        oldModelVersionId: e.oldModelVersionId,\n                        source: e.source,\n                        reason: e.reason\n                    };\n                    this._onDidChangeCursorSelection.fire(e2);\n                    break;\n                }\n                case 7 /* OutgoingViewModelEventKind.ModelDecorationsChanged */:\n                    this._onDidChangeModelDecorations.fire(e.event);\n                    break;\n                case 8 /* OutgoingViewModelEventKind.ModelLanguageChanged */:\n                    this._domElement.setAttribute('data-mode-id', model.getLanguageId());\n                    this._onDidChangeModelLanguage.fire(e.event);\n                    break;\n                case 9 /* OutgoingViewModelEventKind.ModelLanguageConfigurationChanged */:\n                    this._onDidChangeModelLanguageConfiguration.fire(e.event);\n                    break;\n                case 10 /* OutgoingViewModelEventKind.ModelContentChanged */:\n                    this._onDidChangeModelContent.fire(e.event);\n                    break;\n                case 11 /* OutgoingViewModelEventKind.ModelOptionsChanged */:\n                    this._onDidChangeModelOptions.fire(e.event);\n                    break;\n                case 12 /* OutgoingViewModelEventKind.ModelTokensChanged */:\n                    this._onDidChangeModelTokens.fire(e.event);\n                    break;\n            }\n        }));\n        const [view, hasRealView] = this._createView(viewModel);\n        if (hasRealView) {\n            this._domElement.appendChild(view.domNode.domNode);\n            let keys = Object.keys(this._contentWidgets);\n            for (let i = 0, len = keys.length; i < len; i++) {\n                const widgetId = keys[i];\n                view.addContentWidget(this._contentWidgets[widgetId]);\n            }\n            keys = Object.keys(this._overlayWidgets);\n            for (let i = 0, len = keys.length; i < len; i++) {\n                const widgetId = keys[i];\n                view.addOverlayWidget(this._overlayWidgets[widgetId]);\n            }\n            keys = Object.keys(this._glyphMarginWidgets);\n            for (let i = 0, len = keys.length; i < len; i++) {\n                const widgetId = keys[i];\n                view.addGlyphMarginWidget(this._glyphMarginWidgets[widgetId]);\n            }\n            view.render(false, true);\n            view.domNode.domNode.setAttribute('data-uri', model.uri.toString());\n        }\n        this._modelData = new ModelData(model, viewModel, view, hasRealView, listenersToRemove, attachedView);\n    }\n    _createView(viewModel) {\n        let commandDelegate;\n        if (this.isSimpleWidget) {\n            commandDelegate = {\n                paste: (text, pasteOnNewLine, multicursorText, mode) => {\n                    this._paste('keyboard', text, pasteOnNewLine, multicursorText, mode);\n                },\n                type: (text) => {\n                    this._type('keyboard', text);\n                },\n                compositionType: (text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) => {\n                    this._compositionType('keyboard', text, replacePrevCharCnt, replaceNextCharCnt, positionDelta);\n                },\n                startComposition: () => {\n                    this._startComposition();\n                },\n                endComposition: () => {\n                    this._endComposition('keyboard');\n                },\n                cut: () => {\n                    this._cut('keyboard');\n                }\n            };\n        }\n        else {\n            commandDelegate = {\n                paste: (text, pasteOnNewLine, multicursorText, mode) => {\n                    const payload = { text, pasteOnNewLine, multicursorText, mode };\n                    this._commandService.executeCommand(\"paste\" /* editorCommon.Handler.Paste */, payload);\n                },\n                type: (text) => {\n                    const payload = { text };\n                    this._commandService.executeCommand(\"type\" /* editorCommon.Handler.Type */, payload);\n                },\n                compositionType: (text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) => {\n                    // Try if possible to go through the existing `replacePreviousChar` command\n                    if (replaceNextCharCnt || positionDelta) {\n                        // must be handled through the new command\n                        const payload = { text, replacePrevCharCnt, replaceNextCharCnt, positionDelta };\n                        this._commandService.executeCommand(\"compositionType\" /* editorCommon.Handler.CompositionType */, payload);\n                    }\n                    else {\n                        const payload = { text, replaceCharCnt: replacePrevCharCnt };\n                        this._commandService.executeCommand(\"replacePreviousChar\" /* editorCommon.Handler.ReplacePreviousChar */, payload);\n                    }\n                },\n                startComposition: () => {\n                    this._commandService.executeCommand(\"compositionStart\" /* editorCommon.Handler.CompositionStart */, {});\n                },\n                endComposition: () => {\n                    this._commandService.executeCommand(\"compositionEnd\" /* editorCommon.Handler.CompositionEnd */, {});\n                },\n                cut: () => {\n                    this._commandService.executeCommand(\"cut\" /* editorCommon.Handler.Cut */, {});\n                }\n            };\n        }\n        const viewUserInputEvents = new ViewUserInputEvents(viewModel.coordinatesConverter);\n        viewUserInputEvents.onKeyDown = (e) => this._onKeyDown.fire(e);\n        viewUserInputEvents.onKeyUp = (e) => this._onKeyUp.fire(e);\n        viewUserInputEvents.onContextMenu = (e) => this._onContextMenu.fire(e);\n        viewUserInputEvents.onMouseMove = (e) => this._onMouseMove.fire(e);\n        viewUserInputEvents.onMouseLeave = (e) => this._onMouseLeave.fire(e);\n        viewUserInputEvents.onMouseDown = (e) => this._onMouseDown.fire(e);\n        viewUserInputEvents.onMouseUp = (e) => this._onMouseUp.fire(e);\n        viewUserInputEvents.onMouseDrag = (e) => this._onMouseDrag.fire(e);\n        viewUserInputEvents.onMouseDrop = (e) => this._onMouseDrop.fire(e);\n        viewUserInputEvents.onMouseDropCanceled = (e) => this._onMouseDropCanceled.fire(e);\n        viewUserInputEvents.onMouseWheel = (e) => this._onMouseWheel.fire(e);\n        const view = new View(commandDelegate, this._configuration, this._themeService.getColorTheme(), viewModel, viewUserInputEvents, this._overflowWidgetsDomNode, this._instantiationService);\n        return [view, true];\n    }\n    _postDetachModelCleanup(detachedModel) {\n        detachedModel === null || detachedModel === void 0 ? void 0 : detachedModel.removeAllDecorationsWithOwnerId(this._id);\n    }\n    _detachModel() {\n        var _a;\n        (_a = this._contributionsDisposable) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._contributionsDisposable = undefined;\n        if (!this._modelData) {\n            return null;\n        }\n        const model = this._modelData.model;\n        const removeDomNode = this._modelData.hasRealView ? this._modelData.view.domNode.domNode : null;\n        this._modelData.dispose();\n        this._modelData = null;\n        this._domElement.removeAttribute('data-mode-id');\n        if (removeDomNode && this._domElement.contains(removeDomNode)) {\n            this._domElement.removeChild(removeDomNode);\n        }\n        if (this._bannerDomNode && this._domElement.contains(this._bannerDomNode)) {\n            this._domElement.removeChild(this._bannerDomNode);\n        }\n        return model;\n    }\n    _removeDecorationType(key) {\n        this._codeEditorService.removeDecorationType(key);\n    }\n    hasModel() {\n        return (this._modelData !== null);\n    }\n    showDropIndicatorAt(position) {\n        const newDecorations = [{\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                options: CodeEditorWidget_1.dropIntoEditorDecorationOptions\n            }];\n        this._dropIntoEditorDecorations.set(newDecorations);\n        this.revealPosition(position, 1 /* editorCommon.ScrollType.Immediate */);\n    }\n    removeDropIndicator() {\n        this._dropIntoEditorDecorations.clear();\n    }\n    setContextValue(key, value) {\n        this._contextKeyService.createKey(key, value);\n    }\n};\nCodeEditorWidget.dropIntoEditorDecorationOptions = ModelDecorationOptions.register({\n    description: 'workbench-dnd-target',\n    className: 'dnd-target'\n});\nCodeEditorWidget = CodeEditorWidget_1 = __decorate([\n    __param(3, IInstantiationService),\n    __param(4, ICodeEditorService),\n    __param(5, ICommandService),\n    __param(6, IContextKeyService),\n    __param(7, IThemeService),\n    __param(8, INotificationService),\n    __param(9, IAccessibilityService),\n    __param(10, ILanguageConfigurationService),\n    __param(11, ILanguageFeaturesService)\n], CodeEditorWidget);\nexport { CodeEditorWidget };\nlet EDITOR_ID = 0;\nclass ModelData {\n    constructor(model, viewModel, view, hasRealView, listenersToRemove, attachedView) {\n        this.model = model;\n        this.viewModel = viewModel;\n        this.view = view;\n        this.hasRealView = hasRealView;\n        this.listenersToRemove = listenersToRemove;\n        this.attachedView = attachedView;\n    }\n    dispose() {\n        dispose(this.listenersToRemove);\n        this.model.onBeforeDetached(this.attachedView);\n        if (this.hasRealView) {\n            this.view.dispose();\n        }\n        this.viewModel.dispose();\n    }\n}\nexport class BooleanEventEmitter extends Disposable {\n    constructor(_emitterOptions) {\n        super();\n        this._emitterOptions = _emitterOptions;\n        this._onDidChangeToTrue = this._register(new Emitter(this._emitterOptions));\n        this.onDidChangeToTrue = this._onDidChangeToTrue.event;\n        this._onDidChangeToFalse = this._register(new Emitter(this._emitterOptions));\n        this.onDidChangeToFalse = this._onDidChangeToFalse.event;\n        this._value = 0 /* BooleanEventValue.NotSet */;\n    }\n    setValue(_value) {\n        const value = (_value ? 2 /* BooleanEventValue.True */ : 1 /* BooleanEventValue.False */);\n        if (this._value === value) {\n            return;\n        }\n        this._value = value;\n        if (this._value === 2 /* BooleanEventValue.True */) {\n            this._onDidChangeToTrue.fire();\n        }\n        else if (this._value === 1 /* BooleanEventValue.False */) {\n            this._onDidChangeToFalse.fire();\n        }\n    }\n}\n/**\n * A regular event emitter that also makes sure contributions are instantiated if necessary\n */\nclass InteractionEmitter extends Emitter {\n    constructor(_contributions, deliveryQueue) {\n        super({ deliveryQueue });\n        this._contributions = _contributions;\n    }\n    fire(event) {\n        this._contributions.onBeforeInteractionEvent();\n        super.fire(event);\n    }\n}\nclass EditorContextKeysManager extends Disposable {\n    constructor(editor, contextKeyService) {\n        super();\n        this._editor = editor;\n        contextKeyService.createKey('editorId', editor.getId());\n        this._editorSimpleInput = EditorContextKeys.editorSimpleInput.bindTo(contextKeyService);\n        this._editorFocus = EditorContextKeys.focus.bindTo(contextKeyService);\n        this._textInputFocus = EditorContextKeys.textInputFocus.bindTo(contextKeyService);\n        this._editorTextFocus = EditorContextKeys.editorTextFocus.bindTo(contextKeyService);\n        this._tabMovesFocus = EditorContextKeys.tabMovesFocus.bindTo(contextKeyService);\n        this._editorReadonly = EditorContextKeys.readOnly.bindTo(contextKeyService);\n        this._inDiffEditor = EditorContextKeys.inDiffEditor.bindTo(contextKeyService);\n        this._editorColumnSelection = EditorContextKeys.columnSelection.bindTo(contextKeyService);\n        this._hasMultipleSelections = EditorContextKeys.hasMultipleSelections.bindTo(contextKeyService);\n        this._hasNonEmptySelection = EditorContextKeys.hasNonEmptySelection.bindTo(contextKeyService);\n        this._canUndo = EditorContextKeys.canUndo.bindTo(contextKeyService);\n        this._canRedo = EditorContextKeys.canRedo.bindTo(contextKeyService);\n        this._register(this._editor.onDidChangeConfiguration(() => this._updateFromConfig()));\n        this._register(this._editor.onDidChangeCursorSelection(() => this._updateFromSelection()));\n        this._register(this._editor.onDidFocusEditorWidget(() => this._updateFromFocus()));\n        this._register(this._editor.onDidBlurEditorWidget(() => this._updateFromFocus()));\n        this._register(this._editor.onDidFocusEditorText(() => this._updateFromFocus()));\n        this._register(this._editor.onDidBlurEditorText(() => this._updateFromFocus()));\n        this._register(this._editor.onDidChangeModel(() => this._updateFromModel()));\n        this._register(this._editor.onDidChangeConfiguration(() => this._updateFromModel()));\n        this._register(TabFocus.onDidChangeTabFocus((tabFocusMode) => this._tabMovesFocus.set(tabFocusMode)));\n        this._updateFromConfig();\n        this._updateFromSelection();\n        this._updateFromFocus();\n        this._updateFromModel();\n        this._editorSimpleInput.set(this._editor.isSimpleWidget);\n    }\n    _updateFromConfig() {\n        const options = this._editor.getOptions();\n        this._tabMovesFocus.set(TabFocus.getTabFocusMode());\n        this._editorReadonly.set(options.get(91 /* EditorOption.readOnly */));\n        this._inDiffEditor.set(options.get(61 /* EditorOption.inDiffEditor */));\n        this._editorColumnSelection.set(options.get(22 /* EditorOption.columnSelection */));\n    }\n    _updateFromSelection() {\n        const selections = this._editor.getSelections();\n        if (!selections) {\n            this._hasMultipleSelections.reset();\n            this._hasNonEmptySelection.reset();\n        }\n        else {\n            this._hasMultipleSelections.set(selections.length > 1);\n            this._hasNonEmptySelection.set(selections.some(s => !s.isEmpty()));\n        }\n    }\n    _updateFromFocus() {\n        this._editorFocus.set(this._editor.hasWidgetFocus() && !this._editor.isSimpleWidget);\n        this._editorTextFocus.set(this._editor.hasTextFocus() && !this._editor.isSimpleWidget);\n        this._textInputFocus.set(this._editor.hasTextFocus());\n    }\n    _updateFromModel() {\n        const model = this._editor.getModel();\n        this._canUndo.set(Boolean(model && model.canUndo()));\n        this._canRedo.set(Boolean(model && model.canRedo()));\n    }\n}\nexport class EditorModeContext extends Disposable {\n    constructor(_editor, _contextKeyService, _languageFeaturesService) {\n        super();\n        this._editor = _editor;\n        this._contextKeyService = _contextKeyService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._langId = EditorContextKeys.languageId.bindTo(_contextKeyService);\n        this._hasCompletionItemProvider = EditorContextKeys.hasCompletionItemProvider.bindTo(_contextKeyService);\n        this._hasCodeActionsProvider = EditorContextKeys.hasCodeActionsProvider.bindTo(_contextKeyService);\n        this._hasCodeLensProvider = EditorContextKeys.hasCodeLensProvider.bindTo(_contextKeyService);\n        this._hasDefinitionProvider = EditorContextKeys.hasDefinitionProvider.bindTo(_contextKeyService);\n        this._hasDeclarationProvider = EditorContextKeys.hasDeclarationProvider.bindTo(_contextKeyService);\n        this._hasImplementationProvider = EditorContextKeys.hasImplementationProvider.bindTo(_contextKeyService);\n        this._hasTypeDefinitionProvider = EditorContextKeys.hasTypeDefinitionProvider.bindTo(_contextKeyService);\n        this._hasHoverProvider = EditorContextKeys.hasHoverProvider.bindTo(_contextKeyService);\n        this._hasDocumentHighlightProvider = EditorContextKeys.hasDocumentHighlightProvider.bindTo(_contextKeyService);\n        this._hasDocumentSymbolProvider = EditorContextKeys.hasDocumentSymbolProvider.bindTo(_contextKeyService);\n        this._hasReferenceProvider = EditorContextKeys.hasReferenceProvider.bindTo(_contextKeyService);\n        this._hasRenameProvider = EditorContextKeys.hasRenameProvider.bindTo(_contextKeyService);\n        this._hasSignatureHelpProvider = EditorContextKeys.hasSignatureHelpProvider.bindTo(_contextKeyService);\n        this._hasInlayHintsProvider = EditorContextKeys.hasInlayHintsProvider.bindTo(_contextKeyService);\n        this._hasDocumentFormattingProvider = EditorContextKeys.hasDocumentFormattingProvider.bindTo(_contextKeyService);\n        this._hasDocumentSelectionFormattingProvider = EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n        this._hasMultipleDocumentFormattingProvider = EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(_contextKeyService);\n        this._hasMultipleDocumentSelectionFormattingProvider = EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(_contextKeyService);\n        this._isInEmbeddedEditor = EditorContextKeys.isInEmbeddedEditor.bindTo(_contextKeyService);\n        const update = () => this._update();\n        // update when model/mode changes\n        this._register(_editor.onDidChangeModel(update));\n        this._register(_editor.onDidChangeModelLanguage(update));\n        // update when registries change\n        this._register(_languageFeaturesService.completionProvider.onDidChange(update));\n        this._register(_languageFeaturesService.codeActionProvider.onDidChange(update));\n        this._register(_languageFeaturesService.codeLensProvider.onDidChange(update));\n        this._register(_languageFeaturesService.definitionProvider.onDidChange(update));\n        this._register(_languageFeaturesService.declarationProvider.onDidChange(update));\n        this._register(_languageFeaturesService.implementationProvider.onDidChange(update));\n        this._register(_languageFeaturesService.typeDefinitionProvider.onDidChange(update));\n        this._register(_languageFeaturesService.hoverProvider.onDidChange(update));\n        this._register(_languageFeaturesService.documentHighlightProvider.onDidChange(update));\n        this._register(_languageFeaturesService.documentSymbolProvider.onDidChange(update));\n        this._register(_languageFeaturesService.referenceProvider.onDidChange(update));\n        this._register(_languageFeaturesService.renameProvider.onDidChange(update));\n        this._register(_languageFeaturesService.documentFormattingEditProvider.onDidChange(update));\n        this._register(_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(update));\n        this._register(_languageFeaturesService.signatureHelpProvider.onDidChange(update));\n        this._register(_languageFeaturesService.inlayHintsProvider.onDidChange(update));\n        update();\n    }\n    dispose() {\n        super.dispose();\n    }\n    reset() {\n        this._contextKeyService.bufferChangeEvents(() => {\n            this._langId.reset();\n            this._hasCompletionItemProvider.reset();\n            this._hasCodeActionsProvider.reset();\n            this._hasCodeLensProvider.reset();\n            this._hasDefinitionProvider.reset();\n            this._hasDeclarationProvider.reset();\n            this._hasImplementationProvider.reset();\n            this._hasTypeDefinitionProvider.reset();\n            this._hasHoverProvider.reset();\n            this._hasDocumentHighlightProvider.reset();\n            this._hasDocumentSymbolProvider.reset();\n            this._hasReferenceProvider.reset();\n            this._hasRenameProvider.reset();\n            this._hasDocumentFormattingProvider.reset();\n            this._hasDocumentSelectionFormattingProvider.reset();\n            this._hasSignatureHelpProvider.reset();\n            this._isInEmbeddedEditor.reset();\n        });\n    }\n    _update() {\n        const model = this._editor.getModel();\n        if (!model) {\n            this.reset();\n            return;\n        }\n        this._contextKeyService.bufferChangeEvents(() => {\n            this._langId.set(model.getLanguageId());\n            this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(model));\n            this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(model));\n            this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(model));\n            this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(model));\n            this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(model));\n            this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(model));\n            this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(model));\n            this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(model));\n            this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(model));\n            this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(model));\n            this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(model));\n            this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(model));\n            this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(model));\n            this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(model));\n            this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(model) || this._languageFeaturesService.documentRangeFormattingEditProvider.has(model));\n            this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(model));\n            this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(model).length + this._languageFeaturesService.documentRangeFormattingEditProvider.all(model).length > 1);\n            this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(model).length > 1);\n            this._isInEmbeddedEditor.set(model.uri.scheme === Schemas.walkThroughSnippet || model.uri.scheme === Schemas.vscodeChatCodeBlock);\n        });\n    }\n}\nclass CodeEditorWidgetFocusTracker extends Disposable {\n    constructor(domElement, overflowWidgetsDomNode) {\n        super();\n        this._onChange = this._register(new Emitter());\n        this.onChange = this._onChange.event;\n        this._hadFocus = undefined;\n        this._hasDomElementFocus = false;\n        this._domFocusTracker = this._register(dom.trackFocus(domElement));\n        this._overflowWidgetsDomNodeHasFocus = false;\n        this._register(this._domFocusTracker.onDidFocus(() => {\n            this._hasDomElementFocus = true;\n            this._update();\n        }));\n        this._register(this._domFocusTracker.onDidBlur(() => {\n            this._hasDomElementFocus = false;\n            this._update();\n        }));\n        if (overflowWidgetsDomNode) {\n            this._overflowWidgetsDomNode = this._register(dom.trackFocus(overflowWidgetsDomNode));\n            this._register(this._overflowWidgetsDomNode.onDidFocus(() => {\n                this._overflowWidgetsDomNodeHasFocus = true;\n                this._update();\n            }));\n            this._register(this._overflowWidgetsDomNode.onDidBlur(() => {\n                this._overflowWidgetsDomNodeHasFocus = false;\n                this._update();\n            }));\n        }\n    }\n    _update() {\n        const focused = this._hasDomElementFocus || this._overflowWidgetsDomNodeHasFocus;\n        if (this._hadFocus !== focused) {\n            this._hadFocus = focused;\n            this._onChange.fire(undefined);\n        }\n    }\n    hasFocus() {\n        var _a;\n        return (_a = this._hadFocus) !== null && _a !== void 0 ? _a : false;\n    }\n}\nclass EditorDecorationsCollection {\n    get length() {\n        return this._decorationIds.length;\n    }\n    constructor(_editor, decorations) {\n        this._editor = _editor;\n        this._decorationIds = [];\n        this._isChangingDecorations = false;\n        if (Array.isArray(decorations) && decorations.length > 0) {\n            this.set(decorations);\n        }\n    }\n    onDidChange(listener, thisArgs, disposables) {\n        return this._editor.onDidChangeModelDecorations((e) => {\n            if (this._isChangingDecorations) {\n                return;\n            }\n            listener.call(thisArgs, e);\n        }, disposables);\n    }\n    getRange(index) {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (index >= this._decorationIds.length) {\n            return null;\n        }\n        return this._editor.getModel().getDecorationRange(this._decorationIds[index]);\n    }\n    getRanges() {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const result = [];\n        for (const decorationId of this._decorationIds) {\n            const range = model.getDecorationRange(decorationId);\n            if (range) {\n                result.push(range);\n            }\n        }\n        return result;\n    }\n    has(decoration) {\n        return this._decorationIds.includes(decoration.id);\n    }\n    clear() {\n        if (this._decorationIds.length === 0) {\n            // nothing to do\n            return;\n        }\n        this.set([]);\n    }\n    set(newDecorations) {\n        try {\n            this._isChangingDecorations = true;\n            this._editor.changeDecorations((accessor) => {\n                this._decorationIds = accessor.deltaDecorations(this._decorationIds, newDecorations);\n            });\n        }\n        finally {\n            this._isChangingDecorations = false;\n        }\n        return this._decorationIds;\n    }\n    append(newDecorations) {\n        let newDecorationIds = [];\n        try {\n            this._isChangingDecorations = true;\n            this._editor.changeDecorations((accessor) => {\n                newDecorationIds = accessor.deltaDecorations([], newDecorations);\n                this._decorationIds = this._decorationIds.concat(newDecorationIds);\n            });\n        }\n        finally {\n            this._isChangingDecorations = false;\n        }\n        return newDecorationIds;\n    }\n}\nconst squigglyStart = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='`);\nconst squigglyEnd = encodeURIComponent(`'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>`);\nfunction getSquigglySVGData(color) {\n    return squigglyStart + encodeURIComponent(color.toString()) + squigglyEnd;\n}\nconst dotdotdotStart = encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"3\" width=\"12\"><g fill=\"`);\nconst dotdotdotEnd = encodeURIComponent(`\"><circle cx=\"1\" cy=\"1\" r=\"1\"/><circle cx=\"5\" cy=\"1\" r=\"1\"/><circle cx=\"9\" cy=\"1\" r=\"1\"/></g></svg>`);\nfunction getDotDotDotSVGData(color) {\n    return dotdotdotStart + encodeURIComponent(color.toString()) + dotdotdotEnd;\n}\nregisterThemingParticipant((theme, collector) => {\n    const errorForeground = theme.getColor(editorErrorForeground);\n    if (errorForeground) {\n        collector.addRule(`.monaco-editor .${\"squiggly-error\" /* ClassName.EditorErrorDecoration */} { background: url(\"data:image/svg+xml,${getSquigglySVGData(errorForeground)}\") repeat-x bottom left; }`);\n    }\n    const warningForeground = theme.getColor(editorWarningForeground);\n    if (warningForeground) {\n        collector.addRule(`.monaco-editor .${\"squiggly-warning\" /* ClassName.EditorWarningDecoration */} { background: url(\"data:image/svg+xml,${getSquigglySVGData(warningForeground)}\") repeat-x bottom left; }`);\n    }\n    const infoForeground = theme.getColor(editorInfoForeground);\n    if (infoForeground) {\n        collector.addRule(`.monaco-editor .${\"squiggly-info\" /* ClassName.EditorInfoDecoration */} { background: url(\"data:image/svg+xml,${getSquigglySVGData(infoForeground)}\") repeat-x bottom left; }`);\n    }\n    const hintForeground = theme.getColor(editorHintForeground);\n    if (hintForeground) {\n        collector.addRule(`.monaco-editor .${\"squiggly-hint\" /* ClassName.EditorHintDecoration */} { background: url(\"data:image/svg+xml,${getDotDotDotSVGData(hintForeground)}\") no-repeat bottom left; }`);\n    }\n    const unnecessaryForeground = theme.getColor(editorUnnecessaryCodeOpacity);\n    if (unnecessaryForeground) {\n        collector.addRule(`.monaco-editor.showUnused .${\"squiggly-inline-unnecessary\" /* ClassName.EditorUnnecessaryInlineDecoration */} { opacity: ${unnecessaryForeground.rgba.a}; }`);\n    }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}