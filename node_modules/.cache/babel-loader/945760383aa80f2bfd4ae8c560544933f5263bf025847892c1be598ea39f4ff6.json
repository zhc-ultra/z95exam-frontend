{"ast":null,"code":"import _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _toConsumableArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.repeat.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.string.anchor.js\";\nimport \"core-js/modules/es.string.bold.js\";\nimport \"core-js/modules/es.string.italics.js\";\nimport \"core-js/modules/es.string.link.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport factory from \"codemirror-ssr\";\nimport usePlaceholder from \"codemirror-ssr/addon/display/placeholder.js\";\nimport useContinuelist from \"codemirror-ssr/addon/edit/continuelist.js\";\nimport useOverlay from \"codemirror-ssr/addon/mode/overlay.js\";\nimport useGfm from \"codemirror-ssr/mode/gfm/gfm.js\";\nimport useMarkdown from \"codemirror-ssr/mode/markdown/markdown.js\";\nimport useXml from \"codemirror-ssr/mode/xml/xml.js\";\nimport useYamlFrontmatter from \"codemirror-ssr/mode/yaml-frontmatter/yaml-frontmatter.js\";\nimport useYaml from \"codemirror-ssr/mode/yaml/yaml.js\";\nimport selectFiles from \"select-files\";\nimport wordCount from \"word-count\";\nimport { visit } from \"unist-util-visit\";\nimport { delegate } from \"tippy.js\";\nimport { defaultSchema } from \"hast-util-sanitize\";\nimport rehypeRaw from \"rehype-raw\";\nimport rehypeSanitize from \"rehype-sanitize\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\nimport { debounce, throttle } from \"lodash-es\";\nvar index = \"\";\nfunction noop() {}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && _typeof(a) === \"object\" || typeof a === \"function\";\n}\nfunction not_equal(a, b) {\n  return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction append(target, node) {\n  target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n  target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\nfunction destroy_each(iterations, detaching) {\n  for (var i = 0; i < iterations.length; i += 1) {\n    if (iterations[i]) iterations[i].d(detaching);\n  }\n}\nfunction element(name) {\n  return document.createElement(name);\n}\nfunction text(data) {\n  return document.createTextNode(data);\n}\nfunction empty() {\n  return text(\"\");\n}\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return function () {\n    return node.removeEventListener(event, handler, options);\n  };\n}\nfunction self(fn) {\n  return function (event) {\n    if (event.target === this) fn.call(this, event);\n  };\n}\nfunction attr(node, attribute, value) {\n  if (value == null) node.removeAttribute(attribute);else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\nfunction children(element2) {\n  return Array.from(element2.childNodes);\n}\nfunction set_data(text2, data) {\n  data = \"\" + data;\n  if (text2.wholeText !== data) text2.data = data;\n}\nfunction toggle_class(element2, name, toggle) {\n  element2.classList[toggle ? \"add\" : \"remove\"](name);\n}\nfunction custom_event(type, detail) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref$bubbles = _ref.bubbles,\n    bubbles = _ref$bubbles === void 0 ? false : _ref$bubbles,\n    _ref$cancelable = _ref.cancelable,\n    cancelable = _ref$cancelable === void 0 ? false : _ref$cancelable;\n  var e = document.createEvent(\"CustomEvent\");\n  e.initCustomEvent(type, bubbles, cancelable, detail);\n  return e;\n}\nvar current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component) throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onMount(fn) {\n  get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n  get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  var component = get_current_component();\n  return function (type, detail) {\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref2$cancelable = _ref2.cancelable,\n      cancelable = _ref2$cancelable === void 0 ? false : _ref2$cancelable;\n    var callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      var event = custom_event(type, detail, {\n        cancelable: cancelable\n      });\n      callbacks.slice().forEach(function (fn) {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nvar dirty_components = [];\nvar binding_callbacks = [];\nvar render_callbacks = [];\nvar flush_callbacks = [];\nvar resolved_promise = /* @__PURE__ */Promise.resolve();\nvar update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nvar seen_callbacks = /* @__PURE__ */new Set();\nvar flushidx = 0;\nfunction flush() {\n  if (flushidx !== 0) {\n    return;\n  }\n  var saved_component = current_component;\n  do {\n    try {\n      while (flushidx < dirty_components.length) {\n        var component = dirty_components[flushidx];\n        flushidx++;\n        set_current_component(component);\n        update(component.$$);\n      }\n    } catch (e) {\n      dirty_components.length = 0;\n      flushidx = 0;\n      throw e;\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length) binding_callbacks.pop()();\n    for (var i = 0; i < render_callbacks.length; i += 1) {\n      var callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    var dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nfunction flush_render_callbacks(fns) {\n  var filtered = [];\n  var targets = [];\n  render_callbacks.forEach(function (c) {\n    return fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c);\n  });\n  targets.forEach(function (c) {\n    return c();\n  });\n  render_callbacks = filtered;\n}\nvar outroing = /* @__PURE__ */new Set();\nvar outros;\nfunction group_outros() {\n  outros = {\n    r: 0,\n    c: [],\n    p: outros\n    // parent group\n  };\n}\nfunction check_outros() {\n  if (!outros.r) {\n    run_all(outros.c);\n  }\n  outros = outros.p;\n}\nfunction transition_in(block, local) {\n  if (block && block.i) {\n    outroing[\"delete\"](block);\n    block.i(local);\n  }\n}\nfunction transition_out(block, local, detach2, callback) {\n  if (block && block.o) {\n    if (outroing.has(block)) return;\n    outroing.add(block);\n    outros.c.push(function () {\n      outroing[\"delete\"](block);\n      if (callback) {\n        if (detach2) block.d(1);\n        callback();\n      }\n    });\n    block.o(local);\n  } else if (callback) {\n    callback();\n  }\n}\nfunction create_component(block) {\n  block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n  var _component$$$ = component.$$,\n    fragment = _component$$$.fragment,\n    after_update = _component$$$.after_update;\n  fragment && fragment.m(target, anchor);\n  if (!customElement) {\n    add_render_callback(function () {\n      var new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n      if (component.$$.on_destroy) {\n        var _component$$$$on_dest;\n        (_component$$$$on_dest = component.$$.on_destroy).push.apply(_component$$$$on_dest, _toConsumableArray(new_on_destroy));\n      } else {\n        run_all(new_on_destroy);\n      }\n      component.$$.on_mount = [];\n    });\n  }\n  after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n  var $$ = component.$$;\n  if ($$.fragment !== null) {\n    flush_render_callbacks($$.after_update);\n    run_all($$.on_destroy);\n    $$.fragment && $$.fragment.d(detaching);\n    $$.on_destroy = $$.fragment = null;\n    $$.ctx = [];\n  }\n}\nfunction make_dirty(component, i) {\n  if (component.$$.dirty[0] === -1) {\n    dirty_components.push(component);\n    schedule_update();\n    component.$$.dirty.fill(0);\n  }\n  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction init(component, options, instance2, create_fragment2, not_equal2, props, append_styles) {\n  var dirty = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : [-1];\n  var parent_component = current_component;\n  set_current_component(component);\n  var $$ = component.$$ = {\n    fragment: null,\n    ctx: [],\n    // state\n    props: props,\n    update: noop,\n    not_equal: not_equal2,\n    bound: blank_object(),\n    // lifecycle\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n    // everything else\n    callbacks: blank_object(),\n    dirty: dirty,\n    skip_bound: false,\n    root: options.target || parent_component.$$.root\n  };\n  append_styles && append_styles($$.root);\n  var ready = false;\n  $$.ctx = instance2 ? instance2(component, options.props || {}, function (i, ret) {\n    var value = (arguments.length <= 2 ? 0 : arguments.length - 2) ? arguments.length <= 2 ? undefined : arguments[2] : ret;\n    if ($$.ctx && not_equal2($$.ctx[i], $$.ctx[i] = value)) {\n      if (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n      if (ready) make_dirty(component, i);\n    }\n    return ret;\n  }) : [];\n  $$.update();\n  ready = true;\n  run_all($$.before_update);\n  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;\n  if (options.target) {\n    if (options.hydrate) {\n      var nodes = children(options.target);\n      $$.fragment && $$.fragment.l(nodes);\n      nodes.forEach(detach);\n    } else {\n      $$.fragment && $$.fragment.c();\n    }\n    if (options.intro) transition_in(component.$$.fragment);\n    mount_component(component, options.target, options.anchor, options.customElement);\n    flush();\n  }\n  set_current_component(parent_component);\n}\nvar SvelteComponent = /*#__PURE__*/function () {\n  function SvelteComponent() {\n    _classCallCheck(this, SvelteComponent);\n  }\n  return _createClass(SvelteComponent, [{\n    key: \"$destroy\",\n    value: function $destroy() {\n      destroy_component(this, 1);\n      this.$destroy = noop;\n    }\n  }, {\n    key: \"$on\",\n    value: function $on(type, callback) {\n      if (!is_function(callback)) {\n        return noop;\n      }\n      var callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n      callbacks.push(callback);\n      return function () {\n        var index2 = callbacks.indexOf(callback);\n        if (index2 !== -1) callbacks.splice(index2, 1);\n      };\n    }\n  }, {\n    key: \"$set\",\n    value: function $set($$props) {\n      if (this.$$set && !is_empty($$props)) {\n        this.$$.skip_bound = true;\n        this.$$set($$props);\n        this.$$.skip_bound = false;\n      }\n    }\n  }]);\n}();\nvar bold = \"Bold\";\nvar boldText = \"bold text\";\nvar cheatsheet = \"Markdown Cheatsheet\";\nvar closeHelp = \"Close help\";\nvar closeToc = \"Close table of contents\";\nvar code = \"Code\";\nvar codeBlock = \"Code block\";\nvar codeLang = \"lang\";\nvar codeText = \"code\";\nvar exitFullscreen = \"Exit fullscreen\";\nvar exitPreviewOnly = \"Exit preview only\";\nvar exitWriteOnly = \"Exit write only\";\nvar fullscreen = \"Fullscreen\";\nvar h1 = \"Heading 1\";\nvar h2 = \"Heading 2\";\nvar h3 = \"Heading 3\";\nvar h4 = \"Heading 4\";\nvar h5 = \"Heading 5\";\nvar h6 = \"Heading 6\";\nvar headingText = \"heading\";\nvar help = \"Help\";\nvar hr = \"Horizontal rule\";\nvar image = \"Image\";\nvar imageAlt = \"alt\";\nvar imageTitle = \"title\";\nvar italic = \"Italic\";\nvar italicText = \"italic text\";\nvar limited = \"The maximum character limit has been reached\";\nvar lines = \"Lines\";\nvar link = \"Link\";\nvar linkText = \"link text\";\nvar ol = \"Ordered list\";\nvar olItem = \"item\";\nvar preview = \"Preview\";\nvar previewOnly = \"Preview only\";\nvar quote = \"Quote\";\nvar quotedText = \"quoted text\";\nvar shortcuts = \"Shortcuts\";\nvar source = \"Source code\";\nvar sync = \"Scroll sync\";\nvar toc = \"Table of contents\";\nvar top = \"Scroll to top\";\nvar ul = \"Unordered list\";\nvar ulItem = \"item\";\nvar words = \"Words\";\nvar write = \"Write\";\nvar writeOnly = \"Write only\";\nvar en = {\n  bold: bold,\n  boldText: boldText,\n  cheatsheet: cheatsheet,\n  closeHelp: closeHelp,\n  closeToc: closeToc,\n  code: code,\n  codeBlock: codeBlock,\n  codeLang: codeLang,\n  codeText: codeText,\n  exitFullscreen: exitFullscreen,\n  exitPreviewOnly: exitPreviewOnly,\n  exitWriteOnly: exitWriteOnly,\n  fullscreen: fullscreen,\n  h1: h1,\n  h2: h2,\n  h3: h3,\n  h4: h4,\n  h5: h5,\n  h6: h6,\n  headingText: headingText,\n  help: help,\n  hr: hr,\n  image: image,\n  imageAlt: imageAlt,\n  imageTitle: imageTitle,\n  italic: italic,\n  italicText: italicText,\n  limited: limited,\n  lines: lines,\n  link: link,\n  linkText: linkText,\n  ol: ol,\n  olItem: olItem,\n  preview: preview,\n  previewOnly: previewOnly,\n  quote: quote,\n  quotedText: quotedText,\n  shortcuts: shortcuts,\n  source: source,\n  sync: sync,\n  toc: toc,\n  top: top,\n  ul: ul,\n  ulItem: ulItem,\n  words: words,\n  write: write,\n  writeOnly: writeOnly\n};\nvar icons = {\n  Close: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m8 8 32 32M8 40 40 8\"/></svg>',\n  H: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M12 5v38M36 5v38M12 24h24\"/></svg>',\n  H1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M25 8v32M6 24h19M34.226 24 39 19.017V40\"/></svg>',\n  H2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 25c0-3.167 2.667-5 5-5s5 1.833 5 5c0 5.7-10 9.933-10 15h10\"/></svg>',\n  H3: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 20h10l-7 9c4 0 7 2 7 6s-3 5-5 5c-2.381 0-4-1-5-2.1\"/></svg>',\n  LevelFourTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M39.977 40V20L31 32.997v2.023h12\"/></svg>',\n  LevelFiveTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M40 21.01h-8v7.024C32 28 34 27 37 27s4 2.534 4 6.5-1 6.5-5 6.5c-3 0-4-2-4-3.992\"/></svg>',\n  LevelSixTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16\"/><path stroke=\"currentColor\" stroke-width=\"4\" d=\"M36.5 40a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M41.596 24.74C40.778 22.545 38.804 21 36.5 21c-3.038 0-5.5 2.686-5.5 6v7\"/></svg>',\n  TextBold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 24c5.506 0 9.969-4.477 9.969-10S29.506 4 24 4H11v20h13ZM28.031 44C33.537 44 38 39.523 38 34s-4.463-10-9.969-10H11v20h17.031Z\" clip-rule=\"evenodd\"/></svg>',\n  TextItalic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M20 6h16M12 42h16M29 5.952 19 42\"/></svg>',\n  Quote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M18.853 9.116C11.323 13.952 7.14 19.58 6.303 26.003 5 36 13.94 40.893 18.47 36.497 23 32.1 20.285 26.52 17.005 24.994c-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.016-7.69 9.116-10.322a.749.749 0 0 0 .114-1.02L20.285 9.3c-.44-.572-.862-.55-1.432-.185ZM38.679 9.116c-7.53 4.836-11.714 10.465-12.55 16.887-1.303 9.997 7.637 14.89 12.167 10.494 4.53-4.397 1.815-9.977-1.466-11.503-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.017-7.69 9.117-10.322a.749.749 0 0 0 .113-1.02L40.11 9.3c-.44-.572-.862-.55-1.431-.185Z\" clip-rule=\"evenodd\"/></svg>',\n  LinkOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m26.24 16.373-9.14-9.14c-2.661-2.661-7.035-2.603-9.768.131-2.734 2.734-2.793 7.107-.131 9.768l7.935 7.936M32.903 23.003l7.935 7.935c2.661 2.662 2.603 7.035-.13 9.769-2.735 2.734-7.108 2.792-9.77.13l-9.14-9.14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26.11 26.142c2.733-2.734 2.792-7.108.13-9.769M21.799 21.798c-2.734 2.734-2.792 7.108-.131 9.769\"/></svg>',\n  Pic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 10a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V10Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M14.5 18a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m15 24 5 4 6-7 17 13v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4l10-10Z\"/></svg>',\n  Code: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 13 4 25.432 16 37M32 13l12 12.432L32 37\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"m28 4-7 40\"/></svg>',\n  CodeBrackets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 4c-2 0-5 1-5 5v9c0 3-5 5-5 5s5 2 5 5v11c0 4 3 5 5 5M32 4c2 0 5 1 5 5v9c0 3 5 5 5 5s-5 2-5 5v11c0 4-3 5-5 5\"/></svg>',\n  ListTwo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 42a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 28a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M21 24h22M21 38h22M21 10h22\"/></svg>',\n  OrderedList: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 4v9M12 13H6M12 27H6M6 20s3-3 5 0-5 7-5 7M6 34.5s2-3 5-1 0 4.5 0 4.5 3 2.5 0 4.5-5-1-5-1M11 38H9M9 4 6 6M21 24h22M21 38h22M21 10h22\"/></svg>',\n  DividingLine: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 24h38M21 38h6M37 38h6M21 10h6M5 38h6M5 10h6M37 10h6\"/></svg>',\n  AlignTextLeftOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26 24H14M34 15H14M32 33H14\"/></svg>',\n  Helpcenter: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 28.625v-4a6 6 0 1 0-6-6\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M24 37.625a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\" clip-rule=\"evenodd\"/></svg>',\n  LeftExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"6\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M42 6v36\"/></svg>',\n  RightExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"14\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 6v36\"/></svg>',\n  OffScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6v9h9M15 6v9H6M15 42v-9H6M33 42v-9h8.9\"/></svg>',\n  FullScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6h9v9M42 33v9h-9M15 42H6v-9M6 15V6h9\"/></svg>',\n  GithubOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"M29.344 30.477c2.404-.5 4.585-1.366 6.28-2.638C38.52 25.668 40 22.314 40 19c0-2.324-.881-4.494-2.407-6.332-.85-1.024 1.636-8.667-.573-7.638-2.21 1.03-5.45 3.308-7.147 2.805A20.712 20.712 0 0 0 24 7c-1.8 0-3.532.223-5.147.634C16.505 8.232 14.259 6 12 5.03c-2.26-.97-1.026 6.934-1.697 7.765C8.84 14.605 8 16.73 8 19c0 3.314 1.79 6.668 4.686 8.84 1.93 1.446 4.348 2.368 7.054 2.822M19.74 30.662c-1.159 1.275-1.738 2.486-1.738 3.632v8.717M29.345 30.477c1.097 1.44 1.646 2.734 1.646 3.88v8.654M6 31.215c.899.11 1.566.524 2 1.24.652 1.075 3.074 5.063 5.825 5.063h4.177\"/></svg>'\n};\nfunction createCodeMirror() {\n  var codemirror = factory();\n  usePlaceholder(codemirror);\n  useOverlay(codemirror);\n  useXml(codemirror);\n  useMarkdown(codemirror);\n  useGfm(codemirror);\n  useYaml(codemirror);\n  useYamlFrontmatter(codemirror);\n  useContinuelist(codemirror);\n  return codemirror;\n}\nfunction createEditorUtils(codemirror, editor) {\n  return {\n    /**\n     * Wrap text with decorators, for example:\n     *\n     * `text -> *text*`\n     */\n    wrapText: function wrapText(before) {\n      var after = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : before;\n      var range = editor.somethingSelected() ? editor.listSelections()[0] : editor.findWordAt(editor.getCursor());\n      var from = range.from();\n      var to = range.to();\n      var text2 = editor.getRange(from, to);\n      var fromBefore = codemirror.Pos(from.line, from.ch - before.length);\n      var toAfter = codemirror.Pos(to.line, to.ch + after.length);\n      if (editor.getRange(fromBefore, from) === before && editor.getRange(to, toAfter) === after) {\n        editor.replaceRange(text2, fromBefore, toAfter);\n        editor.setSelection(fromBefore, codemirror.Pos(fromBefore.line, fromBefore.ch + text2.length));\n      } else {\n        editor.replaceRange(before + text2 + after, from, to);\n        var cursor = editor.getCursor();\n        editor.setSelection(codemirror.Pos(cursor.line, cursor.ch - after.length - text2.length), codemirror.Pos(cursor.line, cursor.ch - after.length));\n      }\n    },\n    /**\n     * replace multiple lines\n     *\n     * `line -> # line`\n     */\n    replaceLines: function replaceLines(replace) {\n      var _editor$listSelection = editor.listSelections(),\n        _editor$listSelection2 = _slicedToArray(_editor$listSelection, 1),\n        selection = _editor$listSelection2[0];\n      var range = [codemirror.Pos(selection.from().line, 0), codemirror.Pos(selection.to().line)];\n      var lines2 = editor.getRange.apply(editor, range).split(\"\\n\");\n      editor.replaceRange.apply(editor, [lines2.map(replace).join(\"\\n\")].concat(range));\n      editor.setSelection.apply(editor, range);\n    },\n    /**\n     * Append a block based on the cursor position\n     */\n    appendBlock: function appendBlock(content) {\n      var cursor = editor.getCursor();\n      var emptyLine = -1;\n      for (var i = cursor.line; i < editor.lineCount(); i++) {\n        if (!editor.getLine(i).trim()) {\n          emptyLine = i;\n          break;\n        }\n      }\n      if (emptyLine === -1) {\n        editor.replaceRange(\"\\n\", codemirror.Pos(editor.lineCount()));\n        emptyLine = editor.lineCount();\n      }\n      editor.replaceRange(\"\\n\" + content, codemirror.Pos(emptyLine));\n      return codemirror.Pos(emptyLine + 1, 0);\n    },\n    /**\n     * Triggers a virtual file input and let user select files\n     *\n     * https://www.npmjs.com/package/select-files\n     */\n    selectFiles: selectFiles\n  };\n}\nfunction findStartIndex(num, nums) {\n  var startIndex = nums.length - 2;\n  for (var i = 0; i < nums.length; i++) {\n    if (num < nums[i]) {\n      startIndex = i - 1;\n      break;\n    }\n  }\n  startIndex = Math.max(startIndex, 0);\n  return startIndex;\n}\nvar getShortcutWithPrefix = function getShortcutWithPrefix(key) {\n  var shift = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var shiftPrefix = shift ? \"Shift-\" : \"\";\n  var CmdPrefix = typeof navigator !== \"undefined\" && /Mac/.test(navigator.platform) ? \"Cmd-\" : \"Ctrl-\";\n  return shiftPrefix + CmdPrefix + key;\n};\nfunction handleImageUpload(_x, _x2, _x3) {\n  return _handleImageUpload.apply(this, arguments);\n}\nfunction _handleImageUpload() {\n  _handleImageUpload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(_ref3, uploadImages, files) {\n    var editor, appendBlock, codemirror, imgs, pos;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          editor = _ref3.editor, appendBlock = _ref3.appendBlock, codemirror = _ref3.codemirror;\n          _context6.next = 3;\n          return uploadImages(files);\n        case 3:\n          imgs = _context6.sent;\n          pos = appendBlock(imgs.map(function (_ref33, i) {\n            var url = _ref33.url,\n              alt = _ref33.alt,\n              title = _ref33.title;\n            alt = alt != null ? alt : files[i].name;\n            return \"![\".concat(alt, \"](\").concat(url).concat(title ? \" \\\"\".concat(title, \"\\\"\") : \"\", \")\");\n          }).join(\"\\n\\n\"));\n          editor.setSelection(pos, codemirror.Pos(pos.line + imgs.length * 2 - 2));\n          editor.focus();\n        case 7:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _handleImageUpload.apply(this, arguments);\n}\nfunction getBuiltinActions(locale, plugins, uploadImages) {\n  var leftActions = [{\n    icon: icons.H,\n    handler: {\n      type: \"dropdown\",\n      actions: [1, 2, 3, 4, 5, 6].map(function (level) {\n        return {\n          title: locale[\"h\".concat(level)],\n          icon: [icons.H1, icons.H2, icons.H3, icons.LevelFourTitle, icons.LevelFiveTitle, icons.LevelSixTitle][level - 1],\n          cheatsheet: level <= 3 ? \"\".concat(\"#\".repeat(level), \" \").concat(locale.headingText) : void 0,\n          handler: {\n            type: \"action\",\n            click: function click(_ref4) {\n              var replaceLines = _ref4.replaceLines,\n                editor = _ref4.editor;\n              replaceLines(function (line) {\n                line = line.trim().replace(/^#*/, \"\").trim();\n                line = \"#\".repeat(level) + \" \" + line;\n                return line;\n              });\n              editor.focus();\n            }\n          }\n        };\n      })\n    }\n  }, {\n    title: locale.bold,\n    icon: icons.TextBold,\n    cheatsheet: \"**\".concat(locale.boldText, \"**\"),\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"B\"),\n      click: function click(_ref5) {\n        var wrapText = _ref5.wrapText,\n          editor = _ref5.editor;\n        wrapText(\"**\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.italic,\n    icon: icons.TextItalic,\n    cheatsheet: \"*\".concat(locale.italicText, \"*\"),\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"I\"),\n      click: function click(_ref6) {\n        var wrapText = _ref6.wrapText,\n          editor = _ref6.editor;\n        wrapText(\"*\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.quote,\n    icon: icons.Quote,\n    cheatsheet: \"> \".concat(locale.quotedText),\n    handler: {\n      type: \"action\",\n      click: function click(_ref7) {\n        var replaceLines = _ref7.replaceLines,\n          editor = _ref7.editor;\n        replaceLines(function (line) {\n          return \"> \" + line;\n        });\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.link,\n    icon: icons.LinkOne,\n    cheatsheet: \"[\".concat(locale.linkText, \"](url)\"),\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"K\"),\n      click: function click(_ref8) {\n        var editor = _ref8.editor,\n          wrapText = _ref8.wrapText,\n          codemirror = _ref8.codemirror;\n        wrapText(\"[\", \"](url)\");\n        var cursor = editor.getCursor();\n        editor.setSelection(codemirror.Pos(cursor.line, cursor.ch + 2), codemirror.Pos(cursor.line, cursor.ch + 5));\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.image,\n    icon: icons.Pic,\n    cheatsheet: \"![\".concat(locale.imageAlt, \"](url \\\"\").concat(locale.imageTitle, \"\\\")\"),\n    handler: uploadImages ? {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"I\", true),\n      click: function click(ctx) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var fileList;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return selectFiles({\n                  accept: \"image/*\",\n                  multiple: true\n                });\n              case 2:\n                fileList = _context.sent;\n                if (!(fileList == null ? void 0 : fileList.length)) {\n                  _context.next = 6;\n                  break;\n                }\n                _context.next = 6;\n                return handleImageUpload(ctx, uploadImages, Array.from(fileList));\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }))();\n      }\n    } : void 0\n  }, {\n    title: locale.code,\n    icon: icons.Code,\n    cheatsheet: \"`\" + locale.codeText + \"`\",\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"K\", true),\n      click: function click(_ref9) {\n        var wrapText = _ref9.wrapText,\n          editor = _ref9.editor;\n        wrapText(\"`\");\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.codeBlock,\n    icon: icons.CodeBrackets,\n    cheatsheet: \"```\" + locale.codeLang + \"â†µ\",\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"C\", true),\n      click: function click(_ref10) {\n        var editor = _ref10.editor,\n          appendBlock = _ref10.appendBlock,\n          codemirror = _ref10.codemirror;\n        var pos = appendBlock(\"```js\\n```\");\n        editor.setSelection(codemirror.Pos(pos.line, 3), codemirror.Pos(pos.line, 5));\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.ul,\n    icon: icons.ListTwo,\n    cheatsheet: \"- \".concat(locale.ulItem),\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"U\", true),\n      click: function click(_ref11) {\n        var replaceLines = _ref11.replaceLines,\n          editor = _ref11.editor;\n        replaceLines(function (line) {\n          return \"- \" + line;\n        });\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.ol,\n    icon: icons.OrderedList,\n    cheatsheet: \"1. \".concat(locale.olItem),\n    handler: {\n      type: \"action\",\n      shortcut: getShortcutWithPrefix(\"O\", true),\n      click: function click(_ref12) {\n        var replaceLines = _ref12.replaceLines,\n          editor = _ref12.editor;\n        replaceLines(function (line, i) {\n          return \"\".concat(i + 1, \". \").concat(line);\n        });\n        editor.focus();\n      }\n    }\n  }, {\n    title: locale.hr,\n    icon: icons.DividingLine,\n    cheatsheet: \"---\"\n  }];\n  var rightActions = [];\n  plugins.forEach(function (_ref13) {\n    var actions = _ref13.actions;\n    if (actions) {\n      actions.forEach(function (action) {\n        if (!action.position || action.position !== \"right\") leftActions.push(action);else rightActions.unshift(action);\n      });\n    }\n  });\n  return {\n    leftActions: leftActions,\n    rightActions: rightActions\n  };\n}\nfunction get_each_context$2(ctx, list, i) {\n  var child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction get_each_context_1$1(ctx, list, i) {\n  var child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction create_if_block_1$2(ctx) {\n  var li;\n  var div0;\n  var raw_value = /*action*/\n  ctx[5].icon + \"\";\n  var div1;\n  var t0_value = /*action*/\n  ctx[5].title + \"\";\n  var t0;\n  var div2;\n  var code2;\n  var t1_value = /*action*/\n  ctx[5].cheatsheet + \"\";\n  var t1;\n  return {\n    c: function c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      code2 = element(\"code\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m: function m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, code2);\n      append(code2, t1);\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\")) div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].cheatsheet + \"\")) set_data(t1, t1_value);\n    },\n    d: function d(detaching) {\n      if (detaching) detach(li);\n    }\n  };\n}\nfunction create_each_block_1$1(ctx) {\n  var if_block_anchor;\n  var if_block = /*action*/\n  ctx[5].cheatsheet && create_if_block_1$2(ctx);\n  return {\n    c: function c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m: function m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p: function p(ctx2, dirty) {\n      if ( /*action*/\n      ctx2[5].cheatsheet) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_1$2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d: function d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$3(ctx) {\n  var li;\n  var div0;\n  var raw_value = /*action*/\n  ctx[5].icon + \"\";\n  var div1;\n  var t0_value = /*action*/\n  ctx[5].title + \"\";\n  var t0;\n  var div2;\n  var kbd;\n  var t1_value = /*action*/\n  ctx[5].handler.shortcut + \"\";\n  var t1;\n  return {\n    c: function c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      kbd = element(\"kbd\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m: function m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, kbd);\n      append(kbd, t1);\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\")) div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].handler.shortcut + \"\")) set_data(t1, t1_value);\n    },\n    d: function d(detaching) {\n      if (detaching) detach(li);\n    }\n  };\n}\nfunction create_each_block$2(ctx) {\n  var if_block_anchor;\n  var if_block = /*action*/\n  ctx[5].handler && /*action*/\n  ctx[5].handler.type === \"action\" && /*action*/\n  ctx[5].handler.shortcut && create_if_block$3(ctx);\n  return {\n    c: function c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m: function m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p: function p(ctx2, dirty) {\n      if ( /*action*/\n      ctx2[5].handler && /*action*/\n      ctx2[5].handler.type === \"action\" && /*action*/\n      ctx2[5].handler.shortcut) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$3(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d: function d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$5(ctx) {\n  var div;\n  var h20;\n  var t0_value = /*locale*/\n  ctx[0].cheatsheet + \"\";\n  var t0;\n  var ul0;\n  var h21;\n  var t1_value = /*locale*/\n  ctx[0].shortcuts + \"\";\n  var t1;\n  var ul1;\n  var each_value_1 = /*items*/\n  ctx[2];\n  var each_blocks_1 = [];\n  for (var i = 0; i < each_value_1.length; i += 1) {\n    each_blocks_1[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));\n  }\n  var each_value = /*items*/\n  ctx[2];\n  var each_blocks = [];\n  for (var _i = 0; _i < each_value.length; _i += 1) {\n    each_blocks[_i] = create_each_block$2(get_each_context$2(ctx, each_value, _i));\n  }\n  return {\n    c: function c() {\n      div = element(\"div\");\n      h20 = element(\"h2\");\n      t0 = text(t0_value);\n      ul0 = element(\"ul\");\n      for (var _i2 = 0; _i2 < each_blocks_1.length; _i2 += 1) {\n        each_blocks_1[_i2].c();\n      }\n      h21 = element(\"h2\");\n      t1 = text(t1_value);\n      ul1 = element(\"ul\");\n      for (var _i3 = 0; _i3 < each_blocks.length; _i3 += 1) {\n        each_blocks[_i3].c();\n      }\n      attr(div, \"class\", \"bytemd-help\");\n      toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n      ctx[1]);\n    },\n    m: function m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h20);\n      append(h20, t0);\n      append(div, ul0);\n      for (var _i4 = 0; _i4 < each_blocks_1.length; _i4 += 1) {\n        if (each_blocks_1[_i4]) {\n          each_blocks_1[_i4].m(ul0, null);\n        }\n      }\n      append(div, h21);\n      append(h21, t1);\n      append(div, ul1);\n      for (var _i5 = 0; _i5 < each_blocks.length; _i5 += 1) {\n        if (each_blocks[_i5]) {\n          each_blocks[_i5].m(ul1, null);\n        }\n      }\n    },\n    p: function p(ctx2, _ref14) {\n      var _ref15 = _slicedToArray(_ref14, 1),\n        dirty = _ref15[0];\n      if (dirty & /*locale*/\n      1 && t0_value !== (t0_value = /*locale*/\n      ctx2[0].cheatsheet + \"\")) set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4) {\n        each_value_1 = /*items*/\n        ctx2[2];\n        var _i6;\n        for (_i6 = 0; _i6 < each_value_1.length; _i6 += 1) {\n          var child_ctx = get_each_context_1$1(ctx2, each_value_1, _i6);\n          if (each_blocks_1[_i6]) {\n            each_blocks_1[_i6].p(child_ctx, dirty);\n          } else {\n            each_blocks_1[_i6] = create_each_block_1$1(child_ctx);\n            each_blocks_1[_i6].c();\n            each_blocks_1[_i6].m(ul0, null);\n          }\n        }\n        for (; _i6 < each_blocks_1.length; _i6 += 1) {\n          each_blocks_1[_i6].d(1);\n        }\n        each_blocks_1.length = each_value_1.length;\n      }\n      if (dirty & /*locale*/\n      1 && t1_value !== (t1_value = /*locale*/\n      ctx2[0].shortcuts + \"\")) set_data(t1, t1_value);\n      if (dirty & /*items*/\n      4) {\n        each_value = /*items*/\n        ctx2[2];\n        var _i7;\n        for (_i7 = 0; _i7 < each_value.length; _i7 += 1) {\n          var _child_ctx = get_each_context$2(ctx2, each_value, _i7);\n          if (each_blocks[_i7]) {\n            each_blocks[_i7].p(_child_ctx, dirty);\n          } else {\n            each_blocks[_i7] = create_each_block$2(_child_ctx);\n            each_blocks[_i7].c();\n            each_blocks[_i7].m(ul1, null);\n          }\n        }\n        for (; _i7 < each_blocks.length; _i7 += 1) {\n          each_blocks[_i7].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d: function d(detaching) {\n      if (detaching) detach(div);\n      destroy_each(each_blocks_1, detaching);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$5($$self, $$props, $$invalidate) {\n  var items;\n  var actions = $$props.actions;\n  var locale = $$props.locale;\n  var visible = $$props.visible;\n  function flatItems(actions2) {\n    var items2 = [];\n    actions2.forEach(function (action) {\n      var handler = action.handler,\n        cheatsheet2 = action.cheatsheet;\n      if ((handler == null ? void 0 : handler.type) === \"dropdown\") {\n        items2.push.apply(items2, _toConsumableArray(flatItems(handler.actions)));\n      }\n      if (cheatsheet2) {\n        items2.push(action);\n      }\n    });\n    return items2;\n  }\n  $$self.$$set = function ($$props2) {\n    if (\"actions\" in $$props2) $$invalidate(3, actions = $$props2.actions);\n    if (\"locale\" in $$props2) $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2) $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty & /*actions*/\n    8) {\n      $$invalidate(2, items = flatItems(actions));\n    }\n  };\n  return [locale, visible, items, actions];\n}\nvar Help = /*#__PURE__*/function (_SvelteComponent) {\n  function Help(options) {\n    var _this;\n    _classCallCheck(this, Help);\n    _this = _callSuper(this, Help);\n    init(_this, options, instance$5, create_fragment$5, safe_not_equal, {\n      actions: 3,\n      locale: 0,\n      visible: 1\n    });\n    return _this;\n  }\n  _inherits(Help, _SvelteComponent);\n  return _createClass(Help);\n}(SvelteComponent);\nfunction create_if_block_1$1(ctx) {\n  var span;\n  var t_value = /*locale*/\n  ctx[2].limited + \"\";\n  var t;\n  return {\n    c: function c() {\n      span = element(\"span\");\n      t = text(t_value);\n      attr(span, \"class\", \"bytemd-status-error\");\n    },\n    m: function m(target, anchor) {\n      insert(target, span, anchor);\n      append(span, t);\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].limited + \"\")) set_data(t, t_value);\n    },\n    d: function d(detaching) {\n      if (detaching) detach(span);\n    }\n  };\n}\nfunction create_if_block$2(ctx) {\n  var label;\n  var input;\n  var t_value = /*locale*/\n  ctx[2].sync + \"\";\n  var t;\n  var mounted;\n  var dispose;\n  return {\n    c: function c() {\n      label = element(\"label\");\n      input = element(\"input\");\n      t = text(t_value);\n      attr(input, \"type\", \"checkbox\");\n      input.checked = /*syncEnabled*/\n      ctx[1];\n    },\n    m: function m(target, anchor) {\n      insert(target, label, anchor);\n      append(label, input);\n      append(label, t);\n      if (!mounted) {\n        dispose = listen(input, \"change\", /*change_handler*/\n        ctx[8]);\n        mounted = true;\n      }\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*syncEnabled*/\n      2) {\n        input.checked = /*syncEnabled*/\n        ctx2[1];\n      }\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].sync + \"\")) set_data(t, t_value);\n    },\n    d: function d(detaching) {\n      if (detaching) detach(label);\n      mounted = false;\n      dispose();\n    }\n  };\n}\nfunction create_fragment$4(ctx) {\n  var div2;\n  var div0;\n  var span0;\n  var t0_value = /*locale*/\n  ctx[2].words + \"\";\n  var t0;\n  var t1;\n  var strong0;\n  var t2;\n  var span1;\n  var t3_value = /*locale*/\n  ctx[2].lines + \"\";\n  var t3;\n  var t4;\n  var strong1;\n  var t5;\n  var div1;\n  var span2;\n  var t6_value = /*locale*/\n  ctx[2].top + \"\";\n  var t6;\n  var mounted;\n  var dispose;\n  var if_block0 = /*islimited*/\n  ctx[3] && create_if_block_1$1(ctx);\n  var if_block1 = /*showSync*/\n  ctx[0] && create_if_block$2(ctx);\n  return {\n    c: function c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      span0 = element(\"span\");\n      t0 = text(t0_value);\n      t1 = text(\": \");\n      strong0 = element(\"strong\");\n      t2 = text( /*words*/\n      ctx[5]);\n      span1 = element(\"span\");\n      t3 = text(t3_value);\n      t4 = text(\": \");\n      strong1 = element(\"strong\");\n      t5 = text( /*lines*/\n      ctx[4]);\n      if (if_block0) if_block0.c();\n      div1 = element(\"div\");\n      if (if_block1) if_block1.c();\n      span2 = element(\"span\");\n      t6 = text(t6_value);\n      attr(div0, \"class\", \"bytemd-status-left\");\n      attr(div1, \"class\", \"bytemd-status-right\");\n      attr(div2, \"class\", \"bytemd-status\");\n    },\n    m: function m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      append(div0, span0);\n      append(span0, t0);\n      append(span0, t1);\n      append(span0, strong0);\n      append(strong0, t2);\n      append(div0, span1);\n      append(span1, t3);\n      append(span1, t4);\n      append(span1, strong1);\n      append(strong1, t5);\n      if (if_block0) if_block0.m(div0, null);\n      append(div2, div1);\n      if (if_block1) if_block1.m(div1, null);\n      append(div1, span2);\n      append(span2, t6);\n      if (!mounted) {\n        dispose = [listen(span2, \"click\", /*click_handler*/\n        ctx[9]), listen(span2, \"keydown\", self( /*keydown_handler*/\n        ctx[10]))];\n        mounted = true;\n      }\n    },\n    p: function p(ctx2, _ref16) {\n      var _ref17 = _slicedToArray(_ref16, 1),\n        dirty = _ref17[0];\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].words + \"\")) set_data(t0, t0_value);\n      if (dirty & /*words*/\n      32) set_data(t2, /*words*/\n      ctx2[5]);\n      if (dirty & /*locale*/\n      4 && t3_value !== (t3_value = /*locale*/\n      ctx2[2].lines + \"\")) set_data(t3, t3_value);\n      if (dirty & /*lines*/\n      16) set_data(t5, /*lines*/\n      ctx2[4]);\n      if ( /*islimited*/\n      ctx2[3]) {\n        if (if_block0) {\n          if_block0.p(ctx2, dirty);\n        } else {\n          if_block0 = create_if_block_1$1(ctx2);\n          if_block0.c();\n          if_block0.m(div0, null);\n        }\n      } else if (if_block0) {\n        if_block0.d(1);\n        if_block0 = null;\n      }\n      if ( /*showSync*/\n      ctx2[0]) {\n        if (if_block1) {\n          if_block1.p(ctx2, dirty);\n        } else {\n          if_block1 = create_if_block$2(ctx2);\n          if_block1.c();\n          if_block1.m(div1, span2);\n        }\n      } else if (if_block1) {\n        if_block1.d(1);\n        if_block1 = null;\n      }\n      if (dirty & /*locale*/\n      4 && t6_value !== (t6_value = /*locale*/\n      ctx2[2].top + \"\")) set_data(t6, t6_value);\n    },\n    i: noop,\n    o: noop,\n    d: function d(detaching) {\n      if (detaching) detach(div2);\n      if (if_block0) if_block0.d();\n      if (if_block1) if_block1.d();\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance$4($$self, $$props, $$invalidate) {\n  var words2;\n  var lines2;\n  var showSync = $$props.showSync;\n  var value = $$props.value;\n  var syncEnabled = $$props.syncEnabled;\n  var locale = $$props.locale;\n  var islimited = $$props.islimited;\n  var dispatch = createEventDispatcher();\n  var change_handler = function change_handler() {\n    return dispatch(\"sync\", !syncEnabled);\n  };\n  var click_handler = function click_handler() {\n    return dispatch(\"top\");\n  };\n  var keydown_handler = function keydown_handler(e) {\n    return [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"top\");\n  };\n  $$self.$$set = function ($$props2) {\n    if (\"showSync\" in $$props2) $$invalidate(0, showSync = $$props2.showSync);\n    if (\"value\" in $$props2) $$invalidate(7, value = $$props2.value);\n    if (\"syncEnabled\" in $$props2) $$invalidate(1, syncEnabled = $$props2.syncEnabled);\n    if (\"locale\" in $$props2) $$invalidate(2, locale = $$props2.locale);\n    if (\"islimited\" in $$props2) $$invalidate(3, islimited = $$props2.islimited);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(5, words2 = wordCount(value));\n    }\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(4, lines2 = value.split(\"\\n\").length);\n    }\n  };\n  return [showSync, syncEnabled, locale, islimited, lines2, words2, dispatch, value, change_handler, click_handler, keydown_handler];\n}\nvar Status = /*#__PURE__*/function (_SvelteComponent2) {\n  function Status(options) {\n    var _this2;\n    _classCallCheck(this, Status);\n    _this2 = _callSuper(this, Status);\n    init(_this2, options, instance$4, create_fragment$4, safe_not_equal, {\n      showSync: 0,\n      value: 7,\n      syncEnabled: 1,\n      locale: 2,\n      islimited: 3\n    });\n    return _this2;\n  }\n  _inherits(Status, _SvelteComponent2);\n  return _createClass(Status);\n}(SvelteComponent);\nfunction get_each_context$1(ctx, list, i) {\n  var child_ctx = ctx.slice();\n  child_ctx[11] = list[i];\n  child_ctx[13] = i;\n  return child_ctx;\n}\nfunction create_each_block$1(ctx) {\n  var li;\n  var t_value = /*item*/\n  ctx[11].text + \"\";\n  var t;\n  var li_class_value;\n  var li_style_value;\n  var mounted;\n  var dispose;\n  function click_handler() {\n    return /*click_handler*/(\n      ctx[8]( /*index*/\n      ctx[13])\n    );\n  }\n  function keydown_handler() {\n    var _ctx;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return /*keydown_handler*/(\n      (_ctx = ctx)[9].apply(_ctx, [/*index*/\n      ctx[13]].concat(args))\n    );\n  }\n  return {\n    c: function c() {\n      li = element(\"li\");\n      t = text(t_value);\n      attr(li, \"class\", li_class_value = \"bytemd-toc-\".concat( /*item*/\n      ctx[11].level));\n      attr(li, \"style\", li_style_value = \"padding-left:\".concat( /*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8, \"px\"));\n      toggle_class(li, \"bytemd-toc-active\", /*currentHeadingIndex*/\n      ctx[4] === /*index*/\n      ctx[13]);\n      toggle_class(li, \"bytemd-toc-first\", /*item*/\n      ctx[11].level === /*minLevel*/\n      ctx[3]);\n    },\n    m: function m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, t);\n      if (!mounted) {\n        dispose = [listen(li, \"click\", click_handler), listen(li, \"keydown\", self(keydown_handler))];\n        mounted = true;\n      }\n    },\n    p: function p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty & /*items*/\n      4 && t_value !== (t_value = /*item*/\n      ctx[11].text + \"\")) set_data(t, t_value);\n      if (dirty & /*items*/\n      4 && li_class_value !== (li_class_value = \"bytemd-toc-\".concat( /*item*/\n      ctx[11].level))) {\n        attr(li, \"class\", li_class_value);\n      }\n      if (dirty & /*items, minLevel*/\n      12 && li_style_value !== (li_style_value = \"padding-left:\".concat( /*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8, \"px\"))) {\n        attr(li, \"style\", li_style_value);\n      }\n      if (dirty & /*items, currentHeadingIndex*/\n      20) {\n        toggle_class(li, \"bytemd-toc-active\", /*currentHeadingIndex*/\n        ctx[4] === /*index*/\n        ctx[13]);\n      }\n      if (dirty & /*items, items, minLevel*/\n      12) {\n        toggle_class(li, \"bytemd-toc-first\", /*item*/\n        ctx[11].level === /*minLevel*/\n        ctx[3]);\n      }\n    },\n    d: function d(detaching) {\n      if (detaching) detach(li);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_fragment$3(ctx) {\n  var div;\n  var h22;\n  var t_value = /*locale*/\n  ctx[0].toc + \"\";\n  var t;\n  var ul2;\n  var each_value = /*items*/\n  ctx[2];\n  var each_blocks = [];\n  for (var i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n  }\n  return {\n    c: function c() {\n      div = element(\"div\");\n      h22 = element(\"h2\");\n      t = text(t_value);\n      ul2 = element(\"ul\");\n      for (var _i8 = 0; _i8 < each_blocks.length; _i8 += 1) {\n        each_blocks[_i8].c();\n      }\n      attr(div, \"class\", \"bytemd-toc\");\n      toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n      ctx[1]);\n    },\n    m: function m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h22);\n      append(h22, t);\n      append(div, ul2);\n      for (var _i9 = 0; _i9 < each_blocks.length; _i9 += 1) {\n        if (each_blocks[_i9]) {\n          each_blocks[_i9].m(ul2, null);\n        }\n      }\n    },\n    p: function p(ctx2, _ref18) {\n      var _ref19 = _slicedToArray(_ref18, 1),\n        dirty = _ref19[0];\n      if (dirty & /*locale*/\n      1 && t_value !== (t_value = /*locale*/\n      ctx2[0].toc + \"\")) set_data(t, t_value);\n      if (dirty & /*items, minLevel, currentHeadingIndex, dispatch*/\n      60) {\n        each_value = /*items*/\n        ctx2[2];\n        var _i10;\n        for (_i10 = 0; _i10 < each_value.length; _i10 += 1) {\n          var child_ctx = get_each_context$1(ctx2, each_value, _i10);\n          if (each_blocks[_i10]) {\n            each_blocks[_i10].p(child_ctx, dirty);\n          } else {\n            each_blocks[_i10] = create_each_block$1(child_ctx);\n            each_blocks[_i10].c();\n            each_blocks[_i10].m(ul2, null);\n          }\n        }\n        for (; _i10 < each_blocks.length; _i10 += 1) {\n          each_blocks[_i10].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", ! /*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d: function d(detaching) {\n      if (detaching) detach(div);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$3($$self, $$props, $$invalidate) {\n  var hast = $$props.hast;\n  var currentBlockIndex = $$props.currentBlockIndex;\n  var locale = $$props.locale;\n  var visible = $$props.visible;\n  var dispatch = createEventDispatcher();\n  var items;\n  var minLevel = 6;\n  var currentHeadingIndex = 0;\n  function stringifyHeading(e) {\n    var result = \"\";\n    visit(e, function (node) {\n      if (node.type === \"text\") {\n        result += node.value;\n      }\n    });\n    return result;\n  }\n  var click_handler = function click_handler(index2) {\n    dispatch(\"click\", index2);\n  };\n  var keydown_handler = function keydown_handler(index2, e) {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      dispatch(\"click\", index2);\n    }\n  };\n  $$self.$$set = function ($$props2) {\n    if (\"hast\" in $$props2) $$invalidate(6, hast = $$props2.hast);\n    if (\"currentBlockIndex\" in $$props2) $$invalidate(7, currentBlockIndex = $$props2.currentBlockIndex);\n    if (\"locale\" in $$props2) $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2) $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty & /*hast, minLevel, items, currentBlockIndex*/\n    204) {\n      (function () {\n        $$invalidate(2, items = []);\n        $$invalidate(4, currentHeadingIndex = 0);\n        hast.children.filter(function (v) {\n          return v.type === \"element\";\n        }).forEach(function (node, index2) {\n          if (node.tagName[0] === \"h\" && !!node.children.length) {\n            var i = Number(node.tagName[1]);\n            $$invalidate(3, minLevel = Math.min(minLevel, i));\n            items.push({\n              level: i,\n              text: stringifyHeading(node)\n            });\n          }\n          if (currentBlockIndex >= index2) {\n            $$invalidate(4, currentHeadingIndex = items.length - 1);\n          }\n        });\n      })();\n    }\n  };\n  return [locale, visible, items, minLevel, currentHeadingIndex, dispatch, hast, currentBlockIndex, click_handler, keydown_handler];\n}\nvar Toc = /*#__PURE__*/function (_SvelteComponent3) {\n  function Toc(options) {\n    var _this3;\n    _classCallCheck(this, Toc);\n    _this3 = _callSuper(this, Toc);\n    init(_this3, options, instance$3, create_fragment$3, not_equal, {\n      hast: 6,\n      currentBlockIndex: 7,\n      locale: 0,\n      visible: 1\n    });\n    return _this3;\n  }\n  _inherits(Toc, _SvelteComponent3);\n  return _createClass(Toc);\n}(SvelteComponent);\nfunction get_each_context(ctx, list, i) {\n  var child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction get_each_context_1(ctx, list, i) {\n  var child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction create_else_block(ctx) {\n  var div0;\n  var t0_value = /*locale*/\n  ctx[2].write + \"\";\n  var t0;\n  var div1;\n  var t1_value = /*locale*/\n  ctx[2].preview + \"\";\n  var t1;\n  var mounted;\n  var dispose;\n  return {\n    c: function c() {\n      div0 = element(\"div\");\n      t0 = text(t0_value);\n      div1 = element(\"div\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(div0, \"bytemd-toolbar-tab-active\", /*activeTab*/\n      ctx[1] !== \"preview\");\n      attr(div1, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(div1, \"bytemd-toolbar-tab-active\", /*activeTab*/\n      ctx[1] === \"preview\");\n    },\n    m: function m(target, anchor) {\n      insert(target, div0, anchor);\n      append(div0, t0);\n      insert(target, div1, anchor);\n      append(div1, t1);\n      if (!mounted) {\n        dispose = [listen(div0, \"click\", /*click_handler*/\n        ctx[16]), listen(div0, \"keydown\", self( /*keydown_handler*/\n        ctx[17])), listen(div1, \"click\", /*click_handler_1*/\n        ctx[18]), listen(div1, \"keydown\", self( /*keydown_handler_1*/\n        ctx[19]))];\n        mounted = true;\n      }\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].write + \"\")) set_data(t0, t0_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(div0, \"bytemd-toolbar-tab-active\", /*activeTab*/\n        ctx2[1] !== \"preview\");\n      }\n      if (dirty & /*locale*/\n      4 && t1_value !== (t1_value = /*locale*/\n      ctx2[2].preview + \"\")) set_data(t1, t1_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(div1, \"bytemd-toolbar-tab-active\", /*activeTab*/\n        ctx2[1] === \"preview\");\n      }\n    },\n    d: function d(detaching) {\n      if (detaching) detach(div0);\n      if (detaching) detach(div1);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_if_block_1(ctx) {\n  var each_1_anchor;\n  var each_value_1 = /*actions*/\n  ctx[3];\n  var each_blocks = [];\n  for (var i = 0; i < each_value_1.length; i += 1) {\n    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n  }\n  return {\n    c: function c() {\n      for (var _i11 = 0; _i11 < each_blocks.length; _i11 += 1) {\n        each_blocks[_i11].c();\n      }\n      each_1_anchor = empty();\n    },\n    m: function m(target, anchor) {\n      for (var _i12 = 0; _i12 < each_blocks.length; _i12 += 1) {\n        if (each_blocks[_i12]) {\n          each_blocks[_i12].m(target, anchor);\n        }\n      }\n      insert(target, each_1_anchor, anchor);\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*tippyClass, actions*/\n      8) {\n        each_value_1 = /*actions*/\n        ctx2[3];\n        var _i13;\n        for (_i13 = 0; _i13 < each_value_1.length; _i13 += 1) {\n          var child_ctx = get_each_context_1(ctx2, each_value_1, _i13);\n          if (each_blocks[_i13]) {\n            each_blocks[_i13].p(child_ctx, dirty);\n          } else {\n            each_blocks[_i13] = create_each_block_1(child_ctx);\n            each_blocks[_i13].c();\n            each_blocks[_i13].m(each_1_anchor.parentNode, each_1_anchor);\n          }\n        }\n        for (; _i13 < each_blocks.length; _i13 += 1) {\n          each_blocks[_i13].d(1);\n        }\n        each_blocks.length = each_value_1.length;\n      }\n    },\n    d: function d(detaching) {\n      destroy_each(each_blocks, detaching);\n      if (detaching) detach(each_1_anchor);\n    }\n  };\n}\nfunction create_if_block_2(ctx) {\n  var div;\n  var raw_value = /*item*/\n  ctx[25].icon + \"\";\n  return {\n    c: function c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass].join(\" \"));\n      attr(div, \"bytemd-tippy-path\", /*index*/\n      ctx[27]);\n    },\n    m: function m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*actions*/\n      8 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\")) div.innerHTML = raw_value;\n    },\n    d: function d(detaching) {\n      if (detaching) detach(div);\n    }\n  };\n}\nfunction create_each_block_1(ctx) {\n  var if_block_anchor;\n  var if_block = /*item*/\n  ctx[25].handler && create_if_block_2(ctx);\n  return {\n    c: function c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m: function m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p: function p(ctx2, dirty) {\n      if ( /*item*/\n      ctx2[25].handler) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d: function d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$1(ctx) {\n  var div;\n  var raw_value = /*item*/\n  ctx[25].icon + \"\";\n  return {\n    c: function c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass, tippyClassRight].join(\" \"));\n      attr(div, \"bytemd-tippy-path\", /*index*/\n      ctx[27]);\n      toggle_class(div, \"bytemd-toolbar-icon-active\", /*item*/\n      ctx[25].active);\n    },\n    m: function m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p: function p(ctx2, dirty) {\n      if (dirty & /*rightActions*/\n      32 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\")) div.innerHTML = raw_value;\n      if (dirty & /*rightActions*/\n      32) {\n        toggle_class(div, \"bytemd-toolbar-icon-active\", /*item*/\n        ctx2[25].active);\n      }\n    },\n    d: function d(detaching) {\n      if (detaching) detach(div);\n    }\n  };\n}\nfunction create_each_block(ctx) {\n  var if_block_anchor;\n  var if_block = ! /*item*/\n  ctx[25].hidden && create_if_block$1(ctx);\n  return {\n    c: function c() {\n      if (if_block) if_block.c();\n      if_block_anchor = empty();\n    },\n    m: function m(target, anchor) {\n      if (if_block) if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p: function p(ctx2, dirty) {\n      if (! /*item*/\n      ctx2[25].hidden) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$1(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d: function d(detaching) {\n      if (if_block) if_block.d(detaching);\n      if (detaching) detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$2(ctx) {\n  var div2;\n  var div0;\n  var div1;\n  var mounted;\n  var dispose;\n  function select_block_type(ctx2, dirty) {\n    if ( /*split*/\n    ctx2[0]) return create_if_block_1;\n    return create_else_block;\n  }\n  var current_block_type = select_block_type(ctx);\n  var if_block = current_block_type(ctx);\n  var each_value = /*rightActions*/\n  ctx[5];\n  var each_blocks = [];\n  for (var i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n  }\n  return {\n    c: function c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      if_block.c();\n      div1 = element(\"div\");\n      for (var _i14 = 0; _i14 < each_blocks.length; _i14 += 1) {\n        each_blocks[_i14].c();\n      }\n      attr(div0, \"class\", \"bytemd-toolbar-left\");\n      attr(div1, \"class\", \"bytemd-toolbar-right\");\n      attr(div2, \"class\", \"bytemd-toolbar\");\n    },\n    m: function m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      if_block.m(div0, null);\n      append(div2, div1);\n      for (var _i15 = 0; _i15 < each_blocks.length; _i15 += 1) {\n        if (each_blocks[_i15]) {\n          each_blocks[_i15].m(div1, null);\n        }\n      }\n      ctx[20](div2);\n      if (!mounted) {\n        dispose = [listen(div2, \"click\", /*handleClick*/\n        ctx[7]), listen(div2, \"keydown\", self( /*keydown_handler_2*/\n        ctx[21]))];\n        mounted = true;\n      }\n    },\n    p: function p(ctx2, _ref20) {\n      var _ref21 = _slicedToArray(_ref20, 1),\n        dirty = _ref21[0];\n      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {\n        if_block.p(ctx2, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx2);\n        if (if_block) {\n          if_block.c();\n          if_block.m(div0, null);\n        }\n      }\n      if (dirty & /*tippyClass, tippyClassRight, rightActions*/\n      32) {\n        each_value = /*rightActions*/\n        ctx2[5];\n        var _i16;\n        for (_i16 = 0; _i16 < each_value.length; _i16 += 1) {\n          var child_ctx = get_each_context(ctx2, each_value, _i16);\n          if (each_blocks[_i16]) {\n            each_blocks[_i16].p(child_ctx, dirty);\n          } else {\n            each_blocks[_i16] = create_each_block(child_ctx);\n            each_blocks[_i16].c();\n            each_blocks[_i16].m(div1, null);\n          }\n        }\n        for (; _i16 < each_blocks.length; _i16 += 1) {\n          each_blocks[_i16].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n    },\n    i: noop,\n    o: noop,\n    d: function d(detaching) {\n      if (detaching) detach(div2);\n      if_block.d();\n      destroy_each(each_blocks, detaching);\n      ctx[20](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nvar tippyClass = \"bytemd-tippy\";\nvar tippyClassRight = \"bytemd-tippy-right\";\nvar tippyPathKey = \"bytemd-tippy-path\";\nfunction instance$2($$self, $$props, $$invalidate) {\n  var tocActive;\n  var helpActive;\n  var writeActive;\n  var previewActive;\n  var rightActions;\n  var dispatch = createEventDispatcher();\n  var toolbar;\n  var context = $$props.context;\n  var split = $$props.split;\n  var activeTab = $$props.activeTab;\n  var fullscreen2 = $$props.fullscreen;\n  var sidebar = $$props.sidebar;\n  var locale = $$props.locale;\n  var actions = $$props.actions;\n  var rightAfferentActions = $$props.rightAfferentActions;\n  function getPayloadFromElement(e) {\n    var _a, _b;\n    var paths = (_b = (_a = e.getAttribute(tippyPathKey)) == null ? void 0 : _a.split(\"-\")) == null ? void 0 : _b.map(function (x) {\n      return parseInt(x, 10);\n    });\n    if (!paths) return;\n    var item = {\n      title: \"\",\n      handler: {\n        type: \"dropdown\",\n        actions: e.classList.contains(tippyClassRight) ? rightActions : actions\n      }\n    };\n    paths == null ? void 0 : paths.forEach(function (index2) {\n      var _a2;\n      if (((_a2 = item.handler) == null ? void 0 : _a2.type) === \"dropdown\") {\n        item = item.handler.actions[index2];\n      }\n    });\n    return {\n      paths: paths,\n      item: item\n    };\n  }\n  var delegateInstance;\n  function init2() {\n    delegateInstance = delegate(toolbar, {\n      target: \".\".concat(tippyClass),\n      onCreate: function onCreate(_ref22) {\n        var setProps = _ref22.setProps,\n          reference = _ref22.reference;\n        var payload = getPayloadFromElement(reference);\n        if (!payload) return;\n        var item = payload.item,\n          paths = payload.paths;\n        var handler = item.handler;\n        if (!handler) return;\n        if (handler.type === \"action\") {\n          setProps({\n            content: item.title,\n            onHidden: function onHidden(ins) {\n              ins.destroy();\n            }\n          });\n        } else if (handler.type === \"dropdown\") {\n          var dropdown = document.createElement(\"div\");\n          dropdown.classList.add(\"bytemd-dropdown\");\n          if (item.title) {\n            var dropdownTitle = document.createElement(\"div\");\n            dropdownTitle.classList.add(\"bytemd-dropdown-title\");\n            dropdownTitle.appendChild(document.createTextNode(item.title));\n            dropdown.appendChild(dropdownTitle);\n          }\n          handler.actions.forEach(function (subAction, i) {\n            var _a;\n            var dropdownItem = document.createElement(\"div\");\n            dropdownItem.classList.add(\"bytemd-dropdown-item\");\n            dropdownItem.setAttribute(tippyPathKey, [].concat(_toConsumableArray(paths), [i]).join(\"-\"));\n            if (((_a = subAction.handler) == null ? void 0 : _a.type) === \"dropdown\") {\n              dropdownItem.classList.add(tippyClass);\n            }\n            if (reference.classList.contains(tippyClassRight)) {\n              dropdownItem.classList.add(tippyClassRight);\n            }\n            dropdownItem.innerHTML = \"\".concat(subAction.icon ? \"<div class=\\\"bytemd-dropdown-item-icon\\\">\".concat(subAction.icon, \"</div>\") : \"\", \"<div class=\\\"bytemd-dropdown-item-title\\\">\").concat(subAction.title, \"</div>\");\n            dropdown.appendChild(dropdownItem);\n          });\n          setProps({\n            allowHTML: true,\n            showOnCreate: true,\n            theme: \"light-border\",\n            placement: \"bottom-start\",\n            interactive: true,\n            interactiveDebounce: 50,\n            arrow: false,\n            offset: [0, 4],\n            content: dropdown.outerHTML,\n            onHidden: function onHidden(ins) {\n              ins.destroy();\n            },\n            onCreate: function onCreate(ins) {\n              _toConsumableArray(ins.popper.querySelectorAll(\".bytemd-dropdown-item\")).forEach(function (el, i) {\n                var _a;\n                var actionHandler = (_a = handler.actions[i]) == null ? void 0 : _a.handler;\n                if ((actionHandler == null ? void 0 : actionHandler.type) === \"action\") {\n                  var mouseenter = actionHandler.mouseenter,\n                    mouseleave = actionHandler.mouseleave;\n                  if (mouseenter) {\n                    el.addEventListener(\"mouseenter\", function () {\n                      mouseenter(context);\n                    });\n                  }\n                  if (mouseleave) {\n                    el.addEventListener(\"mouseleave\", function () {\n                      mouseleave(context);\n                    });\n                  }\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n  onMount(function () {\n    init2();\n  });\n  function handleClick(e) {\n    var _a, _b;\n    var target = e.target.closest(\"[\".concat(tippyPathKey, \"]\"));\n    if (!target) return;\n    var handler = (_b = (_a = getPayloadFromElement(target)) == null ? void 0 : _a.item) == null ? void 0 : _b.handler;\n    if ((handler == null ? void 0 : handler.type) === \"action\") {\n      handler.click(context);\n    }\n    delegateInstance == null ? void 0 : delegateInstance.destroy();\n    init2();\n  }\n  var click_handler = function click_handler() {\n    return dispatch(\"tab\", \"write\");\n  };\n  var keydown_handler = function keydown_handler(e) {\n    return [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"write\");\n  };\n  var click_handler_1 = function click_handler_1() {\n    return dispatch(\"tab\", \"preview\");\n  };\n  var keydown_handler_1 = function keydown_handler_1(e) {\n    return [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"preview\");\n  };\n  function div2_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](function () {\n      toolbar = $$value;\n      $$invalidate(4, toolbar);\n    });\n  }\n  var keydown_handler_2 = function keydown_handler_2(e) {\n    return [\"Enter\", \"Space\"].includes(e.code) && handleClick(e);\n  };\n  $$self.$$set = function ($$props2) {\n    if (\"context\" in $$props2) $$invalidate(8, context = $$props2.context);\n    if (\"split\" in $$props2) $$invalidate(0, split = $$props2.split);\n    if (\"activeTab\" in $$props2) $$invalidate(1, activeTab = $$props2.activeTab);\n    if (\"fullscreen\" in $$props2) $$invalidate(9, fullscreen2 = $$props2.fullscreen);\n    if (\"sidebar\" in $$props2) $$invalidate(10, sidebar = $$props2.sidebar);\n    if (\"locale\" in $$props2) $$invalidate(2, locale = $$props2.locale);\n    if (\"actions\" in $$props2) $$invalidate(3, actions = $$props2.actions);\n    if (\"rightAfferentActions\" in $$props2) $$invalidate(11, rightAfferentActions = $$props2.rightAfferentActions);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(15, tocActive = sidebar === \"toc\");\n    }\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(14, helpActive = sidebar === \"help\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(13, writeActive = activeTab === \"write\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(12, previewActive = activeTab === \"preview\");\n    }\n    if ($$self.$$.dirty & /*tocActive, locale, helpActive, writeActive, split, previewActive, fullscreen, rightAfferentActions*/\n    64005) {\n      $$invalidate(5, rightActions = [{\n        title: tocActive ? locale.closeToc : locale.toc,\n        icon: icons.AlignTextLeftOne,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            dispatch(\"click\", \"toc\");\n          }\n        },\n        active: tocActive\n      }, {\n        title: helpActive ? locale.closeHelp : locale.help,\n        icon: icons.Helpcenter,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            dispatch(\"click\", \"help\");\n          }\n        },\n        active: helpActive\n      }, {\n        title: writeActive ? locale.exitWriteOnly : locale.writeOnly,\n        icon: icons.LeftExpand,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            dispatch(\"tab\", \"write\");\n          }\n        },\n        active: writeActive,\n        hidden: !split\n      }, {\n        title: previewActive ? locale.exitPreviewOnly : locale.previewOnly,\n        icon: icons.RightExpand,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            dispatch(\"tab\", \"preview\");\n          }\n        },\n        active: previewActive,\n        hidden: !split\n      }, {\n        title: fullscreen2 ? locale.exitFullscreen : locale.fullscreen,\n        icon: fullscreen2 ? icons.OffScreen : icons.FullScreen,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            dispatch(\"click\", \"fullscreen\");\n          }\n        }\n      }, {\n        title: locale.source,\n        icon: icons.GithubOne,\n        handler: {\n          type: \"action\",\n          click: function click() {\n            window.open(\"https://github.com/bytedance/bytemd\");\n          }\n        }\n      }].concat(_toConsumableArray(rightAfferentActions)));\n    }\n  };\n  return [split, activeTab, locale, actions, toolbar, rightActions, dispatch, handleClick, context, fullscreen2, sidebar, rightAfferentActions, previewActive, writeActive, helpActive, tocActive, click_handler, keydown_handler, click_handler_1, keydown_handler_1, div2_binding, keydown_handler_2];\n}\nvar Toolbar = /*#__PURE__*/function (_SvelteComponent4) {\n  function Toolbar(options) {\n    var _this4;\n    _classCallCheck(this, Toolbar);\n    _this4 = _callSuper(this, Toolbar);\n    init(_this4, options, instance$2, create_fragment$2, not_equal, {\n      context: 8,\n      split: 0,\n      activeTab: 1,\n      fullscreen: 9,\n      sidebar: 10,\n      locale: 2,\n      actions: 3,\n      rightAfferentActions: 11\n    });\n    return _this4;\n  }\n  _inherits(Toolbar, _SvelteComponent4);\n  return _createClass(Toolbar);\n}(SvelteComponent);\nvar schemaStr = JSON.stringify(defaultSchema);\nfunction getProcessor(_ref23) {\n  var sanitize = _ref23.sanitize,\n    plugins = _ref23.plugins,\n    _ref23$remarkRehype = _ref23.remarkRehype,\n    remarkRehypeOptions = _ref23$remarkRehype === void 0 ? {} : _ref23$remarkRehype;\n  var processor = unified().use(remarkParse);\n  plugins == null ? void 0 : plugins.forEach(function (_ref24) {\n    var remark = _ref24.remark;\n    if (remark) processor = remark(processor);\n  });\n  processor = processor.use(remarkRehype, _objectSpread({\n    allowDangerousHtml: true\n  }, remarkRehypeOptions)).use(rehypeRaw);\n  var schema = JSON.parse(schemaStr);\n  schema.attributes[\"*\"].push(\"className\");\n  if (typeof sanitize === \"function\") {\n    schema = sanitize(schema);\n  }\n  processor = processor.use(rehypeSanitize, schema);\n  plugins == null ? void 0 : plugins.forEach(function (_ref25) {\n    var rehype = _ref25.rehype;\n    if (rehype) processor = rehype(processor);\n  });\n  return processor.use(rehypeStringify);\n}\nfunction create_fragment$1(ctx) {\n  var div;\n  return {\n    c: function c() {\n      div = element(\"div\");\n      attr(div, \"class\", \"markdown-body\");\n    },\n    m: function m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = /*html*/\n      ctx[1];\n      ctx[8](div);\n    },\n    p: function p(ctx2, _ref26) {\n      var _ref27 = _slicedToArray(_ref26, 1),\n        dirty = _ref27[0];\n      if (dirty & /*html*/\n      2) div.innerHTML = /*html*/\n      ctx2[1];\n    },\n    i: noop,\n    o: noop,\n    d: function d(detaching) {\n      if (detaching) detach(div);\n      ctx[8](null);\n    }\n  };\n}\nfunction instance$1($$self, $$props, $$invalidate) {\n  var html;\n  var dispatch = createEventDispatcher();\n  var _$$props$value = $$props.value,\n    value = _$$props$value === void 0 ? \"\" : _$$props$value;\n  var _$$props$plugins = $$props.plugins,\n    plugins = _$$props$plugins === void 0 ? [] : _$$props$plugins;\n  var _$$props$sanitize = $$props.sanitize,\n    sanitize = _$$props$sanitize === void 0 ? void 0 : _$$props$sanitize;\n  var _$$props$remarkRehype = $$props.remarkRehype,\n    remarkRehype2 = _$$props$remarkRehype === void 0 ? void 0 : _$$props$remarkRehype;\n  var markdownBody;\n  var cbs = [];\n  function on() {\n    cbs = plugins.map(function (p) {\n      var _a;\n      return (_a = p.viewerEffect) == null ? void 0 : _a.call(p, {\n        markdownBody: markdownBody,\n        file: file\n      });\n    });\n  }\n  function off() {\n    cbs.forEach(function (cb) {\n      return cb == null ? void 0 : cb();\n    });\n  }\n  onMount(function () {\n    markdownBody.addEventListener(\"click\", function (e) {\n      var _a;\n      var $ = e.target;\n      if ($.tagName !== \"A\") return;\n      var href = $.getAttribute(\"href\");\n      if (!(href == null ? void 0 : href.startsWith(\"#\"))) return;\n      (_a = markdownBody.querySelector(\"#user-content-\" + href.slice(1))) == null ? void 0 : _a.scrollIntoView();\n    });\n  });\n  onDestroy(off);\n  var file;\n  var i = 0;\n  var dispatchPlugin = function dispatchPlugin() {\n    return function (tree, file2) {\n      tick().then(function () {\n        dispatch(\"hast\", {\n          hast: tree,\n          file: file2\n        });\n      });\n    };\n  };\n  afterUpdate(function () {\n    off();\n    on();\n  });\n  function div_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](function () {\n      markdownBody = $$value;\n      $$invalidate(0, markdownBody);\n    });\n  }\n  $$self.$$set = function ($$props2) {\n    if (\"value\" in $$props2) $$invalidate(2, value = $$props2.value);\n    if (\"plugins\" in $$props2) $$invalidate(3, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2) $$invalidate(4, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2) $$invalidate(5, remarkRehype2 = $$props2.remarkRehype);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty & /*sanitize, plugins, remarkRehype, value, i*/\n    188) {\n      try {\n        $$invalidate(6, file = getProcessor({\n          sanitize: sanitize,\n          plugins: [].concat(_toConsumableArray(plugins), [{\n            // remark: (p) =>\n            //   p.use(() => (tree) =>{\n            //     console.log(tree)\n            //   }),\n            rehype: function rehype(processor) {\n              return processor.use(dispatchPlugin);\n            }\n          }]),\n          remarkRehype: remarkRehype2\n        }).processSync(value));\n        $$invalidate(7, i++, i);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if ($$self.$$.dirty & /*file, i*/\n    192) {\n      $$invalidate(1, html = \"\".concat(file, \"<!--\").concat(i, \"-->\"));\n    }\n  };\n  return [markdownBody, html, value, plugins, sanitize, remarkRehype2, file, i, div_binding];\n}\nvar Viewer = /*#__PURE__*/function (_SvelteComponent5) {\n  function Viewer(options) {\n    var _this5;\n    _classCallCheck(this, Viewer);\n    _this5 = _callSuper(this, Viewer);\n    init(_this5, options, instance$1, create_fragment$1, not_equal, {\n      value: 2,\n      plugins: 3,\n      sanitize: 4,\n      remarkRehype: 5\n    });\n    return _this5;\n  }\n  _inherits(Viewer, _SvelteComponent5);\n  return _createClass(Viewer);\n}(SvelteComponent);\nfunction create_if_block(ctx) {\n  var viewer;\n  var current;\n  viewer = new Viewer({\n    props: {\n      value: ( /*debouncedValue*/\n      ctx[16]),\n      plugins: ( /*plugins*/\n      ctx[1]),\n      sanitize: ( /*sanitize*/\n      ctx[2]),\n      remarkRehype: ( /*remarkRehype*/\n      ctx[3])\n    }\n  });\n  viewer.$on(\"hast\", /*hast_handler*/\n  ctx[35]);\n  return {\n    c: function c() {\n      create_component(viewer.$$.fragment);\n    },\n    m: function m(target, anchor) {\n      mount_component(viewer, target, anchor);\n      current = true;\n    },\n    p: function p(ctx2, dirty) {\n      var viewer_changes = {};\n      if (dirty[0] & /*debouncedValue*/\n      65536) viewer_changes.value = /*debouncedValue*/\n      ctx2[16];\n      if (dirty[0] & /*plugins*/\n      2) viewer_changes.plugins = /*plugins*/\n      ctx2[1];\n      if (dirty[0] & /*sanitize*/\n      4) viewer_changes.sanitize = /*sanitize*/\n      ctx2[2];\n      if (dirty[0] & /*remarkRehype*/\n      8) viewer_changes.remarkRehype = /*remarkRehype*/\n      ctx2[3];\n      viewer.$set(viewer_changes);\n    },\n    i: function i(local) {\n      if (current) return;\n      transition_in(viewer.$$.fragment, local);\n      current = true;\n    },\n    o: function o(local) {\n      transition_out(viewer.$$.fragment, local);\n      current = false;\n    },\n    d: function d(detaching) {\n      destroy_component(viewer, detaching);\n    }\n  };\n}\nfunction create_fragment(ctx) {\n  var div5;\n  var toolbar;\n  var div4;\n  var div0;\n  var div0_style_value;\n  var div1;\n  var div1_style_value;\n  var div3;\n  var div2;\n  var raw_value = icons.Close + \"\";\n  var help2;\n  var toc2;\n  var status;\n  var current;\n  var mounted;\n  var dispose;\n  toolbar = new Toolbar({\n    props: {\n      context: ( /*context*/\n      ctx[10]),\n      split: ( /*split*/\n      ctx[11]),\n      activeTab: ( /*activeTab*/\n      ctx[8]),\n      sidebar: ( /*sidebar*/\n      ctx[9]),\n      fullscreen: ( /*fullscreen*/\n      ctx[15]),\n      rightAfferentActions: ( /*actions*/\n      ctx[21].rightActions),\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      actions: ( /*actions*/\n      ctx[21].leftActions)\n    }\n  });\n  toolbar.$on(\"key\", /*key_handler*/\n  ctx[31]);\n  toolbar.$on(\"tab\", /*tab_handler*/\n  ctx[32]);\n  toolbar.$on(\"click\", /*click_handler*/\n  ctx[33]);\n  var if_block = ! /*overridePreview*/\n  ctx[4] && ( /*split*/\n  ctx[11] || /*activeTab*/\n  ctx[8] === \"preview\") && create_if_block(ctx);\n  help2 = new Help({\n    props: {\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      actions: ( /*actions*/\n      ctx[21].leftActions),\n      visible: ( /*sidebar*/\n      ctx[9] === \"help\")\n    }\n  });\n  toc2 = new Toc({\n    props: {\n      hast: ( /*hast*/\n      ctx[18]),\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      currentBlockIndex: ( /*currentBlockIndex*/\n      ctx[20]),\n      visible: ( /*sidebar*/\n      ctx[9] === \"toc\")\n    }\n  });\n  toc2.$on(\"click\", /*click_handler_2*/\n  ctx[39]);\n  status = new Status({\n    props: {\n      locale: ( /*mergedLocale*/\n      ctx[12]),\n      showSync: ! /*overridePreview*/\n      ctx[4] && /*split*/\n      ctx[11],\n      value: ( /*debouncedValue*/\n      ctx[16]),\n      syncEnabled: ( /*syncEnabled*/\n      ctx[17]),\n      islimited: ( /*value*/\n      ctx[0].length > /*maxLength*/\n      ctx[5])\n    }\n  });\n  status.$on(\"sync\", /*sync_handler*/\n  ctx[40]);\n  status.$on(\"top\", /*top_handler*/\n  ctx[41]);\n  return {\n    c: function c() {\n      div5 = element(\"div\");\n      create_component(toolbar.$$.fragment);\n      div4 = element(\"div\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      if (if_block) if_block.c();\n      div3 = element(\"div\");\n      div2 = element(\"div\");\n      create_component(help2.$$.fragment);\n      create_component(toc2.$$.fragment);\n      create_component(status.$$.fragment);\n      attr(div0, \"class\", \"bytemd-editor\");\n      attr(div0, \"style\", div0_style_value = /*styles*/\n      ctx[22].edit);\n      attr(div1, \"class\", \"bytemd-preview\");\n      attr(div1, \"style\", div1_style_value = /*styles*/\n      ctx[22].preview);\n      attr(div2, \"class\", \"bytemd-sidebar-close\");\n      attr(div3, \"class\", \"bytemd-sidebar\");\n      toggle_class(div3, \"bytemd-hidden\", /*sidebar*/\n      ctx[9] === false);\n      attr(div4, \"class\", \"bytemd-body\");\n      attr(div5, \"class\", \"bytemd\");\n      toggle_class(div5, \"bytemd-split\", /*split*/\n      ctx[11] && /*activeTab*/\n      ctx[8] === false);\n      toggle_class(div5, \"bytemd-fullscreen\", /*fullscreen*/\n      ctx[15]);\n    },\n    m: function m(target, anchor) {\n      insert(target, div5, anchor);\n      mount_component(toolbar, div5, null);\n      append(div5, div4);\n      append(div4, div0);\n      ctx[34](div0);\n      append(div4, div1);\n      if (if_block) if_block.m(div1, null);\n      ctx[36](div1);\n      append(div4, div3);\n      append(div3, div2);\n      div2.innerHTML = raw_value;\n      mount_component(help2, div3, null);\n      mount_component(toc2, div3, null);\n      mount_component(status, div5, null);\n      ctx[42](div5);\n      current = true;\n      if (!mounted) {\n        dispose = [listen(div2, \"click\", /*click_handler_1*/\n        ctx[37]), listen(div2, \"keydown\", self( /*keydown_handler*/\n        ctx[38]))];\n        mounted = true;\n      }\n    },\n    p: function p(ctx2, dirty) {\n      var toolbar_changes = {};\n      if (dirty[0] & /*context*/\n      1024) toolbar_changes.context = /*context*/\n      ctx2[10];\n      if (dirty[0] & /*split*/\n      2048) toolbar_changes.split = /*split*/\n      ctx2[11];\n      if (dirty[0] & /*activeTab*/\n      256) toolbar_changes.activeTab = /*activeTab*/\n      ctx2[8];\n      if (dirty[0] & /*sidebar*/\n      512) toolbar_changes.sidebar = /*sidebar*/\n      ctx2[9];\n      if (dirty[0] & /*fullscreen*/\n      32768) toolbar_changes.fullscreen = /*fullscreen*/\n      ctx2[15];\n      if (dirty[0] & /*actions*/\n      2097152) toolbar_changes.rightAfferentActions = /*actions*/\n      ctx2[21].rightActions;\n      if (dirty[0] & /*mergedLocale*/\n      4096) toolbar_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152) toolbar_changes.actions = /*actions*/\n      ctx2[21].leftActions;\n      toolbar.$set(toolbar_changes);\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div0_style_value !== (div0_style_value = /*styles*/\n      ctx2[22].edit)) {\n        attr(div0, \"style\", div0_style_value);\n      }\n      if (! /*overridePreview*/\n      ctx2[4] && ( /*split*/\n      ctx2[11] || /*activeTab*/\n      ctx2[8] === \"preview\")) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n          if (dirty[0] & /*overridePreview, split, activeTab*/\n          2320) {\n            transition_in(if_block, 1);\n          }\n        } else {\n          if_block = create_if_block(ctx2);\n          if_block.c();\n          transition_in(if_block, 1);\n          if_block.m(div1, null);\n        }\n      } else if (if_block) {\n        group_outros();\n        transition_out(if_block, 1, 1, function () {\n          if_block = null;\n        });\n        check_outros();\n      }\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div1_style_value !== (div1_style_value = /*styles*/\n      ctx2[22].preview)) {\n        attr(div1, \"style\", div1_style_value);\n      }\n      var help_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096) help_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152) help_changes.actions = /*actions*/\n      ctx2[21].leftActions;\n      if (dirty[0] & /*sidebar*/\n      512) help_changes.visible = /*sidebar*/\n      ctx2[9] === \"help\";\n      help2.$set(help_changes);\n      var toc_changes = {};\n      if (dirty[0] & /*hast*/\n      262144) toc_changes.hast = /*hast*/\n      ctx2[18];\n      if (dirty[0] & /*mergedLocale*/\n      4096) toc_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*currentBlockIndex*/\n      1048576) toc_changes.currentBlockIndex = /*currentBlockIndex*/\n      ctx2[20];\n      if (dirty[0] & /*sidebar*/\n      512) toc_changes.visible = /*sidebar*/\n      ctx2[9] === \"toc\";\n      toc2.$set(toc_changes);\n      if (!current || dirty[0] & /*sidebar*/\n      512) {\n        toggle_class(div3, \"bytemd-hidden\", /*sidebar*/\n        ctx2[9] === false);\n      }\n      var status_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096) status_changes.locale = /*mergedLocale*/\n      ctx2[12];\n      if (dirty[0] & /*overridePreview, split*/\n      2064) status_changes.showSync = ! /*overridePreview*/\n      ctx2[4] && /*split*/\n      ctx2[11];\n      if (dirty[0] & /*debouncedValue*/\n      65536) status_changes.value = /*debouncedValue*/\n      ctx2[16];\n      if (dirty[0] & /*syncEnabled*/\n      131072) status_changes.syncEnabled = /*syncEnabled*/\n      ctx2[17];\n      if (dirty[0] & /*value, maxLength*/\n      33) status_changes.islimited = /*value*/\n      ctx2[0].length > /*maxLength*/\n      ctx2[5];\n      status.$set(status_changes);\n      if (!current || dirty[0] & /*split, activeTab*/\n      2304) {\n        toggle_class(div5, \"bytemd-split\", /*split*/\n        ctx2[11] && /*activeTab*/\n        ctx2[8] === false);\n      }\n      if (!current || dirty[0] & /*fullscreen*/\n      32768) {\n        toggle_class(div5, \"bytemd-fullscreen\", /*fullscreen*/\n        ctx2[15]);\n      }\n    },\n    i: function i(local) {\n      if (current) return;\n      transition_in(toolbar.$$.fragment, local);\n      transition_in(if_block);\n      transition_in(help2.$$.fragment, local);\n      transition_in(toc2.$$.fragment, local);\n      transition_in(status.$$.fragment, local);\n      current = true;\n    },\n    o: function o(local) {\n      transition_out(toolbar.$$.fragment, local);\n      transition_out(if_block);\n      transition_out(help2.$$.fragment, local);\n      transition_out(toc2.$$.fragment, local);\n      transition_out(status.$$.fragment, local);\n      current = false;\n    },\n    d: function d(detaching) {\n      if (detaching) detach(div5);\n      destroy_component(toolbar);\n      ctx[34](null);\n      if (if_block) if_block.d();\n      ctx[36](null);\n      destroy_component(help2);\n      destroy_component(toc2);\n      destroy_component(status);\n      ctx[42](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance($$self, $$props, $$invalidate) {\n  var mergedLocale;\n  var actions;\n  var split;\n  var styles;\n  var context;\n  var _$$props$value2 = $$props.value,\n    value = _$$props$value2 === void 0 ? \"\" : _$$props$value2;\n  var _$$props$plugins2 = $$props.plugins,\n    plugins = _$$props$plugins2 === void 0 ? [] : _$$props$plugins2;\n  var _$$props$sanitize2 = $$props.sanitize,\n    sanitize = _$$props$sanitize2 === void 0 ? void 0 : _$$props$sanitize2;\n  var _$$props$remarkRehype2 = $$props.remarkRehype,\n    remarkRehype2 = _$$props$remarkRehype2 === void 0 ? void 0 : _$$props$remarkRehype2;\n  var _$$props$mode = $$props.mode,\n    mode = _$$props$mode === void 0 ? \"auto\" : _$$props$mode;\n  var _$$props$previewDebou = $$props.previewDebounce,\n    previewDebounce = _$$props$previewDebou === void 0 ? 300 : _$$props$previewDebou;\n  var _$$props$placeholder = $$props.placeholder,\n    placeholder = _$$props$placeholder === void 0 ? void 0 : _$$props$placeholder;\n  var _$$props$editorConfig = $$props.editorConfig,\n    editorConfig = _$$props$editorConfig === void 0 ? void 0 : _$$props$editorConfig;\n  var _$$props$locale = $$props.locale,\n    locale = _$$props$locale === void 0 ? void 0 : _$$props$locale;\n  var _$$props$uploadImages = $$props.uploadImages,\n    uploadImages = _$$props$uploadImages === void 0 ? void 0 : _$$props$uploadImages;\n  var _$$props$overridePrev = $$props.overridePreview,\n    overridePreview = _$$props$overridePrev === void 0 ? void 0 : _$$props$overridePrev;\n  var _$$props$maxLength = $$props.maxLength,\n    maxLength = _$$props$maxLength === void 0 ? Infinity : _$$props$maxLength;\n  var dispatch = createEventDispatcher();\n  var root;\n  var editorEl;\n  var previewEl;\n  var containerWidth = Infinity;\n  var codemirror;\n  var editor;\n  var activeTab;\n  var fullscreen2 = false;\n  var sidebar = false;\n  var cbs = [];\n  var keyMap = {};\n  function on() {\n    cbs = plugins.map(function (p) {\n      var _a;\n      return (_a = p.editorEffect) == null ? void 0 : _a.call(p, context);\n    });\n    keyMap = {};\n    actions.leftActions.forEach(function (_ref28) {\n      var handler = _ref28.handler;\n      if ((handler == null ? void 0 : handler.type) === \"action\" && handler.shortcut) {\n        keyMap[handler.shortcut] = function () {\n          handler.click(context);\n        };\n      }\n    });\n    editor.addKeyMap(keyMap);\n  }\n  function off() {\n    cbs.forEach(function (cb) {\n      return cb && cb();\n    });\n    editor == null ? void 0 : editor.removeKeyMap(keyMap);\n  }\n  var debouncedValue = value;\n  var setDebouncedValue = debounce(function (value2) {\n    $$invalidate(16, debouncedValue = value2);\n    overridePreview == null ? void 0 : overridePreview(previewEl, {\n      value: debouncedValue,\n      plugins: plugins,\n      sanitize: sanitize,\n      remarkRehype: remarkRehype2\n    });\n  }, previewDebounce);\n  var syncEnabled = true;\n  var editCalled = false;\n  var previewCalled = false;\n  var editPs;\n  var previewPs;\n  var hast = {\n    type: \"root\",\n    children: []\n  };\n  var vfile;\n  var currentBlockIndex = 0;\n  onMount( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n    var updateBlockPositions, editorScrollHandler, previewScrollHandler, handleImages;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          $$invalidate(30, codemirror = createCodeMirror());\n          $$invalidate(7, editor = codemirror(editorEl, _objectSpread(_objectSpread({\n            value: value,\n            mode: \"yaml-frontmatter\",\n            lineWrapping: true,\n            tabSize: 8,\n            indentUnit: 4,\n            extraKeys: {\n              Enter: \"newlineAndIndentContinueMarkdownList\"\n            }\n          }, editorConfig), {}, {\n            placeholder: placeholder\n          })));\n          editor.addKeyMap({\n            Tab: \"indentMore\",\n            \"Shift-Tab\": \"indentLess\"\n          });\n          editor.on(\"change\", function () {\n            dispatch(\"change\", {\n              value: editor.getValue()\n            });\n          });\n          updateBlockPositions = throttle(function () {\n            editPs = [];\n            previewPs = [];\n            var scrollInfo = editor.getScrollInfo();\n            var body = previewEl.childNodes[0];\n            if (!(body instanceof HTMLElement)) return;\n            var leftNodes = hast.children.filter(function (v) {\n              return v.type === \"element\";\n            });\n            var rightNodes = _toConsumableArray(body.childNodes).filter(function (v) {\n              return v instanceof HTMLElement;\n            });\n            for (var i = 0; i < leftNodes.length; i++) {\n              var leftNode = leftNodes[i];\n              var rightNode = rightNodes[i];\n              if (!leftNode.position) {\n                continue;\n              }\n              var left = editor.heightAtLine(leftNode.position.start.line - 1, \"local\") / (scrollInfo.height - scrollInfo.clientHeight);\n              var right = (rightNode.offsetTop - body.offsetTop) / (previewEl.scrollHeight - previewEl.clientHeight);\n              if (left >= 1 || right >= 1) {\n                break;\n              }\n              editPs.push(left);\n              previewPs.push(right);\n            }\n            editPs.push(1);\n            previewPs.push(1);\n          }, 1e3);\n          editorScrollHandler = function editorScrollHandler() {\n            if (overridePreview) return;\n            if (!syncEnabled) return;\n            if (previewCalled) {\n              previewCalled = false;\n              return;\n            }\n            updateBlockPositions();\n            var info = editor.getScrollInfo();\n            var leftRatio = info.top / (info.height - info.clientHeight);\n            var startIndex = findStartIndex(leftRatio, editPs);\n            var rightRatio = (leftRatio - editPs[startIndex]) * (previewPs[startIndex + 1] - previewPs[startIndex]) / (editPs[startIndex + 1] - editPs[startIndex]) + previewPs[startIndex];\n            previewEl.scrollTo(0, rightRatio * (previewEl.scrollHeight - previewEl.clientHeight));\n            editCalled = true;\n          };\n          previewScrollHandler = function previewScrollHandler() {\n            if (overridePreview) return;\n            updateBlockPositions();\n            $$invalidate(20, currentBlockIndex = findStartIndex(previewEl.scrollTop / (previewEl.scrollHeight - previewEl.offsetHeight), previewPs));\n            if (!syncEnabled) return;\n            if (editCalled) {\n              editCalled = false;\n              return;\n            }\n            var rightRatio = previewEl.scrollTop / (previewEl.scrollHeight - previewEl.clientHeight);\n            var startIndex = findStartIndex(rightRatio, previewPs);\n            var leftRatio = (rightRatio - previewPs[startIndex]) * (editPs[startIndex + 1] - editPs[startIndex]) / (previewPs[startIndex + 1] - previewPs[startIndex]) + editPs[startIndex];\n            if (isNaN(leftRatio)) {\n              return;\n            }\n            var info = editor.getScrollInfo();\n            editor.scrollTo(0, leftRatio * (info.height - info.clientHeight));\n            previewCalled = true;\n          };\n          editor.on(\"scroll\", editorScrollHandler);\n          previewEl.addEventListener(\"scroll\", previewScrollHandler, {\n            passive: true\n          });\n          handleImages = /*#__PURE__*/function () {\n            var _ref30 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, itemList) {\n              var files;\n              return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    if (uploadImages) {\n                      _context2.next = 2;\n                      break;\n                    }\n                    return _context2.abrupt(\"return\");\n                  case 2:\n                    files = Array.from(itemList != null ? itemList : []).map(function (item) {\n                      if (item.type.startsWith(\"image/\")) {\n                        return item.getAsFile();\n                      }\n                    }).filter(function (f) {\n                      return f != null;\n                    });\n                    if (!files.length) {\n                      _context2.next = 7;\n                      break;\n                    }\n                    e.preventDefault();\n                    _context2.next = 7;\n                    return handleImageUpload(context, uploadImages, files);\n                  case 7:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return function handleImages(_x4, _x5) {\n              return _ref30.apply(this, arguments);\n            };\n          }();\n          editor.on(\"drop\", /*#__PURE__*/function () {\n            var _ref31 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_, e) {\n              var _a;\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    handleImages(e, (_a = e.dataTransfer) == null ? void 0 : _a.items);\n                  case 1:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return function (_x6, _x7) {\n              return _ref31.apply(this, arguments);\n            };\n          }());\n          editor.on(\"paste\", /*#__PURE__*/function () {\n            var _ref32 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_, e) {\n              var _a;\n              return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                while (1) switch (_context4.prev = _context4.next) {\n                  case 0:\n                    handleImages(e, (_a = e.clipboardData) == null ? void 0 : _a.items);\n                  case 1:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }, _callee4);\n            }));\n            return function (_x8, _x9) {\n              return _ref32.apply(this, arguments);\n            };\n          }());\n          new ResizeObserver(function (entries) {\n            $$invalidate(29, containerWidth = entries[0].contentRect.width);\n          }).observe(root, {\n            box: \"border-box\"\n            // console.log(containerWidth);\n          });\n        case 13:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  })));\n  onDestroy(off);\n  var key_handler = function key_handler(e) {\n    editor.setOption(\"keyMap\", e.detail);\n    editor.focus();\n  };\n  var tab_handler = function tab_handler(e) {\n    var v = e.detail;\n    if (split) {\n      $$invalidate(8, activeTab = activeTab === v ? false : v);\n    } else {\n      $$invalidate(8, activeTab = v);\n    }\n    if (activeTab === \"write\") {\n      tick().then(function () {\n        editor && editor.focus();\n      });\n    }\n    if (v === \"write\") {\n      tick().then(function () {\n        editor && editor.setSize(null, null);\n      });\n    }\n  };\n  var click_handler = function click_handler(e) {\n    switch (e.detail) {\n      case \"fullscreen\":\n        $$invalidate(15, fullscreen2 = !fullscreen2);\n        break;\n      case \"help\":\n        $$invalidate(9, sidebar = sidebar === \"help\" ? false : \"help\");\n        break;\n      case \"toc\":\n        $$invalidate(9, sidebar = sidebar === \"toc\" ? false : \"toc\");\n        break;\n    }\n  };\n  function div0_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](function () {\n      editorEl = $$value;\n      $$invalidate(13, editorEl);\n    });\n  }\n  var hast_handler = function hast_handler(e) {\n    $$invalidate(18, hast = e.detail.hast);\n    $$invalidate(19, vfile = e.detail.file);\n  };\n  function div1_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](function () {\n      previewEl = $$value;\n      $$invalidate(14, previewEl);\n    });\n  }\n  var click_handler_1 = function click_handler_1() {\n    $$invalidate(9, sidebar = false);\n  };\n  var keydown_handler = function keydown_handler(e) {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      $$invalidate(9, sidebar = false);\n    }\n  };\n  var click_handler_2 = function click_handler_2(e) {\n    var headings = previewEl.querySelectorAll(\"h1,h2,h3,h4,h5,h6\");\n    headings[e.detail].scrollIntoView();\n  };\n  var sync_handler = function sync_handler(e) {\n    $$invalidate(17, syncEnabled = e.detail);\n  };\n  var top_handler = function top_handler() {\n    editor.scrollTo(null, 0);\n    previewEl.scrollTo({\n      top: 0\n    });\n  };\n  function div5_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](function () {\n      root = $$value;\n      $$invalidate(6, root);\n    });\n  }\n  $$self.$$set = function ($$props2) {\n    if (\"value\" in $$props2) $$invalidate(0, value = $$props2.value);\n    if (\"plugins\" in $$props2) $$invalidate(1, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2) $$invalidate(2, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2) $$invalidate(3, remarkRehype2 = $$props2.remarkRehype);\n    if (\"mode\" in $$props2) $$invalidate(23, mode = $$props2.mode);\n    if (\"previewDebounce\" in $$props2) $$invalidate(24, previewDebounce = $$props2.previewDebounce);\n    if (\"placeholder\" in $$props2) $$invalidate(25, placeholder = $$props2.placeholder);\n    if (\"editorConfig\" in $$props2) $$invalidate(26, editorConfig = $$props2.editorConfig);\n    if (\"locale\" in $$props2) $$invalidate(27, locale = $$props2.locale);\n    if (\"uploadImages\" in $$props2) $$invalidate(28, uploadImages = $$props2.uploadImages);\n    if (\"overridePreview\" in $$props2) $$invalidate(4, overridePreview = $$props2.overridePreview);\n    if (\"maxLength\" in $$props2) $$invalidate(5, maxLength = $$props2.maxLength);\n  };\n  $$self.$$.update = function () {\n    if ($$self.$$.dirty[0] & /*locale*/\n    134217728) {\n      $$invalidate(12, mergedLocale = _objectSpread(_objectSpread({}, en), locale));\n    }\n    if ($$self.$$.dirty[0] & /*mergedLocale, plugins, uploadImages*/\n    268439554) {\n      $$invalidate(21, actions = getBuiltinActions(mergedLocale, plugins, uploadImages));\n    }\n    if ($$self.$$.dirty[0] & /*mode, containerWidth*/\n    545259520) {\n      $$invalidate(11, split = mode === \"split\" || mode === \"auto\" && containerWidth >= 800);\n    }\n    if ($$self.$$.dirty[0] & /*split*/\n    2048) {\n      (function (_) {\n        if (split) $$invalidate(8, activeTab = false);\n      })();\n    }\n    if ($$self.$$.dirty[0] & /*split, activeTab, sidebar*/\n    2816) {\n      $$invalidate(22, styles = function () {\n        var edit;\n        var preview2;\n        if (split && activeTab === false) {\n          if (sidebar) {\n            edit = \"width:calc(50% - \".concat(sidebar ? 140 : 0, \"px)\");\n            preview2 = \"width:calc(50% - \".concat(sidebar ? 140 : 0, \"px)\");\n          } else {\n            edit = \"width:50%\";\n            preview2 = \"width:50%\";\n          }\n        } else if (activeTab === \"preview\") {\n          edit = \"display:none\";\n          preview2 = \"width:calc(100% - \".concat(sidebar ? 280 : 0, \"px)\");\n        } else {\n          edit = \"width:calc(100% - \".concat(sidebar ? 280 : 0, \"px)\");\n          preview2 = \"display:none\";\n        }\n        return {\n          edit: edit,\n          preview: preview2\n        };\n      }());\n    }\n    if ($$self.$$.dirty[0] & /*codemirror, editor, root*/\n    1073742016) {\n      $$invalidate(10, context = function () {\n        var context2 = _objectSpread({\n          // @ts-ignore\n          codemirror: codemirror,\n          editor: editor,\n          root: root\n        }, createEditorUtils(codemirror, editor));\n        return context2;\n      }());\n    }\n    if ($$self.$$.dirty[0] & /*value*/\n    1) {\n      setDebouncedValue(value);\n    }\n    if ($$self.$$.dirty[0] & /*editor, value*/\n    129) {\n      if (editor && value !== editor.getValue()) {\n        editor.setValue(value);\n      }\n    }\n    if ($$self.$$.dirty[0] & /*editor, plugins*/\n    130) {\n      if (editor && plugins) {\n        off();\n        tick().then(function () {\n          on();\n        });\n      }\n    }\n  };\n  return [value, plugins, sanitize, remarkRehype2, overridePreview, maxLength, root, editor, activeTab, sidebar, context, split, mergedLocale, editorEl, previewEl, fullscreen2, debouncedValue, syncEnabled, hast, vfile, currentBlockIndex, actions, styles, mode, previewDebounce, placeholder, editorConfig, locale, uploadImages, containerWidth, codemirror, key_handler, tab_handler, click_handler, div0_binding, hast_handler, div1_binding, click_handler_1, keydown_handler, click_handler_2, sync_handler, top_handler, div5_binding];\n}\nvar Editor = /*#__PURE__*/function (_SvelteComponent6) {\n  function Editor(options) {\n    var _this6;\n    _classCallCheck(this, Editor);\n    _this6 = _callSuper(this, Editor);\n    init(_this6, options, instance, create_fragment, not_equal, {\n      value: 0,\n      plugins: 1,\n      sanitize: 2,\n      remarkRehype: 3,\n      mode: 23,\n      previewDebounce: 24,\n      placeholder: 25,\n      editorConfig: 26,\n      locale: 27,\n      uploadImages: 28,\n      overridePreview: 4,\n      maxLength: 5\n    }, null, [-1, -1]);\n    return _this6;\n  }\n  _inherits(Editor, _SvelteComponent6);\n  return _createClass(Editor);\n}(SvelteComponent);\nexport { Editor, Viewer, getProcessor };","map":{"version":3,"names":["factory","usePlaceholder","useContinuelist","useOverlay","useGfm","useMarkdown","useXml","useYamlFrontmatter","useYaml","selectFiles","wordCount","visit","delegate","defaultSchema","rehypeRaw","rehypeSanitize","rehypeStringify","remarkParse","remarkRehype","unified","debounce","throttle","index","noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","_typeof","not_equal","is_empty","obj","keys","length","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","d","element","name","document","createElement","text","data","createTextNode","empty","listen","event","handler","options","addEventListener","removeEventListener","self","call","attr","attribute","value","removeAttribute","getAttribute","setAttribute","children","element2","Array","from","childNodes","set_data","text2","wholeText","toggle_class","toggle","classList","custom_event","type","detail","_ref","arguments","undefined","_ref$bubbles","bubbles","_ref$cancelable","cancelable","e","createEvent","initCustomEvent","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","afterUpdate","after_update","onDestroy","on_destroy","createEventDispatcher","_ref2","_ref2$cancelable","callbacks","slice","defaultPrevented","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","flush_render_callbacks","filtered","targets","c","indexOf","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","detach2","o","create_component","mount_component","customElement","_component$$$","m","new_on_destroy","map","filter","_component$$$$on_dest","apply","_toConsumableArray","destroy_component","make_dirty","fill","init","instance2","create_fragment2","not_equal2","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","hydrate","nodes","l","intro","SvelteComponent","_classCallCheck","_createClass","key","$destroy","$on","index2","splice","$set","$$props","$$set","bold","boldText","cheatsheet","closeHelp","closeToc","code","codeBlock","codeLang","codeText","exitFullscreen","exitPreviewOnly","exitWriteOnly","fullscreen","h1","h2","h3","h4","h5","h6","headingText","help","hr","image","imageAlt","imageTitle","italic","italicText","limited","lines","link","linkText","ol","olItem","preview","previewOnly","quote","quotedText","shortcuts","source","sync","toc","top","ul","ulItem","words","write","writeOnly","en","icons","Close","H","H1","H2","H3","LevelFourTitle","LevelFiveTitle","LevelSixTitle","TextBold","TextItalic","Quote","LinkOne","Pic","Code","CodeBrackets","ListTwo","OrderedList","DividingLine","AlignTextLeftOne","Helpcenter","LeftExpand","RightExpand","OffScreen","FullScreen","GithubOne","createCodeMirror","codemirror","createEditorUtils","editor","wrapText","before","after","range","somethingSelected","listSelections","findWordAt","getCursor","to","getRange","fromBefore","Pos","line","ch","toAfter","replaceRange","setSelection","cursor","replaceLines","replace","_editor$listSelection","_editor$listSelection2","_slicedToArray","selection","lines2","split","join","concat","appendBlock","content","emptyLine","lineCount","getLine","trim","findStartIndex","num","nums","startIndex","Math","max","getShortcutWithPrefix","shift","shiftPrefix","CmdPrefix","navigator","test","platform","handleImageUpload","_x","_x2","_x3","_handleImageUpload","_asyncToGenerator","_regeneratorRuntime","mark","_callee6","_ref3","uploadImages","files","imgs","pos","wrap","_callee6$","_context6","prev","next","sent","_ref33","url","alt","title","focus","stop","getBuiltinActions","locale","plugins","leftActions","icon","actions","level","repeat","click","_ref4","shortcut","_ref5","_ref6","_ref7","_ref8","_callee","fileList","_callee$","_context","accept","multiple","_ref9","_ref10","_ref11","_ref12","rightActions","_ref13","action","position","unshift","get_each_context$2","list","child_ctx","get_each_context_1$1","create_if_block_1$2","li","div0","raw_value","div1","t0_value","t0","div2","code2","t1_value","t1","innerHTML","ctx2","create_each_block_1$1","if_block_anchor","if_block","create_if_block$3","kbd","create_each_block$2","create_fragment$5","div","h20","ul0","h21","ul1","each_value_1","each_blocks_1","each_value","each_blocks","_ref14","_ref15","instance$5","$$self","$$invalidate","items","visible","flatItems","actions2","items2","cheatsheet2","$$props2","Help","_SvelteComponent","_this","_callSuper","_inherits","create_if_block_1$1","span","t_value","t","create_if_block$2","label","input","mounted","dispose","checked","create_fragment$4","span0","strong0","t2","span1","t3_value","t3","t4","strong1","t5","span2","t6_value","t6","if_block0","if_block1","_ref16","_ref17","instance$4","words2","showSync","syncEnabled","islimited","dispatch","change_handler","click_handler","keydown_handler","includes","Status","_SvelteComponent2","_this2","get_each_context$1","create_each_block$1","li_class_value","li_style_value","_ctx","_len","args","_key","new_ctx","create_fragment$3","h22","ul2","_ref18","_ref19","instance$3","hast","currentBlockIndex","minLevel","currentHeadingIndex","stringifyHeading","result","v","tagName","Number","min","Toc","_SvelteComponent3","_this3","get_each_context","get_each_context_1","create_else_block","create_if_block_1","each_1_anchor","create_each_block_1","create_if_block_2","tippyClass","create_if_block$1","tippyClassRight","active","create_each_block","hidden","create_fragment$2","select_block_type","current_block_type","_ref20","_ref21","tippyPathKey","instance$2","tocActive","helpActive","writeActive","previewActive","toolbar","activeTab","fullscreen2","sidebar","rightAfferentActions","getPayloadFromElement","_a","_b","paths","x","parseInt","item","contains","_a2","delegateInstance","init2","onCreate","_ref22","setProps","reference","payload","onHidden","ins","destroy","dropdown","dropdownTitle","subAction","dropdownItem","allowHTML","showOnCreate","theme","placement","interactive","interactiveDebounce","arrow","offset","outerHTML","popper","querySelectorAll","el","actionHandler","mouseenter","mouseleave","handleClick","closest","click_handler_1","keydown_handler_1","div2_binding","$$value","keydown_handler_2","window","open","Toolbar","_SvelteComponent4","_this4","schemaStr","JSON","stringify","getProcessor","_ref23","sanitize","_ref23$remarkRehype","remarkRehypeOptions","processor","use","_ref24","remark","_objectSpread","allowDangerousHtml","schema","parse","attributes","_ref25","rehype","create_fragment$1","_ref26","_ref27","instance$1","html","_$$props$value","_$$props$plugins","_$$props$sanitize","_$$props$remarkRehype","remarkRehype2","markdownBody","cbs","on","viewerEffect","file","off","cb","$","href","startsWith","querySelector","scrollIntoView","dispatchPlugin","tree","file2","div_binding","processSync","err","console","error","Viewer","_SvelteComponent5","_this5","create_if_block","viewer","current","viewer_changes","create_fragment","div5","div4","div0_style_value","div1_style_value","div3","help2","toc2","status","edit","toolbar_changes","help_changes","toc_changes","status_changes","instance","mergedLocale","styles","_$$props$value2","_$$props$plugins2","_$$props$sanitize2","_$$props$remarkRehype2","_$$props$mode","mode","_$$props$previewDebou","previewDebounce","_$$props$placeholder","placeholder","_$$props$editorConfig","editorConfig","_$$props$locale","_$$props$uploadImages","_$$props$overridePrev","overridePreview","_$$props$maxLength","maxLength","Infinity","editorEl","previewEl","containerWidth","keyMap","editorEffect","_ref28","addKeyMap","removeKeyMap","debouncedValue","setDebouncedValue","value2","editCalled","previewCalled","editPs","previewPs","vfile","_callee5","updateBlockPositions","editorScrollHandler","previewScrollHandler","handleImages","_callee5$","_context5","lineWrapping","tabSize","indentUnit","extraKeys","Enter","Tab","getValue","scrollInfo","getScrollInfo","body","HTMLElement","leftNodes","rightNodes","leftNode","rightNode","left","heightAtLine","start","height","clientHeight","right","offsetTop","scrollHeight","info","leftRatio","rightRatio","scrollTo","scrollTop","offsetHeight","isNaN","passive","_ref30","_callee2","itemList","_callee2$","_context2","abrupt","getAsFile","f","preventDefault","_x4","_x5","_ref31","_callee3","_","_callee3$","_context3","dataTransfer","_x6","_x7","_ref32","_callee4","_callee4$","_context4","clipboardData","_x8","_x9","ResizeObserver","entries","contentRect","width","observe","box","key_handler","setOption","tab_handler","setSize","div0_binding","hast_handler","div1_binding","click_handler_2","headings","sync_handler","top_handler","div5_binding","preview2","context2","setValue","Editor","_SvelteComponent6","_this6"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/bytemd/dist/index.mjs"],"sourcesContent":["import factory from \"codemirror-ssr\";\nimport usePlaceholder from \"codemirror-ssr/addon/display/placeholder.js\";\nimport useContinuelist from \"codemirror-ssr/addon/edit/continuelist.js\";\nimport useOverlay from \"codemirror-ssr/addon/mode/overlay.js\";\nimport useGfm from \"codemirror-ssr/mode/gfm/gfm.js\";\nimport useMarkdown from \"codemirror-ssr/mode/markdown/markdown.js\";\nimport useXml from \"codemirror-ssr/mode/xml/xml.js\";\nimport useYamlFrontmatter from \"codemirror-ssr/mode/yaml-frontmatter/yaml-frontmatter.js\";\nimport useYaml from \"codemirror-ssr/mode/yaml/yaml.js\";\nimport selectFiles from \"select-files\";\nimport wordCount from \"word-count\";\nimport { visit } from \"unist-util-visit\";\nimport { delegate } from \"tippy.js\";\nimport { defaultSchema } from \"hast-util-sanitize\";\nimport rehypeRaw from \"rehype-raw\";\nimport rehypeSanitize from \"rehype-sanitize\";\nimport rehypeStringify from \"rehype-stringify\";\nimport remarkParse from \"remark-parse\";\nimport remarkRehype from \"remark-rehype\";\nimport { unified } from \"unified\";\nimport { debounce, throttle } from \"lodash-es\";\nconst index = \"\";\nfunction noop() {\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || (a && typeof a === \"object\" || typeof a === \"function\");\n}\nfunction not_equal(a, b) {\n  return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction append(target, node) {\n  target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n  target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\nfunction destroy_each(iterations, detaching) {\n  for (let i = 0; i < iterations.length; i += 1) {\n    if (iterations[i])\n      iterations[i].d(detaching);\n  }\n}\nfunction element(name) {\n  return document.createElement(name);\n}\nfunction text(data) {\n  return document.createTextNode(data);\n}\nfunction empty() {\n  return text(\"\");\n}\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\nfunction self(fn) {\n  return function(event) {\n    if (event.target === this)\n      fn.call(this, event);\n  };\n}\nfunction attr(node, attribute, value) {\n  if (value == null)\n    node.removeAttribute(attribute);\n  else if (node.getAttribute(attribute) !== value)\n    node.setAttribute(attribute, value);\n}\nfunction children(element2) {\n  return Array.from(element2.childNodes);\n}\nfunction set_data(text2, data) {\n  data = \"\" + data;\n  if (text2.wholeText !== data)\n    text2.data = data;\n}\nfunction toggle_class(element2, name, toggle) {\n  element2.classList[toggle ? \"add\" : \"remove\"](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n  const e = document.createEvent(\"CustomEvent\");\n  e.initCustomEvent(type, bubbles, cancelable, detail);\n  return e;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onMount(fn) {\n  get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n  get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  const component = get_current_component();\n  return (type, detail, { cancelable = false } = {}) => {\n    const callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      const event = custom_event(type, detail, { cancelable });\n      callbacks.slice().forEach((fn) => {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nconst seen_callbacks = /* @__PURE__ */ new Set();\nlet flushidx = 0;\nfunction flush() {\n  if (flushidx !== 0) {\n    return;\n  }\n  const saved_component = current_component;\n  do {\n    try {\n      while (flushidx < dirty_components.length) {\n        const component = dirty_components[flushidx];\n        flushidx++;\n        set_current_component(component);\n        update(component.$$);\n      }\n    } catch (e) {\n      dirty_components.length = 0;\n      flushidx = 0;\n      throw e;\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length)\n      binding_callbacks.pop()();\n    for (let i = 0; i < render_callbacks.length; i += 1) {\n      const callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    const dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nfunction flush_render_callbacks(fns) {\n  const filtered = [];\n  const targets = [];\n  render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n  targets.forEach((c) => c());\n  render_callbacks = filtered;\n}\nconst outroing = /* @__PURE__ */ new Set();\nlet outros;\nfunction group_outros() {\n  outros = {\n    r: 0,\n    c: [],\n    p: outros\n    // parent group\n  };\n}\nfunction check_outros() {\n  if (!outros.r) {\n    run_all(outros.c);\n  }\n  outros = outros.p;\n}\nfunction transition_in(block, local) {\n  if (block && block.i) {\n    outroing.delete(block);\n    block.i(local);\n  }\n}\nfunction transition_out(block, local, detach2, callback) {\n  if (block && block.o) {\n    if (outroing.has(block))\n      return;\n    outroing.add(block);\n    outros.c.push(() => {\n      outroing.delete(block);\n      if (callback) {\n        if (detach2)\n          block.d(1);\n        callback();\n      }\n    });\n    block.o(local);\n  } else if (callback) {\n    callback();\n  }\n}\nfunction create_component(block) {\n  block && block.c();\n}\nfunction mount_component(component, target, anchor, customElement) {\n  const { fragment, after_update } = component.$$;\n  fragment && fragment.m(target, anchor);\n  if (!customElement) {\n    add_render_callback(() => {\n      const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n      if (component.$$.on_destroy) {\n        component.$$.on_destroy.push(...new_on_destroy);\n      } else {\n        run_all(new_on_destroy);\n      }\n      component.$$.on_mount = [];\n    });\n  }\n  after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n  const $$ = component.$$;\n  if ($$.fragment !== null) {\n    flush_render_callbacks($$.after_update);\n    run_all($$.on_destroy);\n    $$.fragment && $$.fragment.d(detaching);\n    $$.on_destroy = $$.fragment = null;\n    $$.ctx = [];\n  }\n}\nfunction make_dirty(component, i) {\n  if (component.$$.dirty[0] === -1) {\n    dirty_components.push(component);\n    schedule_update();\n    component.$$.dirty.fill(0);\n  }\n  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction init(component, options, instance2, create_fragment2, not_equal2, props, append_styles, dirty = [-1]) {\n  const parent_component = current_component;\n  set_current_component(component);\n  const $$ = component.$$ = {\n    fragment: null,\n    ctx: [],\n    // state\n    props,\n    update: noop,\n    not_equal: not_equal2,\n    bound: blank_object(),\n    // lifecycle\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n    // everything else\n    callbacks: blank_object(),\n    dirty,\n    skip_bound: false,\n    root: options.target || parent_component.$$.root\n  };\n  append_styles && append_styles($$.root);\n  let ready = false;\n  $$.ctx = instance2 ? instance2(component, options.props || {}, (i, ret, ...rest) => {\n    const value = rest.length ? rest[0] : ret;\n    if ($$.ctx && not_equal2($$.ctx[i], $$.ctx[i] = value)) {\n      if (!$$.skip_bound && $$.bound[i])\n        $$.bound[i](value);\n      if (ready)\n        make_dirty(component, i);\n    }\n    return ret;\n  }) : [];\n  $$.update();\n  ready = true;\n  run_all($$.before_update);\n  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;\n  if (options.target) {\n    if (options.hydrate) {\n      const nodes = children(options.target);\n      $$.fragment && $$.fragment.l(nodes);\n      nodes.forEach(detach);\n    } else {\n      $$.fragment && $$.fragment.c();\n    }\n    if (options.intro)\n      transition_in(component.$$.fragment);\n    mount_component(component, options.target, options.anchor, options.customElement);\n    flush();\n  }\n  set_current_component(parent_component);\n}\nclass SvelteComponent {\n  $destroy() {\n    destroy_component(this, 1);\n    this.$destroy = noop;\n  }\n  $on(type, callback) {\n    if (!is_function(callback)) {\n      return noop;\n    }\n    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n    callbacks.push(callback);\n    return () => {\n      const index2 = callbacks.indexOf(callback);\n      if (index2 !== -1)\n        callbacks.splice(index2, 1);\n    };\n  }\n  $set($$props) {\n    if (this.$$set && !is_empty($$props)) {\n      this.$$.skip_bound = true;\n      this.$$set($$props);\n      this.$$.skip_bound = false;\n    }\n  }\n}\nconst bold = \"Bold\";\nconst boldText = \"bold text\";\nconst cheatsheet = \"Markdown Cheatsheet\";\nconst closeHelp = \"Close help\";\nconst closeToc = \"Close table of contents\";\nconst code = \"Code\";\nconst codeBlock = \"Code block\";\nconst codeLang = \"lang\";\nconst codeText = \"code\";\nconst exitFullscreen = \"Exit fullscreen\";\nconst exitPreviewOnly = \"Exit preview only\";\nconst exitWriteOnly = \"Exit write only\";\nconst fullscreen = \"Fullscreen\";\nconst h1 = \"Heading 1\";\nconst h2 = \"Heading 2\";\nconst h3 = \"Heading 3\";\nconst h4 = \"Heading 4\";\nconst h5 = \"Heading 5\";\nconst h6 = \"Heading 6\";\nconst headingText = \"heading\";\nconst help = \"Help\";\nconst hr = \"Horizontal rule\";\nconst image = \"Image\";\nconst imageAlt = \"alt\";\nconst imageTitle = \"title\";\nconst italic = \"Italic\";\nconst italicText = \"italic text\";\nconst limited = \"The maximum character limit has been reached\";\nconst lines = \"Lines\";\nconst link = \"Link\";\nconst linkText = \"link text\";\nconst ol = \"Ordered list\";\nconst olItem = \"item\";\nconst preview = \"Preview\";\nconst previewOnly = \"Preview only\";\nconst quote = \"Quote\";\nconst quotedText = \"quoted text\";\nconst shortcuts = \"Shortcuts\";\nconst source = \"Source code\";\nconst sync = \"Scroll sync\";\nconst toc = \"Table of contents\";\nconst top = \"Scroll to top\";\nconst ul = \"Unordered list\";\nconst ulItem = \"item\";\nconst words = \"Words\";\nconst write = \"Write\";\nconst writeOnly = \"Write only\";\nconst en = {\n  bold,\n  boldText,\n  cheatsheet,\n  closeHelp,\n  closeToc,\n  code,\n  codeBlock,\n  codeLang,\n  codeText,\n  exitFullscreen,\n  exitPreviewOnly,\n  exitWriteOnly,\n  fullscreen,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  headingText,\n  help,\n  hr,\n  image,\n  imageAlt,\n  imageTitle,\n  italic,\n  italicText,\n  limited,\n  lines,\n  link,\n  linkText,\n  ol,\n  olItem,\n  preview,\n  previewOnly,\n  quote,\n  quotedText,\n  shortcuts,\n  source,\n  sync,\n  toc,\n  top,\n  ul,\n  ulItem,\n  words,\n  write,\n  writeOnly\n};\nconst icons = {\n  Close: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m8 8 32 32M8 40 40 8\"/></svg>',\n  H: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M12 5v38M36 5v38M12 24h24\"/></svg>',\n  H1: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M25 8v32M6 24h19M34.226 24 39 19.017V40\"/></svg>',\n  H2: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 25c0-3.167 2.667-5 5-5s5 1.833 5 5c0 5.7-10 9.933-10 15h10\"/></svg>',\n  H3: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M32 20h10l-7 9c4 0 7 2 7 6s-3 5-5 5c-2.381 0-4-1-5-2.1\"/></svg>',\n  LevelFourTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M39.977 40V20L31 32.997v2.023h12\"/></svg>',\n  LevelFiveTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16M40 21.01h-8v7.024C32 28 34 27 37 27s4 2.534 4 6.5-1 6.5-5 6.5c-3 0-4-2-4-3.992\"/></svg>',\n  LevelSixTitle: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 8v32M24 8v32M7 24h16\"/><path stroke=\"currentColor\" stroke-width=\"4\" d=\"M36.5 40a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M41.596 24.74C40.778 22.545 38.804 21 36.5 21c-3.038 0-5.5 2.686-5.5 6v7\"/></svg>',\n  TextBold: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 24c5.506 0 9.969-4.477 9.969-10S29.506 4 24 4H11v20h13ZM28.031 44C33.537 44 38 39.523 38 34s-4.463-10-9.969-10H11v20h17.031Z\" clip-rule=\"evenodd\"/></svg>',\n  TextItalic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M20 6h16M12 42h16M29 5.952 19 42\"/></svg>',\n  Quote: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M18.853 9.116C11.323 13.952 7.14 19.58 6.303 26.003 5 36 13.94 40.893 18.47 36.497 23 32.1 20.285 26.52 17.005 24.994c-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.016-7.69 9.116-10.322a.749.749 0 0 0 .114-1.02L20.285 9.3c-.44-.572-.862-.55-1.432-.185ZM38.679 9.116c-7.53 4.836-11.714 10.465-12.55 16.887-1.303 9.997 7.637 14.89 12.167 10.494 4.53-4.397 1.815-9.977-1.466-11.503-3.28-1.525-5.286-.994-4.936-3.033.35-2.038 5.017-7.69 9.117-10.322a.749.749 0 0 0 .113-1.02L40.11 9.3c-.44-.572-.862-.55-1.431-.185Z\" clip-rule=\"evenodd\"/></svg>',\n  LinkOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m26.24 16.373-9.14-9.14c-2.661-2.661-7.035-2.603-9.768.131-2.734 2.734-2.793 7.107-.131 9.768l7.935 7.936M32.903 23.003l7.935 7.935c2.661 2.662 2.603 7.035-.13 9.769-2.735 2.734-7.108 2.792-9.77.13l-9.14-9.14\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26.11 26.142c2.733-2.734 2.792-7.108.13-9.769M21.799 21.798c-2.734 2.734-2.792 7.108-.131 9.769\"/></svg>',\n  Pic: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 10a2 2 0 0 1 2-2h34a2 2 0 0 1 2 2v28a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V10Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M14.5 18a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z\" clip-rule=\"evenodd\"/><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"m15 24 5 4 6-7 17 13v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4l10-10Z\"/></svg>',\n  Code: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 13 4 25.432 16 37M32 13l12 12.432L32 37\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"m28 4-7 40\"/></svg>',\n  CodeBrackets: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M16 4c-2 0-5 1-5 5v9c0 3-5 5-5 5s5 2 5 5v11c0 4 3 5 5 5M32 4c2 0 5 1 5 5v9c0 3 5 5 5 5s-5 2-5 5v11c0 4-3 5-5 5\"/></svg>',\n  ListTwo: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 42a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 14a4 4 0 1 0 0-8 4 4 0 0 0 0 8ZM9 28a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M21 24h22M21 38h22M21 10h22\"/></svg>',\n  OrderedList: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M9 4v9M12 13H6M12 27H6M6 20s3-3 5 0-5 7-5 7M6 34.5s2-3 5-1 0 4.5 0 4.5 3 2.5 0 4.5-5-1-5-1M11 38H9M9 4 6 6M21 24h22M21 38h22M21 10h22\"/></svg>',\n  DividingLine: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M5 24h38M21 38h6M37 38h6M21 10h6M5 38h6M5 10h6M37 10h6\"/></svg>',\n  AlignTextLeftOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M26 24H14M34 15H14M32 33H14\"/></svg>',\n  Helpcenter: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M39 6H9a3 3 0 0 0-3 3v30a3 3 0 0 0 3 3h30a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3Z\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M24 28.625v-4a6 6 0 1 0-6-6\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M24 37.625a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\" clip-rule=\"evenodd\"/></svg>',\n  LeftExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"6\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M42 6v36\"/></svg>',\n  RightExpand: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><rect width=\"28\" height=\"36\" x=\"14\" y=\"6\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" rx=\"2\"/><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M6 6v36\"/></svg>',\n  OffScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6v9h9M15 6v9H6M15 42v-9H6M33 42v-9h8.9\"/></svg>',\n  FullScreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"4\" d=\"M33 6h9v9M42 33v9h-9M15 42H6v-9M6 15V6h9\"/></svg>',\n  GithubOne: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"none\" viewBox=\"0 0 48 48\"><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-width=\"4\" d=\"M29.344 30.477c2.404-.5 4.585-1.366 6.28-2.638C38.52 25.668 40 22.314 40 19c0-2.324-.881-4.494-2.407-6.332-.85-1.024 1.636-8.667-.573-7.638-2.21 1.03-5.45 3.308-7.147 2.805A20.712 20.712 0 0 0 24 7c-1.8 0-3.532.223-5.147.634C16.505 8.232 14.259 6 12 5.03c-2.26-.97-1.026 6.934-1.697 7.765C8.84 14.605 8 16.73 8 19c0 3.314 1.79 6.668 4.686 8.84 1.93 1.446 4.348 2.368 7.054 2.822M19.74 30.662c-1.159 1.275-1.738 2.486-1.738 3.632v8.717M29.345 30.477c1.097 1.44 1.646 2.734 1.646 3.88v8.654M6 31.215c.899.11 1.566.524 2 1.24.652 1.075 3.074 5.063 5.825 5.063h4.177\"/></svg>'\n};\nfunction createCodeMirror() {\n  const codemirror = factory();\n  usePlaceholder(codemirror);\n  useOverlay(codemirror);\n  useXml(codemirror);\n  useMarkdown(codemirror);\n  useGfm(codemirror);\n  useYaml(codemirror);\n  useYamlFrontmatter(codemirror);\n  useContinuelist(codemirror);\n  return codemirror;\n}\nfunction createEditorUtils(codemirror, editor) {\n  return {\n    /**\n     * Wrap text with decorators, for example:\n     *\n     * `text -> *text*`\n     */\n    wrapText(before, after = before) {\n      const range = editor.somethingSelected() ? editor.listSelections()[0] : editor.findWordAt(editor.getCursor());\n      const from = range.from();\n      const to = range.to();\n      const text2 = editor.getRange(from, to);\n      const fromBefore = codemirror.Pos(from.line, from.ch - before.length);\n      const toAfter = codemirror.Pos(to.line, to.ch + after.length);\n      if (editor.getRange(fromBefore, from) === before && editor.getRange(to, toAfter) === after) {\n        editor.replaceRange(text2, fromBefore, toAfter);\n        editor.setSelection(\n          fromBefore,\n          codemirror.Pos(fromBefore.line, fromBefore.ch + text2.length)\n        );\n      } else {\n        editor.replaceRange(before + text2 + after, from, to);\n        const cursor = editor.getCursor();\n        editor.setSelection(\n          codemirror.Pos(cursor.line, cursor.ch - after.length - text2.length),\n          codemirror.Pos(cursor.line, cursor.ch - after.length)\n        );\n      }\n    },\n    /**\n     * replace multiple lines\n     *\n     * `line -> # line`\n     */\n    replaceLines(replace) {\n      const [selection] = editor.listSelections();\n      const range = [\n        codemirror.Pos(selection.from().line, 0),\n        codemirror.Pos(selection.to().line)\n      ];\n      const lines2 = editor.getRange(...range).split(\"\\n\");\n      editor.replaceRange(lines2.map(replace).join(\"\\n\"), ...range);\n      editor.setSelection(...range);\n    },\n    /**\n     * Append a block based on the cursor position\n     */\n    appendBlock(content) {\n      const cursor = editor.getCursor();\n      let emptyLine = -1;\n      for (let i = cursor.line; i < editor.lineCount(); i++) {\n        if (!editor.getLine(i).trim()) {\n          emptyLine = i;\n          break;\n        }\n      }\n      if (emptyLine === -1) {\n        editor.replaceRange(\"\\n\", codemirror.Pos(editor.lineCount()));\n        emptyLine = editor.lineCount();\n      }\n      editor.replaceRange(\"\\n\" + content, codemirror.Pos(emptyLine));\n      return codemirror.Pos(emptyLine + 1, 0);\n    },\n    /**\n     * Triggers a virtual file input and let user select files\n     *\n     * https://www.npmjs.com/package/select-files\n     */\n    selectFiles\n  };\n}\nfunction findStartIndex(num, nums) {\n  let startIndex = nums.length - 2;\n  for (let i = 0; i < nums.length; i++) {\n    if (num < nums[i]) {\n      startIndex = i - 1;\n      break;\n    }\n  }\n  startIndex = Math.max(startIndex, 0);\n  return startIndex;\n}\nconst getShortcutWithPrefix = (key, shift = false) => {\n  const shiftPrefix = shift ? \"Shift-\" : \"\";\n  const CmdPrefix = typeof navigator !== \"undefined\" && /Mac/.test(navigator.platform) ? \"Cmd-\" : \"Ctrl-\";\n  return shiftPrefix + CmdPrefix + key;\n};\nasync function handleImageUpload({ editor, appendBlock, codemirror }, uploadImages, files) {\n  const imgs = await uploadImages(files);\n  const pos = appendBlock(\n    imgs.map(({ url, alt, title }, i) => {\n      alt = alt != null ? alt : files[i].name;\n      return `![${alt}](${url}${title ? ` \"${title}\"` : \"\"})`;\n    }).join(\"\\n\\n\")\n  );\n  editor.setSelection(pos, codemirror.Pos(pos.line + imgs.length * 2 - 2));\n  editor.focus();\n}\nfunction getBuiltinActions(locale, plugins, uploadImages) {\n  const leftActions = [\n    {\n      icon: icons.H,\n      handler: {\n        type: \"dropdown\",\n        actions: [1, 2, 3, 4, 5, 6].map((level) => ({\n          title: locale[`h${level}`],\n          icon: [\n            icons.H1,\n            icons.H2,\n            icons.H3,\n            icons.LevelFourTitle,\n            icons.LevelFiveTitle,\n            icons.LevelSixTitle\n          ][level - 1],\n          cheatsheet: level <= 3 ? `${\"#\".repeat(level)} ${locale.headingText}` : void 0,\n          handler: {\n            type: \"action\",\n            click({ replaceLines, editor }) {\n              replaceLines((line) => {\n                line = line.trim().replace(/^#*/, \"\").trim();\n                line = \"#\".repeat(level) + \" \" + line;\n                return line;\n              });\n              editor.focus();\n            }\n          }\n        }))\n      }\n    },\n    {\n      title: locale.bold,\n      icon: icons.TextBold,\n      cheatsheet: `**${locale.boldText}**`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"B\"),\n        click({ wrapText, editor }) {\n          wrapText(\"**\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.italic,\n      icon: icons.TextItalic,\n      cheatsheet: `*${locale.italicText}*`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"I\"),\n        click({ wrapText, editor }) {\n          wrapText(\"*\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.quote,\n      icon: icons.Quote,\n      cheatsheet: `> ${locale.quotedText}`,\n      handler: {\n        type: \"action\",\n        click({ replaceLines, editor }) {\n          replaceLines((line) => \"> \" + line);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.link,\n      icon: icons.LinkOne,\n      cheatsheet: `[${locale.linkText}](url)`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"K\"),\n        click({ editor, wrapText, codemirror }) {\n          wrapText(\"[\", \"](url)\");\n          const cursor = editor.getCursor();\n          editor.setSelection(\n            codemirror.Pos(cursor.line, cursor.ch + 2),\n            codemirror.Pos(cursor.line, cursor.ch + 5)\n          );\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.image,\n      icon: icons.Pic,\n      cheatsheet: `![${locale.imageAlt}](url \"${locale.imageTitle}\")`,\n      handler: uploadImages ? {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"I\", true),\n        async click(ctx) {\n          const fileList = await selectFiles({\n            accept: \"image/*\",\n            multiple: true\n          });\n          if (fileList == null ? void 0 : fileList.length) {\n            await handleImageUpload(ctx, uploadImages, Array.from(fileList));\n          }\n        }\n      } : void 0\n    },\n    {\n      title: locale.code,\n      icon: icons.Code,\n      cheatsheet: \"`\" + locale.codeText + \"`\",\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"K\", true),\n        click({ wrapText, editor }) {\n          wrapText(\"`\");\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.codeBlock,\n      icon: icons.CodeBrackets,\n      cheatsheet: \"```\" + locale.codeLang + \"â†µ\",\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"C\", true),\n        click({ editor, appendBlock, codemirror }) {\n          const pos = appendBlock(\"```js\\n```\");\n          editor.setSelection(\n            codemirror.Pos(pos.line, 3),\n            codemirror.Pos(pos.line, 5)\n          );\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.ul,\n      icon: icons.ListTwo,\n      cheatsheet: `- ${locale.ulItem}`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"U\", true),\n        click({ replaceLines, editor }) {\n          replaceLines((line) => \"- \" + line);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.ol,\n      icon: icons.OrderedList,\n      cheatsheet: `1. ${locale.olItem}`,\n      handler: {\n        type: \"action\",\n        shortcut: getShortcutWithPrefix(\"O\", true),\n        click({ replaceLines, editor }) {\n          replaceLines((line, i) => `${i + 1}. ${line}`);\n          editor.focus();\n        }\n      }\n    },\n    {\n      title: locale.hr,\n      icon: icons.DividingLine,\n      cheatsheet: \"---\"\n    }\n  ];\n  const rightActions = [];\n  plugins.forEach(({ actions }) => {\n    if (actions) {\n      actions.forEach((action) => {\n        if (!action.position || action.position !== \"right\")\n          leftActions.push(action);\n        else\n          rightActions.unshift(action);\n      });\n    }\n  });\n  return {\n    leftActions,\n    rightActions\n  };\n}\nfunction get_each_context$2(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction get_each_context_1$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[5] = list[i];\n  return child_ctx;\n}\nfunction create_if_block_1$2(ctx) {\n  let li;\n  let div0;\n  let raw_value = (\n    /*action*/\n    ctx[5].icon + \"\"\n  );\n  let div1;\n  let t0_value = (\n    /*action*/\n    ctx[5].title + \"\"\n  );\n  let t0;\n  let div2;\n  let code2;\n  let t1_value = (\n    /*action*/\n    ctx[5].cheatsheet + \"\"\n  );\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      code2 = element(\"code\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, code2);\n      append(code2, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\"))\n        div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].cheatsheet + \"\"))\n        set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n    }\n  };\n}\nfunction create_each_block_1$1(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*action*/\n    ctx[5].cheatsheet && create_if_block_1$2(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*action*/\n        ctx2[5].cheatsheet\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_1$2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$3(ctx) {\n  let li;\n  let div0;\n  let raw_value = (\n    /*action*/\n    ctx[5].icon + \"\"\n  );\n  let div1;\n  let t0_value = (\n    /*action*/\n    ctx[5].title + \"\"\n  );\n  let t0;\n  let div2;\n  let kbd;\n  let t1_value = (\n    /*action*/\n    ctx[5].handler.shortcut + \"\"\n  );\n  let t1;\n  return {\n    c() {\n      li = element(\"li\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      t0 = text(t0_value);\n      div2 = element(\"div\");\n      kbd = element(\"kbd\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-help-icon\");\n      attr(div1, \"class\", \"bytemd-help-title\");\n      attr(div2, \"class\", \"bytemd-help-content\");\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, div0);\n      div0.innerHTML = raw_value;\n      append(li, div1);\n      append(div1, t0);\n      append(li, div2);\n      append(div2, kbd);\n      append(kbd, t1);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*items*/\n      4 && raw_value !== (raw_value = /*action*/\n      ctx2[5].icon + \"\"))\n        div0.innerHTML = raw_value;\n      if (dirty & /*items*/\n      4 && t0_value !== (t0_value = /*action*/\n      ctx2[5].title + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4 && t1_value !== (t1_value = /*action*/\n      ctx2[5].handler.shortcut + \"\"))\n        set_data(t1, t1_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n    }\n  };\n}\nfunction create_each_block$2(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*action*/\n    ctx[5].handler && /*action*/\n    ctx[5].handler.type === \"action\" && /*action*/\n    ctx[5].handler.shortcut && create_if_block$3(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*action*/\n        ctx2[5].handler && /*action*/\n        ctx2[5].handler.type === \"action\" && /*action*/\n        ctx2[5].handler.shortcut\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$3(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$5(ctx) {\n  let div;\n  let h20;\n  let t0_value = (\n    /*locale*/\n    ctx[0].cheatsheet + \"\"\n  );\n  let t0;\n  let ul0;\n  let h21;\n  let t1_value = (\n    /*locale*/\n    ctx[0].shortcuts + \"\"\n  );\n  let t1;\n  let ul1;\n  let each_value_1 = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks_1 = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks_1[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));\n  }\n  let each_value = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h20 = element(\"h2\");\n      t0 = text(t0_value);\n      ul0 = element(\"ul\");\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        each_blocks_1[i].c();\n      }\n      h21 = element(\"h2\");\n      t1 = text(t1_value);\n      ul1 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-help\");\n      toggle_class(div, \"bytemd-hidden\", !/*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h20);\n      append(h20, t0);\n      append(div, ul0);\n      for (let i = 0; i < each_blocks_1.length; i += 1) {\n        if (each_blocks_1[i]) {\n          each_blocks_1[i].m(ul0, null);\n        }\n      }\n      append(div, h21);\n      append(h21, t1);\n      append(div, ul1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul1, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t0_value !== (t0_value = /*locale*/\n      ctx2[0].cheatsheet + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*items*/\n      4) {\n        each_value_1 = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1$1(ctx2, each_value_1, i);\n          if (each_blocks_1[i]) {\n            each_blocks_1[i].p(child_ctx, dirty);\n          } else {\n            each_blocks_1[i] = create_each_block_1$1(child_ctx);\n            each_blocks_1[i].c();\n            each_blocks_1[i].m(ul0, null);\n          }\n        }\n        for (; i < each_blocks_1.length; i += 1) {\n          each_blocks_1[i].d(1);\n        }\n        each_blocks_1.length = each_value_1.length;\n      }\n      if (dirty & /*locale*/\n      1 && t1_value !== (t1_value = /*locale*/\n      ctx2[0].shortcuts + \"\"))\n        set_data(t1, t1_value);\n      if (dirty & /*items*/\n      4) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$2(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$2(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", !/*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      destroy_each(each_blocks_1, detaching);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$5($$self, $$props, $$invalidate) {\n  let items;\n  let { actions } = $$props;\n  let { locale } = $$props;\n  let { visible } = $$props;\n  function flatItems(actions2) {\n    let items2 = [];\n    actions2.forEach((action) => {\n      const { handler, cheatsheet: cheatsheet2 } = action;\n      if ((handler == null ? void 0 : handler.type) === \"dropdown\") {\n        items2.push(...flatItems(handler.actions));\n      }\n      if (cheatsheet2) {\n        items2.push(action);\n      }\n    });\n    return items2;\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"actions\" in $$props2)\n      $$invalidate(3, actions = $$props2.actions);\n    if (\"locale\" in $$props2)\n      $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2)\n      $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*actions*/\n    8) {\n      $$invalidate(2, items = flatItems(actions));\n    }\n  };\n  return [locale, visible, items, actions];\n}\nclass Help extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$5, create_fragment$5, safe_not_equal, { actions: 3, locale: 0, visible: 1 });\n  }\n}\nfunction create_if_block_1$1(ctx) {\n  let span;\n  let t_value = (\n    /*locale*/\n    ctx[2].limited + \"\"\n  );\n  let t;\n  return {\n    c() {\n      span = element(\"span\");\n      t = text(t_value);\n      attr(span, \"class\", \"bytemd-status-error\");\n    },\n    m(target, anchor) {\n      insert(target, span, anchor);\n      append(span, t);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].limited + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(span);\n    }\n  };\n}\nfunction create_if_block$2(ctx) {\n  let label;\n  let input;\n  let t_value = (\n    /*locale*/\n    ctx[2].sync + \"\"\n  );\n  let t;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      label = element(\"label\");\n      input = element(\"input\");\n      t = text(t_value);\n      attr(input, \"type\", \"checkbox\");\n      input.checked = /*syncEnabled*/\n      ctx[1];\n    },\n    m(target, anchor) {\n      insert(target, label, anchor);\n      append(label, input);\n      append(label, t);\n      if (!mounted) {\n        dispose = listen(\n          input,\n          \"change\",\n          /*change_handler*/\n          ctx[8]\n        );\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*syncEnabled*/\n      2) {\n        input.checked = /*syncEnabled*/\n        ctx2[1];\n      }\n      if (dirty & /*locale*/\n      4 && t_value !== (t_value = /*locale*/\n      ctx2[2].sync + \"\"))\n        set_data(t, t_value);\n    },\n    d(detaching) {\n      if (detaching)\n        detach(label);\n      mounted = false;\n      dispose();\n    }\n  };\n}\nfunction create_fragment$4(ctx) {\n  let div2;\n  let div0;\n  let span0;\n  let t0_value = (\n    /*locale*/\n    ctx[2].words + \"\"\n  );\n  let t0;\n  let t1;\n  let strong0;\n  let t2;\n  let span1;\n  let t3_value = (\n    /*locale*/\n    ctx[2].lines + \"\"\n  );\n  let t3;\n  let t4;\n  let strong1;\n  let t5;\n  let div1;\n  let span2;\n  let t6_value = (\n    /*locale*/\n    ctx[2].top + \"\"\n  );\n  let t6;\n  let mounted;\n  let dispose;\n  let if_block0 = (\n    /*islimited*/\n    ctx[3] && create_if_block_1$1(ctx)\n  );\n  let if_block1 = (\n    /*showSync*/\n    ctx[0] && create_if_block$2(ctx)\n  );\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      span0 = element(\"span\");\n      t0 = text(t0_value);\n      t1 = text(\": \");\n      strong0 = element(\"strong\");\n      t2 = text(\n        /*words*/\n        ctx[5]\n      );\n      span1 = element(\"span\");\n      t3 = text(t3_value);\n      t4 = text(\": \");\n      strong1 = element(\"strong\");\n      t5 = text(\n        /*lines*/\n        ctx[4]\n      );\n      if (if_block0)\n        if_block0.c();\n      div1 = element(\"div\");\n      if (if_block1)\n        if_block1.c();\n      span2 = element(\"span\");\n      t6 = text(t6_value);\n      attr(div0, \"class\", \"bytemd-status-left\");\n      attr(div1, \"class\", \"bytemd-status-right\");\n      attr(div2, \"class\", \"bytemd-status\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      append(div0, span0);\n      append(span0, t0);\n      append(span0, t1);\n      append(span0, strong0);\n      append(strong0, t2);\n      append(div0, span1);\n      append(span1, t3);\n      append(span1, t4);\n      append(span1, strong1);\n      append(strong1, t5);\n      if (if_block0)\n        if_block0.m(div0, null);\n      append(div2, div1);\n      if (if_block1)\n        if_block1.m(div1, null);\n      append(div1, span2);\n      append(span2, t6);\n      if (!mounted) {\n        dispose = [\n          listen(\n            span2,\n            \"click\",\n            /*click_handler*/\n            ctx[9]\n          ),\n          listen(span2, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[10]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].words + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*words*/\n      32)\n        set_data(\n          t2,\n          /*words*/\n          ctx2[5]\n        );\n      if (dirty & /*locale*/\n      4 && t3_value !== (t3_value = /*locale*/\n      ctx2[2].lines + \"\"))\n        set_data(t3, t3_value);\n      if (dirty & /*lines*/\n      16)\n        set_data(\n          t5,\n          /*lines*/\n          ctx2[4]\n        );\n      if (\n        /*islimited*/\n        ctx2[3]\n      ) {\n        if (if_block0) {\n          if_block0.p(ctx2, dirty);\n        } else {\n          if_block0 = create_if_block_1$1(ctx2);\n          if_block0.c();\n          if_block0.m(div0, null);\n        }\n      } else if (if_block0) {\n        if_block0.d(1);\n        if_block0 = null;\n      }\n      if (\n        /*showSync*/\n        ctx2[0]\n      ) {\n        if (if_block1) {\n          if_block1.p(ctx2, dirty);\n        } else {\n          if_block1 = create_if_block$2(ctx2);\n          if_block1.c();\n          if_block1.m(div1, span2);\n        }\n      } else if (if_block1) {\n        if_block1.d(1);\n        if_block1 = null;\n      }\n      if (dirty & /*locale*/\n      4 && t6_value !== (t6_value = /*locale*/\n      ctx2[2].top + \"\"))\n        set_data(t6, t6_value);\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div2);\n      if (if_block0)\n        if_block0.d();\n      if (if_block1)\n        if_block1.d();\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance$4($$self, $$props, $$invalidate) {\n  let words2;\n  let lines2;\n  let { showSync } = $$props;\n  let { value } = $$props;\n  let { syncEnabled } = $$props;\n  let { locale } = $$props;\n  let { islimited } = $$props;\n  const dispatch = createEventDispatcher();\n  const change_handler = () => dispatch(\"sync\", !syncEnabled);\n  const click_handler = () => dispatch(\"top\");\n  const keydown_handler = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"top\");\n  $$self.$$set = ($$props2) => {\n    if (\"showSync\" in $$props2)\n      $$invalidate(0, showSync = $$props2.showSync);\n    if (\"value\" in $$props2)\n      $$invalidate(7, value = $$props2.value);\n    if (\"syncEnabled\" in $$props2)\n      $$invalidate(1, syncEnabled = $$props2.syncEnabled);\n    if (\"locale\" in $$props2)\n      $$invalidate(2, locale = $$props2.locale);\n    if (\"islimited\" in $$props2)\n      $$invalidate(3, islimited = $$props2.islimited);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(5, words2 = wordCount(value));\n    }\n    if ($$self.$$.dirty & /*value*/\n    128) {\n      $$invalidate(4, lines2 = value.split(\"\\n\").length);\n    }\n  };\n  return [\n    showSync,\n    syncEnabled,\n    locale,\n    islimited,\n    lines2,\n    words2,\n    dispatch,\n    value,\n    change_handler,\n    click_handler,\n    keydown_handler\n  ];\n}\nclass Status extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$4, create_fragment$4, safe_not_equal, {\n      showSync: 0,\n      value: 7,\n      syncEnabled: 1,\n      locale: 2,\n      islimited: 3\n    });\n  }\n}\nfunction get_each_context$1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[11] = list[i];\n  child_ctx[13] = i;\n  return child_ctx;\n}\nfunction create_each_block$1(ctx) {\n  let li;\n  let t_value = (\n    /*item*/\n    ctx[11].text + \"\"\n  );\n  let t;\n  let li_class_value;\n  let li_style_value;\n  let mounted;\n  let dispose;\n  function click_handler() {\n    return (\n      /*click_handler*/\n      ctx[8](\n        /*index*/\n        ctx[13]\n      )\n    );\n  }\n  function keydown_handler(...args) {\n    return (\n      /*keydown_handler*/\n      ctx[9](\n        /*index*/\n        ctx[13],\n        ...args\n      )\n    );\n  }\n  return {\n    c() {\n      li = element(\"li\");\n      t = text(t_value);\n      attr(li, \"class\", li_class_value = `bytemd-toc-${/*item*/\n      ctx[11].level}`);\n      attr(li, \"style\", li_style_value = `padding-left:${/*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`);\n      toggle_class(\n        li,\n        \"bytemd-toc-active\",\n        /*currentHeadingIndex*/\n        ctx[4] === /*index*/\n        ctx[13]\n      );\n      toggle_class(\n        li,\n        \"bytemd-toc-first\",\n        /*item*/\n        ctx[11].level === /*minLevel*/\n        ctx[3]\n      );\n    },\n    m(target, anchor) {\n      insert(target, li, anchor);\n      append(li, t);\n      if (!mounted) {\n        dispose = [\n          listen(li, \"click\", click_handler),\n          listen(li, \"keydown\", self(keydown_handler))\n        ];\n        mounted = true;\n      }\n    },\n    p(new_ctx, dirty) {\n      ctx = new_ctx;\n      if (dirty & /*items*/\n      4 && t_value !== (t_value = /*item*/\n      ctx[11].text + \"\"))\n        set_data(t, t_value);\n      if (dirty & /*items*/\n      4 && li_class_value !== (li_class_value = `bytemd-toc-${/*item*/\n      ctx[11].level}`)) {\n        attr(li, \"class\", li_class_value);\n      }\n      if (dirty & /*items, minLevel*/\n      12 && li_style_value !== (li_style_value = `padding-left:${/*item*/\n      (ctx[11].level - /*minLevel*/\n      ctx[3]) * 16 + 8}px`)) {\n        attr(li, \"style\", li_style_value);\n      }\n      if (dirty & /*items, currentHeadingIndex*/\n      20) {\n        toggle_class(\n          li,\n          \"bytemd-toc-active\",\n          /*currentHeadingIndex*/\n          ctx[4] === /*index*/\n          ctx[13]\n        );\n      }\n      if (dirty & /*items, items, minLevel*/\n      12) {\n        toggle_class(\n          li,\n          \"bytemd-toc-first\",\n          /*item*/\n          ctx[11].level === /*minLevel*/\n          ctx[3]\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(li);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_fragment$3(ctx) {\n  let div;\n  let h22;\n  let t_value = (\n    /*locale*/\n    ctx[0].toc + \"\"\n  );\n  let t;\n  let ul2;\n  let each_value = (\n    /*items*/\n    ctx[2]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block$1(get_each_context$1(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div = element(\"div\");\n      h22 = element(\"h2\");\n      t = text(t_value);\n      ul2 = element(\"ul\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div, \"class\", \"bytemd-toc\");\n      toggle_class(div, \"bytemd-hidden\", !/*visible*/\n      ctx[1]);\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      append(div, h22);\n      append(h22, t);\n      append(div, ul2);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(ul2, null);\n        }\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*locale*/\n      1 && t_value !== (t_value = /*locale*/\n      ctx2[0].toc + \"\"))\n        set_data(t, t_value);\n      if (dirty & /*items, minLevel, currentHeadingIndex, dispatch*/\n      60) {\n        each_value = /*items*/\n        ctx2[2];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context$1(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block$1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(ul2, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n      if (dirty & /*visible*/\n      2) {\n        toggle_class(div, \"bytemd-hidden\", !/*visible*/\n        ctx2[1]);\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      destroy_each(each_blocks, detaching);\n    }\n  };\n}\nfunction instance$3($$self, $$props, $$invalidate) {\n  let { hast } = $$props;\n  let { currentBlockIndex } = $$props;\n  let { locale } = $$props;\n  let { visible } = $$props;\n  const dispatch = createEventDispatcher();\n  let items;\n  let minLevel = 6;\n  let currentHeadingIndex = 0;\n  function stringifyHeading(e) {\n    let result = \"\";\n    visit(e, (node) => {\n      if (node.type === \"text\") {\n        result += node.value;\n      }\n    });\n    return result;\n  }\n  const click_handler = (index2) => {\n    dispatch(\"click\", index2);\n  };\n  const keydown_handler = (index2, e) => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      dispatch(\"click\", index2);\n    }\n  };\n  $$self.$$set = ($$props2) => {\n    if (\"hast\" in $$props2)\n      $$invalidate(6, hast = $$props2.hast);\n    if (\"currentBlockIndex\" in $$props2)\n      $$invalidate(7, currentBlockIndex = $$props2.currentBlockIndex);\n    if (\"locale\" in $$props2)\n      $$invalidate(0, locale = $$props2.locale);\n    if (\"visible\" in $$props2)\n      $$invalidate(1, visible = $$props2.visible);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*hast, minLevel, items, currentBlockIndex*/\n    204) {\n      (() => {\n        $$invalidate(2, items = []);\n        $$invalidate(4, currentHeadingIndex = 0);\n        hast.children.filter((v) => v.type === \"element\").forEach((node, index2) => {\n          if (node.tagName[0] === \"h\" && !!node.children.length) {\n            const i = Number(node.tagName[1]);\n            $$invalidate(3, minLevel = Math.min(minLevel, i));\n            items.push({ level: i, text: stringifyHeading(node) });\n          }\n          if (currentBlockIndex >= index2) {\n            $$invalidate(4, currentHeadingIndex = items.length - 1);\n          }\n        });\n      })();\n    }\n  };\n  return [\n    locale,\n    visible,\n    items,\n    minLevel,\n    currentHeadingIndex,\n    dispatch,\n    hast,\n    currentBlockIndex,\n    click_handler,\n    keydown_handler\n  ];\n}\nclass Toc extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$3, create_fragment$3, not_equal, {\n      hast: 6,\n      currentBlockIndex: 7,\n      locale: 0,\n      visible: 1\n    });\n  }\n}\nfunction get_each_context(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction get_each_context_1(ctx, list, i) {\n  const child_ctx = ctx.slice();\n  child_ctx[25] = list[i];\n  child_ctx[27] = i;\n  return child_ctx;\n}\nfunction create_else_block(ctx) {\n  let div0;\n  let t0_value = (\n    /*locale*/\n    ctx[2].write + \"\"\n  );\n  let t0;\n  let div1;\n  let t1_value = (\n    /*locale*/\n    ctx[2].preview + \"\"\n  );\n  let t1;\n  let mounted;\n  let dispose;\n  return {\n    c() {\n      div0 = element(\"div\");\n      t0 = text(t0_value);\n      div1 = element(\"div\");\n      t1 = text(t1_value);\n      attr(div0, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(\n        div0,\n        \"bytemd-toolbar-tab-active\",\n        /*activeTab*/\n        ctx[1] !== \"preview\"\n      );\n      attr(div1, \"class\", \"bytemd-toolbar-tab\");\n      toggle_class(\n        div1,\n        \"bytemd-toolbar-tab-active\",\n        /*activeTab*/\n        ctx[1] === \"preview\"\n      );\n    },\n    m(target, anchor) {\n      insert(target, div0, anchor);\n      append(div0, t0);\n      insert(target, div1, anchor);\n      append(div1, t1);\n      if (!mounted) {\n        dispose = [\n          listen(\n            div0,\n            \"click\",\n            /*click_handler*/\n            ctx[16]\n          ),\n          listen(div0, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[17]\n          )),\n          listen(\n            div1,\n            \"click\",\n            /*click_handler_1*/\n            ctx[18]\n          ),\n          listen(div1, \"keydown\", self(\n            /*keydown_handler_1*/\n            ctx[19]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*locale*/\n      4 && t0_value !== (t0_value = /*locale*/\n      ctx2[2].write + \"\"))\n        set_data(t0, t0_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(\n          div0,\n          \"bytemd-toolbar-tab-active\",\n          /*activeTab*/\n          ctx2[1] !== \"preview\"\n        );\n      }\n      if (dirty & /*locale*/\n      4 && t1_value !== (t1_value = /*locale*/\n      ctx2[2].preview + \"\"))\n        set_data(t1, t1_value);\n      if (dirty & /*activeTab*/\n      2) {\n        toggle_class(\n          div1,\n          \"bytemd-toolbar-tab-active\",\n          /*activeTab*/\n          ctx2[1] === \"preview\"\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div0);\n      if (detaching)\n        detach(div1);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction create_if_block_1(ctx) {\n  let each_1_anchor;\n  let each_value_1 = (\n    /*actions*/\n    ctx[3]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value_1.length; i += 1) {\n    each_blocks[i] = create_each_block_1(get_each_context_1(ctx, each_value_1, i));\n  }\n  return {\n    c() {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      each_1_anchor = empty();\n    },\n    m(target, anchor) {\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(target, anchor);\n        }\n      }\n      insert(target, each_1_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*tippyClass, actions*/\n      8) {\n        each_value_1 = /*actions*/\n        ctx2[3];\n        let i;\n        for (i = 0; i < each_value_1.length; i += 1) {\n          const child_ctx = get_each_context_1(ctx2, each_value_1, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block_1(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value_1.length;\n      }\n    },\n    d(detaching) {\n      destroy_each(each_blocks, detaching);\n      if (detaching)\n        detach(each_1_anchor);\n    }\n  };\n}\nfunction create_if_block_2(ctx) {\n  let div;\n  let raw_value = (\n    /*item*/\n    ctx[25].icon + \"\"\n  );\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass].join(\" \"));\n      attr(\n        div,\n        \"bytemd-tippy-path\",\n        /*index*/\n        ctx[27]\n      );\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*actions*/\n      8 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\"))\n        div.innerHTML = raw_value;\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div);\n    }\n  };\n}\nfunction create_each_block_1(ctx) {\n  let if_block_anchor;\n  let if_block = (\n    /*item*/\n    ctx[25].handler && create_if_block_2(ctx)\n  );\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (\n        /*item*/\n        ctx2[25].handler\n      ) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block_2(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_if_block$1(ctx) {\n  let div;\n  let raw_value = (\n    /*item*/\n    ctx[25].icon + \"\"\n  );\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", [\"bytemd-toolbar-icon\", tippyClass, tippyClassRight].join(\" \"));\n      attr(\n        div,\n        \"bytemd-tippy-path\",\n        /*index*/\n        ctx[27]\n      );\n      toggle_class(\n        div,\n        \"bytemd-toolbar-icon-active\",\n        /*item*/\n        ctx[25].active\n      );\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = raw_value;\n    },\n    p(ctx2, dirty) {\n      if (dirty & /*rightActions*/\n      32 && raw_value !== (raw_value = /*item*/\n      ctx2[25].icon + \"\"))\n        div.innerHTML = raw_value;\n      if (dirty & /*rightActions*/\n      32) {\n        toggle_class(\n          div,\n          \"bytemd-toolbar-icon-active\",\n          /*item*/\n          ctx2[25].active\n        );\n      }\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div);\n    }\n  };\n}\nfunction create_each_block(ctx) {\n  let if_block_anchor;\n  let if_block = !/*item*/\n  ctx[25].hidden && create_if_block$1(ctx);\n  return {\n    c() {\n      if (if_block)\n        if_block.c();\n      if_block_anchor = empty();\n    },\n    m(target, anchor) {\n      if (if_block)\n        if_block.m(target, anchor);\n      insert(target, if_block_anchor, anchor);\n    },\n    p(ctx2, dirty) {\n      if (!/*item*/\n      ctx2[25].hidden) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n        } else {\n          if_block = create_if_block$1(ctx2);\n          if_block.c();\n          if_block.m(if_block_anchor.parentNode, if_block_anchor);\n        }\n      } else if (if_block) {\n        if_block.d(1);\n        if_block = null;\n      }\n    },\n    d(detaching) {\n      if (if_block)\n        if_block.d(detaching);\n      if (detaching)\n        detach(if_block_anchor);\n    }\n  };\n}\nfunction create_fragment$2(ctx) {\n  let div2;\n  let div0;\n  let div1;\n  let mounted;\n  let dispose;\n  function select_block_type(ctx2, dirty) {\n    if (\n      /*split*/\n      ctx2[0]\n    )\n      return create_if_block_1;\n    return create_else_block;\n  }\n  let current_block_type = select_block_type(ctx);\n  let if_block = current_block_type(ctx);\n  let each_value = (\n    /*rightActions*/\n    ctx[5]\n  );\n  let each_blocks = [];\n  for (let i = 0; i < each_value.length; i += 1) {\n    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));\n  }\n  return {\n    c() {\n      div2 = element(\"div\");\n      div0 = element(\"div\");\n      if_block.c();\n      div1 = element(\"div\");\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        each_blocks[i].c();\n      }\n      attr(div0, \"class\", \"bytemd-toolbar-left\");\n      attr(div1, \"class\", \"bytemd-toolbar-right\");\n      attr(div2, \"class\", \"bytemd-toolbar\");\n    },\n    m(target, anchor) {\n      insert(target, div2, anchor);\n      append(div2, div0);\n      if_block.m(div0, null);\n      append(div2, div1);\n      for (let i = 0; i < each_blocks.length; i += 1) {\n        if (each_blocks[i]) {\n          each_blocks[i].m(div1, null);\n        }\n      }\n      ctx[20](div2);\n      if (!mounted) {\n        dispose = [\n          listen(\n            div2,\n            \"click\",\n            /*handleClick*/\n            ctx[7]\n          ),\n          listen(div2, \"keydown\", self(\n            /*keydown_handler_2*/\n            ctx[21]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, [dirty]) {\n      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {\n        if_block.p(ctx2, dirty);\n      } else {\n        if_block.d(1);\n        if_block = current_block_type(ctx2);\n        if (if_block) {\n          if_block.c();\n          if_block.m(div0, null);\n        }\n      }\n      if (dirty & /*tippyClass, tippyClassRight, rightActions*/\n      32) {\n        each_value = /*rightActions*/\n        ctx2[5];\n        let i;\n        for (i = 0; i < each_value.length; i += 1) {\n          const child_ctx = get_each_context(ctx2, each_value, i);\n          if (each_blocks[i]) {\n            each_blocks[i].p(child_ctx, dirty);\n          } else {\n            each_blocks[i] = create_each_block(child_ctx);\n            each_blocks[i].c();\n            each_blocks[i].m(div1, null);\n          }\n        }\n        for (; i < each_blocks.length; i += 1) {\n          each_blocks[i].d(1);\n        }\n        each_blocks.length = each_value.length;\n      }\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div2);\n      if_block.d();\n      destroy_each(each_blocks, detaching);\n      ctx[20](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nconst tippyClass = \"bytemd-tippy\";\nconst tippyClassRight = \"bytemd-tippy-right\";\nconst tippyPathKey = \"bytemd-tippy-path\";\nfunction instance$2($$self, $$props, $$invalidate) {\n  let tocActive;\n  let helpActive;\n  let writeActive;\n  let previewActive;\n  let rightActions;\n  const dispatch = createEventDispatcher();\n  let toolbar;\n  let { context } = $$props;\n  let { split } = $$props;\n  let { activeTab } = $$props;\n  let { fullscreen: fullscreen2 } = $$props;\n  let { sidebar } = $$props;\n  let { locale } = $$props;\n  let { actions } = $$props;\n  let { rightAfferentActions } = $$props;\n  function getPayloadFromElement(e) {\n    var _a, _b;\n    const paths = (_b = (_a = e.getAttribute(tippyPathKey)) == null ? void 0 : _a.split(\"-\")) == null ? void 0 : _b.map((x) => parseInt(x, 10));\n    if (!paths)\n      return;\n    let item = {\n      title: \"\",\n      handler: {\n        type: \"dropdown\",\n        actions: e.classList.contains(tippyClassRight) ? rightActions : actions\n      }\n    };\n    paths == null ? void 0 : paths.forEach((index2) => {\n      var _a2;\n      if (((_a2 = item.handler) == null ? void 0 : _a2.type) === \"dropdown\") {\n        item = item.handler.actions[index2];\n      }\n    });\n    return { paths, item };\n  }\n  let delegateInstance;\n  function init2() {\n    delegateInstance = delegate(toolbar, {\n      target: `.${tippyClass}`,\n      onCreate({ setProps, reference }) {\n        const payload = getPayloadFromElement(reference);\n        if (!payload)\n          return;\n        const { item, paths } = payload;\n        const { handler } = item;\n        if (!handler)\n          return;\n        if (handler.type === \"action\") {\n          setProps({\n            content: item.title,\n            onHidden(ins) {\n              ins.destroy();\n            }\n          });\n        } else if (handler.type === \"dropdown\") {\n          const dropdown = document.createElement(\"div\");\n          dropdown.classList.add(\"bytemd-dropdown\");\n          if (item.title) {\n            const dropdownTitle = document.createElement(\"div\");\n            dropdownTitle.classList.add(\"bytemd-dropdown-title\");\n            dropdownTitle.appendChild(document.createTextNode(item.title));\n            dropdown.appendChild(dropdownTitle);\n          }\n          handler.actions.forEach((subAction, i) => {\n            var _a;\n            const dropdownItem = document.createElement(\"div\");\n            dropdownItem.classList.add(\"bytemd-dropdown-item\");\n            dropdownItem.setAttribute(tippyPathKey, [...paths, i].join(\"-\"));\n            if (((_a = subAction.handler) == null ? void 0 : _a.type) === \"dropdown\") {\n              dropdownItem.classList.add(tippyClass);\n            }\n            if (reference.classList.contains(tippyClassRight)) {\n              dropdownItem.classList.add(tippyClassRight);\n            }\n            dropdownItem.innerHTML = `${subAction.icon ? `<div class=\"bytemd-dropdown-item-icon\">${subAction.icon}</div>` : \"\"}<div class=\"bytemd-dropdown-item-title\">${subAction.title}</div>`;\n            dropdown.appendChild(dropdownItem);\n          });\n          setProps({\n            allowHTML: true,\n            showOnCreate: true,\n            theme: \"light-border\",\n            placement: \"bottom-start\",\n            interactive: true,\n            interactiveDebounce: 50,\n            arrow: false,\n            offset: [0, 4],\n            content: dropdown.outerHTML,\n            onHidden(ins) {\n              ins.destroy();\n            },\n            onCreate(ins) {\n              [...ins.popper.querySelectorAll(\".bytemd-dropdown-item\")].forEach((el, i) => {\n                var _a;\n                const actionHandler = (_a = handler.actions[i]) == null ? void 0 : _a.handler;\n                if ((actionHandler == null ? void 0 : actionHandler.type) === \"action\") {\n                  const { mouseenter, mouseleave } = actionHandler;\n                  if (mouseenter) {\n                    el.addEventListener(\"mouseenter\", () => {\n                      mouseenter(context);\n                    });\n                  }\n                  if (mouseleave) {\n                    el.addEventListener(\"mouseleave\", () => {\n                      mouseleave(context);\n                    });\n                  }\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n  onMount(() => {\n    init2();\n  });\n  function handleClick(e) {\n    var _a, _b;\n    const target = e.target.closest(`[${tippyPathKey}]`);\n    if (!target)\n      return;\n    const handler = (_b = (_a = getPayloadFromElement(target)) == null ? void 0 : _a.item) == null ? void 0 : _b.handler;\n    if ((handler == null ? void 0 : handler.type) === \"action\") {\n      handler.click(context);\n    }\n    delegateInstance == null ? void 0 : delegateInstance.destroy();\n    init2();\n  }\n  const click_handler = () => dispatch(\"tab\", \"write\");\n  const keydown_handler = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"write\");\n  const click_handler_1 = () => dispatch(\"tab\", \"preview\");\n  const keydown_handler_1 = (e) => [\"Enter\", \"Space\"].includes(e.code) && dispatch(\"tab\", \"preview\");\n  function div2_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      toolbar = $$value;\n      $$invalidate(4, toolbar);\n    });\n  }\n  const keydown_handler_2 = (e) => [\"Enter\", \"Space\"].includes(e.code) && handleClick(e);\n  $$self.$$set = ($$props2) => {\n    if (\"context\" in $$props2)\n      $$invalidate(8, context = $$props2.context);\n    if (\"split\" in $$props2)\n      $$invalidate(0, split = $$props2.split);\n    if (\"activeTab\" in $$props2)\n      $$invalidate(1, activeTab = $$props2.activeTab);\n    if (\"fullscreen\" in $$props2)\n      $$invalidate(9, fullscreen2 = $$props2.fullscreen);\n    if (\"sidebar\" in $$props2)\n      $$invalidate(10, sidebar = $$props2.sidebar);\n    if (\"locale\" in $$props2)\n      $$invalidate(2, locale = $$props2.locale);\n    if (\"actions\" in $$props2)\n      $$invalidate(3, actions = $$props2.actions);\n    if (\"rightAfferentActions\" in $$props2)\n      $$invalidate(11, rightAfferentActions = $$props2.rightAfferentActions);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(15, tocActive = sidebar === \"toc\");\n    }\n    if ($$self.$$.dirty & /*sidebar*/\n    1024) {\n      $$invalidate(14, helpActive = sidebar === \"help\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(13, writeActive = activeTab === \"write\");\n    }\n    if ($$self.$$.dirty & /*activeTab*/\n    2) {\n      $$invalidate(12, previewActive = activeTab === \"preview\");\n    }\n    if ($$self.$$.dirty & /*tocActive, locale, helpActive, writeActive, split, previewActive, fullscreen, rightAfferentActions*/\n    64005) {\n      $$invalidate(5, rightActions = [\n        {\n          title: tocActive ? locale.closeToc : locale.toc,\n          icon: icons.AlignTextLeftOne,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"toc\");\n            }\n          },\n          active: tocActive\n        },\n        {\n          title: helpActive ? locale.closeHelp : locale.help,\n          icon: icons.Helpcenter,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"help\");\n            }\n          },\n          active: helpActive\n        },\n        {\n          title: writeActive ? locale.exitWriteOnly : locale.writeOnly,\n          icon: icons.LeftExpand,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"tab\", \"write\");\n            }\n          },\n          active: writeActive,\n          hidden: !split\n        },\n        {\n          title: previewActive ? locale.exitPreviewOnly : locale.previewOnly,\n          icon: icons.RightExpand,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"tab\", \"preview\");\n            }\n          },\n          active: previewActive,\n          hidden: !split\n        },\n        {\n          title: fullscreen2 ? locale.exitFullscreen : locale.fullscreen,\n          icon: fullscreen2 ? icons.OffScreen : icons.FullScreen,\n          handler: {\n            type: \"action\",\n            click() {\n              dispatch(\"click\", \"fullscreen\");\n            }\n          }\n        },\n        {\n          title: locale.source,\n          icon: icons.GithubOne,\n          handler: {\n            type: \"action\",\n            click() {\n              window.open(\"https://github.com/bytedance/bytemd\");\n            }\n          }\n        },\n        ...rightAfferentActions\n      ]);\n    }\n  };\n  return [\n    split,\n    activeTab,\n    locale,\n    actions,\n    toolbar,\n    rightActions,\n    dispatch,\n    handleClick,\n    context,\n    fullscreen2,\n    sidebar,\n    rightAfferentActions,\n    previewActive,\n    writeActive,\n    helpActive,\n    tocActive,\n    click_handler,\n    keydown_handler,\n    click_handler_1,\n    keydown_handler_1,\n    div2_binding,\n    keydown_handler_2\n  ];\n}\nclass Toolbar extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$2, create_fragment$2, not_equal, {\n      context: 8,\n      split: 0,\n      activeTab: 1,\n      fullscreen: 9,\n      sidebar: 10,\n      locale: 2,\n      actions: 3,\n      rightAfferentActions: 11\n    });\n  }\n}\nconst schemaStr = JSON.stringify(defaultSchema);\nfunction getProcessor({\n  sanitize,\n  plugins,\n  remarkRehype: remarkRehypeOptions = {}\n}) {\n  let processor = unified().use(remarkParse);\n  plugins == null ? void 0 : plugins.forEach(({ remark }) => {\n    if (remark)\n      processor = remark(processor);\n  });\n  processor = processor.use(remarkRehype, { allowDangerousHtml: true, ...remarkRehypeOptions }).use(rehypeRaw);\n  let schema = JSON.parse(schemaStr);\n  schema.attributes[\"*\"].push(\"className\");\n  if (typeof sanitize === \"function\") {\n    schema = sanitize(schema);\n  }\n  processor = processor.use(rehypeSanitize, schema);\n  plugins == null ? void 0 : plugins.forEach(({ rehype }) => {\n    if (rehype)\n      processor = rehype(processor);\n  });\n  return processor.use(rehypeStringify);\n}\nfunction create_fragment$1(ctx) {\n  let div;\n  return {\n    c() {\n      div = element(\"div\");\n      attr(div, \"class\", \"markdown-body\");\n    },\n    m(target, anchor) {\n      insert(target, div, anchor);\n      div.innerHTML = /*html*/\n      ctx[1];\n      ctx[8](div);\n    },\n    p(ctx2, [dirty]) {\n      if (dirty & /*html*/\n      2)\n        div.innerHTML = /*html*/\n        ctx2[1];\n    },\n    i: noop,\n    o: noop,\n    d(detaching) {\n      if (detaching)\n        detach(div);\n      ctx[8](null);\n    }\n  };\n}\nfunction instance$1($$self, $$props, $$invalidate) {\n  let html;\n  const dispatch = createEventDispatcher();\n  let { value = \"\" } = $$props;\n  let { plugins = [] } = $$props;\n  let { sanitize = void 0 } = $$props;\n  let { remarkRehype: remarkRehype2 = void 0 } = $$props;\n  let markdownBody;\n  let cbs = [];\n  function on() {\n    cbs = plugins.map((p) => {\n      var _a;\n      return (_a = p.viewerEffect) == null ? void 0 : _a.call(p, { markdownBody, file });\n    });\n  }\n  function off() {\n    cbs.forEach((cb) => cb == null ? void 0 : cb());\n  }\n  onMount(() => {\n    markdownBody.addEventListener(\"click\", (e) => {\n      var _a;\n      const $ = e.target;\n      if ($.tagName !== \"A\")\n        return;\n      const href = $.getAttribute(\"href\");\n      if (!(href == null ? void 0 : href.startsWith(\"#\")))\n        return;\n      (_a = markdownBody.querySelector(\"#user-content-\" + href.slice(1))) == null ? void 0 : _a.scrollIntoView();\n    });\n  });\n  onDestroy(off);\n  let file;\n  let i = 0;\n  const dispatchPlugin = () => (tree, file2) => {\n    tick().then(() => {\n      dispatch(\"hast\", { hast: tree, file: file2 });\n    });\n  };\n  afterUpdate(() => {\n    off();\n    on();\n  });\n  function div_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      markdownBody = $$value;\n      $$invalidate(0, markdownBody);\n    });\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"value\" in $$props2)\n      $$invalidate(2, value = $$props2.value);\n    if (\"plugins\" in $$props2)\n      $$invalidate(3, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2)\n      $$invalidate(4, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2)\n      $$invalidate(5, remarkRehype2 = $$props2.remarkRehype);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty & /*sanitize, plugins, remarkRehype, value, i*/\n    188) {\n      try {\n        $$invalidate(6, file = getProcessor({\n          sanitize,\n          plugins: [\n            ...plugins,\n            {\n              // remark: (p) =>\n              //   p.use(() => (tree) =>{\n              //     console.log(tree)\n              //   }),\n              rehype: (processor) => processor.use(dispatchPlugin)\n            }\n          ],\n          remarkRehype: remarkRehype2\n        }).processSync(value));\n        $$invalidate(7, i++, i);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if ($$self.$$.dirty & /*file, i*/\n    192) {\n      $$invalidate(1, html = `${file}<!--${i}-->`);\n    }\n  };\n  return [\n    markdownBody,\n    html,\n    value,\n    plugins,\n    sanitize,\n    remarkRehype2,\n    file,\n    i,\n    div_binding\n  ];\n}\nclass Viewer extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(this, options, instance$1, create_fragment$1, not_equal, {\n      value: 2,\n      plugins: 3,\n      sanitize: 4,\n      remarkRehype: 5\n    });\n  }\n}\nfunction create_if_block(ctx) {\n  let viewer;\n  let current;\n  viewer = new Viewer({\n    props: {\n      value: (\n        /*debouncedValue*/\n        ctx[16]\n      ),\n      plugins: (\n        /*plugins*/\n        ctx[1]\n      ),\n      sanitize: (\n        /*sanitize*/\n        ctx[2]\n      ),\n      remarkRehype: (\n        /*remarkRehype*/\n        ctx[3]\n      )\n    }\n  });\n  viewer.$on(\n    \"hast\",\n    /*hast_handler*/\n    ctx[35]\n  );\n  return {\n    c() {\n      create_component(viewer.$$.fragment);\n    },\n    m(target, anchor) {\n      mount_component(viewer, target, anchor);\n      current = true;\n    },\n    p(ctx2, dirty) {\n      const viewer_changes = {};\n      if (dirty[0] & /*debouncedValue*/\n      65536)\n        viewer_changes.value = /*debouncedValue*/\n        ctx2[16];\n      if (dirty[0] & /*plugins*/\n      2)\n        viewer_changes.plugins = /*plugins*/\n        ctx2[1];\n      if (dirty[0] & /*sanitize*/\n      4)\n        viewer_changes.sanitize = /*sanitize*/\n        ctx2[2];\n      if (dirty[0] & /*remarkRehype*/\n      8)\n        viewer_changes.remarkRehype = /*remarkRehype*/\n        ctx2[3];\n      viewer.$set(viewer_changes);\n    },\n    i(local) {\n      if (current)\n        return;\n      transition_in(viewer.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(viewer.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      destroy_component(viewer, detaching);\n    }\n  };\n}\nfunction create_fragment(ctx) {\n  let div5;\n  let toolbar;\n  let div4;\n  let div0;\n  let div0_style_value;\n  let div1;\n  let div1_style_value;\n  let div3;\n  let div2;\n  let raw_value = icons.Close + \"\";\n  let help2;\n  let toc2;\n  let status;\n  let current;\n  let mounted;\n  let dispose;\n  toolbar = new Toolbar({\n    props: {\n      context: (\n        /*context*/\n        ctx[10]\n      ),\n      split: (\n        /*split*/\n        ctx[11]\n      ),\n      activeTab: (\n        /*activeTab*/\n        ctx[8]\n      ),\n      sidebar: (\n        /*sidebar*/\n        ctx[9]\n      ),\n      fullscreen: (\n        /*fullscreen*/\n        ctx[15]\n      ),\n      rightAfferentActions: (\n        /*actions*/\n        ctx[21].rightActions\n      ),\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      actions: (\n        /*actions*/\n        ctx[21].leftActions\n      )\n    }\n  });\n  toolbar.$on(\n    \"key\",\n    /*key_handler*/\n    ctx[31]\n  );\n  toolbar.$on(\n    \"tab\",\n    /*tab_handler*/\n    ctx[32]\n  );\n  toolbar.$on(\n    \"click\",\n    /*click_handler*/\n    ctx[33]\n  );\n  let if_block = !/*overridePreview*/\n  ctx[4] && /*split*/\n  (ctx[11] || /*activeTab*/\n  ctx[8] === \"preview\") && create_if_block(ctx);\n  help2 = new Help({\n    props: {\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      actions: (\n        /*actions*/\n        ctx[21].leftActions\n      ),\n      visible: (\n        /*sidebar*/\n        ctx[9] === \"help\"\n      )\n    }\n  });\n  toc2 = new Toc({\n    props: {\n      hast: (\n        /*hast*/\n        ctx[18]\n      ),\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      currentBlockIndex: (\n        /*currentBlockIndex*/\n        ctx[20]\n      ),\n      visible: (\n        /*sidebar*/\n        ctx[9] === \"toc\"\n      )\n    }\n  });\n  toc2.$on(\n    \"click\",\n    /*click_handler_2*/\n    ctx[39]\n  );\n  status = new Status({\n    props: {\n      locale: (\n        /*mergedLocale*/\n        ctx[12]\n      ),\n      showSync: !/*overridePreview*/\n      ctx[4] && /*split*/\n      ctx[11],\n      value: (\n        /*debouncedValue*/\n        ctx[16]\n      ),\n      syncEnabled: (\n        /*syncEnabled*/\n        ctx[17]\n      ),\n      islimited: (\n        /*value*/\n        ctx[0].length > /*maxLength*/\n        ctx[5]\n      )\n    }\n  });\n  status.$on(\n    \"sync\",\n    /*sync_handler*/\n    ctx[40]\n  );\n  status.$on(\n    \"top\",\n    /*top_handler*/\n    ctx[41]\n  );\n  return {\n    c() {\n      div5 = element(\"div\");\n      create_component(toolbar.$$.fragment);\n      div4 = element(\"div\");\n      div0 = element(\"div\");\n      div1 = element(\"div\");\n      if (if_block)\n        if_block.c();\n      div3 = element(\"div\");\n      div2 = element(\"div\");\n      create_component(help2.$$.fragment);\n      create_component(toc2.$$.fragment);\n      create_component(status.$$.fragment);\n      attr(div0, \"class\", \"bytemd-editor\");\n      attr(div0, \"style\", div0_style_value = /*styles*/\n      ctx[22].edit);\n      attr(div1, \"class\", \"bytemd-preview\");\n      attr(div1, \"style\", div1_style_value = /*styles*/\n      ctx[22].preview);\n      attr(div2, \"class\", \"bytemd-sidebar-close\");\n      attr(div3, \"class\", \"bytemd-sidebar\");\n      toggle_class(\n        div3,\n        \"bytemd-hidden\",\n        /*sidebar*/\n        ctx[9] === false\n      );\n      attr(div4, \"class\", \"bytemd-body\");\n      attr(div5, \"class\", \"bytemd\");\n      toggle_class(\n        div5,\n        \"bytemd-split\",\n        /*split*/\n        ctx[11] && /*activeTab*/\n        ctx[8] === false\n      );\n      toggle_class(\n        div5,\n        \"bytemd-fullscreen\",\n        /*fullscreen*/\n        ctx[15]\n      );\n    },\n    m(target, anchor) {\n      insert(target, div5, anchor);\n      mount_component(toolbar, div5, null);\n      append(div5, div4);\n      append(div4, div0);\n      ctx[34](div0);\n      append(div4, div1);\n      if (if_block)\n        if_block.m(div1, null);\n      ctx[36](div1);\n      append(div4, div3);\n      append(div3, div2);\n      div2.innerHTML = raw_value;\n      mount_component(help2, div3, null);\n      mount_component(toc2, div3, null);\n      mount_component(status, div5, null);\n      ctx[42](div5);\n      current = true;\n      if (!mounted) {\n        dispose = [\n          listen(\n            div2,\n            \"click\",\n            /*click_handler_1*/\n            ctx[37]\n          ),\n          listen(div2, \"keydown\", self(\n            /*keydown_handler*/\n            ctx[38]\n          ))\n        ];\n        mounted = true;\n      }\n    },\n    p(ctx2, dirty) {\n      const toolbar_changes = {};\n      if (dirty[0] & /*context*/\n      1024)\n        toolbar_changes.context = /*context*/\n        ctx2[10];\n      if (dirty[0] & /*split*/\n      2048)\n        toolbar_changes.split = /*split*/\n        ctx2[11];\n      if (dirty[0] & /*activeTab*/\n      256)\n        toolbar_changes.activeTab = /*activeTab*/\n        ctx2[8];\n      if (dirty[0] & /*sidebar*/\n      512)\n        toolbar_changes.sidebar = /*sidebar*/\n        ctx2[9];\n      if (dirty[0] & /*fullscreen*/\n      32768)\n        toolbar_changes.fullscreen = /*fullscreen*/\n        ctx2[15];\n      if (dirty[0] & /*actions*/\n      2097152)\n        toolbar_changes.rightAfferentActions = /*actions*/\n        ctx2[21].rightActions;\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        toolbar_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152)\n        toolbar_changes.actions = /*actions*/\n        ctx2[21].leftActions;\n      toolbar.$set(toolbar_changes);\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div0_style_value !== (div0_style_value = /*styles*/\n      ctx2[22].edit)) {\n        attr(div0, \"style\", div0_style_value);\n      }\n      if (!/*overridePreview*/\n      ctx2[4] && /*split*/\n      (ctx2[11] || /*activeTab*/\n      ctx2[8] === \"preview\")) {\n        if (if_block) {\n          if_block.p(ctx2, dirty);\n          if (dirty[0] & /*overridePreview, split, activeTab*/\n          2320) {\n            transition_in(if_block, 1);\n          }\n        } else {\n          if_block = create_if_block(ctx2);\n          if_block.c();\n          transition_in(if_block, 1);\n          if_block.m(div1, null);\n        }\n      } else if (if_block) {\n        group_outros();\n        transition_out(if_block, 1, 1, () => {\n          if_block = null;\n        });\n        check_outros();\n      }\n      if (!current || dirty[0] & /*styles*/\n      4194304 && div1_style_value !== (div1_style_value = /*styles*/\n      ctx2[22].preview)) {\n        attr(div1, \"style\", div1_style_value);\n      }\n      const help_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        help_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*actions*/\n      2097152)\n        help_changes.actions = /*actions*/\n        ctx2[21].leftActions;\n      if (dirty[0] & /*sidebar*/\n      512)\n        help_changes.visible = /*sidebar*/\n        ctx2[9] === \"help\";\n      help2.$set(help_changes);\n      const toc_changes = {};\n      if (dirty[0] & /*hast*/\n      262144)\n        toc_changes.hast = /*hast*/\n        ctx2[18];\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        toc_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*currentBlockIndex*/\n      1048576)\n        toc_changes.currentBlockIndex = /*currentBlockIndex*/\n        ctx2[20];\n      if (dirty[0] & /*sidebar*/\n      512)\n        toc_changes.visible = /*sidebar*/\n        ctx2[9] === \"toc\";\n      toc2.$set(toc_changes);\n      if (!current || dirty[0] & /*sidebar*/\n      512) {\n        toggle_class(\n          div3,\n          \"bytemd-hidden\",\n          /*sidebar*/\n          ctx2[9] === false\n        );\n      }\n      const status_changes = {};\n      if (dirty[0] & /*mergedLocale*/\n      4096)\n        status_changes.locale = /*mergedLocale*/\n        ctx2[12];\n      if (dirty[0] & /*overridePreview, split*/\n      2064)\n        status_changes.showSync = !/*overridePreview*/\n        ctx2[4] && /*split*/\n        ctx2[11];\n      if (dirty[0] & /*debouncedValue*/\n      65536)\n        status_changes.value = /*debouncedValue*/\n        ctx2[16];\n      if (dirty[0] & /*syncEnabled*/\n      131072)\n        status_changes.syncEnabled = /*syncEnabled*/\n        ctx2[17];\n      if (dirty[0] & /*value, maxLength*/\n      33)\n        status_changes.islimited = /*value*/\n        ctx2[0].length > /*maxLength*/\n        ctx2[5];\n      status.$set(status_changes);\n      if (!current || dirty[0] & /*split, activeTab*/\n      2304) {\n        toggle_class(\n          div5,\n          \"bytemd-split\",\n          /*split*/\n          ctx2[11] && /*activeTab*/\n          ctx2[8] === false\n        );\n      }\n      if (!current || dirty[0] & /*fullscreen*/\n      32768) {\n        toggle_class(\n          div5,\n          \"bytemd-fullscreen\",\n          /*fullscreen*/\n          ctx2[15]\n        );\n      }\n    },\n    i(local) {\n      if (current)\n        return;\n      transition_in(toolbar.$$.fragment, local);\n      transition_in(if_block);\n      transition_in(help2.$$.fragment, local);\n      transition_in(toc2.$$.fragment, local);\n      transition_in(status.$$.fragment, local);\n      current = true;\n    },\n    o(local) {\n      transition_out(toolbar.$$.fragment, local);\n      transition_out(if_block);\n      transition_out(help2.$$.fragment, local);\n      transition_out(toc2.$$.fragment, local);\n      transition_out(status.$$.fragment, local);\n      current = false;\n    },\n    d(detaching) {\n      if (detaching)\n        detach(div5);\n      destroy_component(toolbar);\n      ctx[34](null);\n      if (if_block)\n        if_block.d();\n      ctx[36](null);\n      destroy_component(help2);\n      destroy_component(toc2);\n      destroy_component(status);\n      ctx[42](null);\n      mounted = false;\n      run_all(dispose);\n    }\n  };\n}\nfunction instance($$self, $$props, $$invalidate) {\n  let mergedLocale;\n  let actions;\n  let split;\n  let styles;\n  let context;\n  let { value = \"\" } = $$props;\n  let { plugins = [] } = $$props;\n  let { sanitize = void 0 } = $$props;\n  let { remarkRehype: remarkRehype2 = void 0 } = $$props;\n  let { mode = \"auto\" } = $$props;\n  let { previewDebounce = 300 } = $$props;\n  let { placeholder = void 0 } = $$props;\n  let { editorConfig = void 0 } = $$props;\n  let { locale = void 0 } = $$props;\n  let { uploadImages = void 0 } = $$props;\n  let { overridePreview = void 0 } = $$props;\n  let { maxLength = Infinity } = $$props;\n  const dispatch = createEventDispatcher();\n  let root;\n  let editorEl;\n  let previewEl;\n  let containerWidth = Infinity;\n  let codemirror;\n  let editor;\n  let activeTab;\n  let fullscreen2 = false;\n  let sidebar = false;\n  let cbs = [];\n  let keyMap = {};\n  function on() {\n    cbs = plugins.map((p) => {\n      var _a;\n      return (_a = p.editorEffect) == null ? void 0 : _a.call(p, context);\n    });\n    keyMap = {};\n    actions.leftActions.forEach(({ handler }) => {\n      if ((handler == null ? void 0 : handler.type) === \"action\" && handler.shortcut) {\n        keyMap[handler.shortcut] = () => {\n          handler.click(context);\n        };\n      }\n    });\n    editor.addKeyMap(keyMap);\n  }\n  function off() {\n    cbs.forEach((cb) => cb && cb());\n    editor == null ? void 0 : editor.removeKeyMap(keyMap);\n  }\n  let debouncedValue = value;\n  const setDebouncedValue = debounce(\n    (value2) => {\n      $$invalidate(16, debouncedValue = value2);\n      overridePreview == null ? void 0 : overridePreview(previewEl, {\n        value: debouncedValue,\n        plugins,\n        sanitize,\n        remarkRehype: remarkRehype2\n      });\n    },\n    previewDebounce\n  );\n  let syncEnabled = true;\n  let editCalled = false;\n  let previewCalled = false;\n  let editPs;\n  let previewPs;\n  let hast = { type: \"root\", children: [] };\n  let vfile;\n  let currentBlockIndex = 0;\n  onMount(async () => {\n    $$invalidate(30, codemirror = createCodeMirror());\n    $$invalidate(7, editor = codemirror(editorEl, {\n      value,\n      mode: \"yaml-frontmatter\",\n      lineWrapping: true,\n      tabSize: 8,\n      indentUnit: 4,\n      extraKeys: {\n        Enter: \"newlineAndIndentContinueMarkdownList\"\n      },\n      ...editorConfig,\n      placeholder\n    }));\n    editor.addKeyMap({\n      Tab: \"indentMore\",\n      \"Shift-Tab\": \"indentLess\"\n    });\n    editor.on(\"change\", () => {\n      dispatch(\"change\", { value: editor.getValue() });\n    });\n    const updateBlockPositions = throttle(\n      () => {\n        editPs = [];\n        previewPs = [];\n        const scrollInfo = editor.getScrollInfo();\n        const body = previewEl.childNodes[0];\n        if (!(body instanceof HTMLElement))\n          return;\n        const leftNodes = hast.children.filter((v) => v.type === \"element\");\n        const rightNodes = [...body.childNodes].filter((v) => v instanceof HTMLElement);\n        for (let i = 0; i < leftNodes.length; i++) {\n          const leftNode = leftNodes[i];\n          const rightNode = rightNodes[i];\n          if (!leftNode.position) {\n            continue;\n          }\n          const left = editor.heightAtLine(leftNode.position.start.line - 1, \"local\") / (scrollInfo.height - scrollInfo.clientHeight);\n          const right = (rightNode.offsetTop - body.offsetTop) / (previewEl.scrollHeight - previewEl.clientHeight);\n          if (left >= 1 || right >= 1) {\n            break;\n          }\n          editPs.push(left);\n          previewPs.push(right);\n        }\n        editPs.push(1);\n        previewPs.push(1);\n      },\n      1e3\n    );\n    const editorScrollHandler = () => {\n      if (overridePreview)\n        return;\n      if (!syncEnabled)\n        return;\n      if (previewCalled) {\n        previewCalled = false;\n        return;\n      }\n      updateBlockPositions();\n      const info = editor.getScrollInfo();\n      const leftRatio = info.top / (info.height - info.clientHeight);\n      const startIndex = findStartIndex(leftRatio, editPs);\n      const rightRatio = (leftRatio - editPs[startIndex]) * (previewPs[startIndex + 1] - previewPs[startIndex]) / (editPs[startIndex + 1] - editPs[startIndex]) + previewPs[startIndex];\n      previewEl.scrollTo(0, rightRatio * (previewEl.scrollHeight - previewEl.clientHeight));\n      editCalled = true;\n    };\n    const previewScrollHandler = () => {\n      if (overridePreview)\n        return;\n      updateBlockPositions();\n      $$invalidate(20, currentBlockIndex = findStartIndex(previewEl.scrollTop / (previewEl.scrollHeight - previewEl.offsetHeight), previewPs));\n      if (!syncEnabled)\n        return;\n      if (editCalled) {\n        editCalled = false;\n        return;\n      }\n      const rightRatio = previewEl.scrollTop / (previewEl.scrollHeight - previewEl.clientHeight);\n      const startIndex = findStartIndex(rightRatio, previewPs);\n      const leftRatio = (rightRatio - previewPs[startIndex]) * (editPs[startIndex + 1] - editPs[startIndex]) / (previewPs[startIndex + 1] - previewPs[startIndex]) + editPs[startIndex];\n      if (isNaN(leftRatio)) {\n        return;\n      }\n      const info = editor.getScrollInfo();\n      editor.scrollTo(0, leftRatio * (info.height - info.clientHeight));\n      previewCalled = true;\n    };\n    editor.on(\"scroll\", editorScrollHandler);\n    previewEl.addEventListener(\"scroll\", previewScrollHandler, { passive: true });\n    const handleImages = async (e, itemList) => {\n      if (!uploadImages)\n        return;\n      const files = Array.from(itemList != null ? itemList : []).map((item) => {\n        if (item.type.startsWith(\"image/\")) {\n          return item.getAsFile();\n        }\n      }).filter((f) => f != null);\n      if (files.length) {\n        e.preventDefault();\n        await handleImageUpload(context, uploadImages, files);\n      }\n    };\n    editor.on(\"drop\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.dataTransfer) == null ? void 0 : _a.items);\n    });\n    editor.on(\"paste\", async (_, e) => {\n      var _a;\n      handleImages(e, (_a = e.clipboardData) == null ? void 0 : _a.items);\n    });\n    new ResizeObserver((entries) => {\n      $$invalidate(29, containerWidth = entries[0].contentRect.width);\n    }).observe(root, {\n      box: \"border-box\"\n      // console.log(containerWidth);\n    });\n  });\n  onDestroy(off);\n  const key_handler = (e) => {\n    editor.setOption(\"keyMap\", e.detail);\n    editor.focus();\n  };\n  const tab_handler = (e) => {\n    const v = e.detail;\n    if (split) {\n      $$invalidate(8, activeTab = activeTab === v ? false : v);\n    } else {\n      $$invalidate(8, activeTab = v);\n    }\n    if (activeTab === \"write\") {\n      tick().then(() => {\n        editor && editor.focus();\n      });\n    }\n    if (v === \"write\") {\n      tick().then(() => {\n        editor && editor.setSize(null, null);\n      });\n    }\n  };\n  const click_handler = (e) => {\n    switch (e.detail) {\n      case \"fullscreen\":\n        $$invalidate(15, fullscreen2 = !fullscreen2);\n        break;\n      case \"help\":\n        $$invalidate(9, sidebar = sidebar === \"help\" ? false : \"help\");\n        break;\n      case \"toc\":\n        $$invalidate(9, sidebar = sidebar === \"toc\" ? false : \"toc\");\n        break;\n    }\n  };\n  function div0_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      editorEl = $$value;\n      $$invalidate(13, editorEl);\n    });\n  }\n  const hast_handler = (e) => {\n    $$invalidate(18, hast = e.detail.hast);\n    $$invalidate(19, vfile = e.detail.file);\n  };\n  function div1_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      previewEl = $$value;\n      $$invalidate(14, previewEl);\n    });\n  }\n  const click_handler_1 = () => {\n    $$invalidate(9, sidebar = false);\n  };\n  const keydown_handler = (e) => {\n    if ([\"Enter\", \"Space\"].includes(e.code)) {\n      $$invalidate(9, sidebar = false);\n    }\n  };\n  const click_handler_2 = (e) => {\n    const headings = previewEl.querySelectorAll(\"h1,h2,h3,h4,h5,h6\");\n    headings[e.detail].scrollIntoView();\n  };\n  const sync_handler = (e) => {\n    $$invalidate(17, syncEnabled = e.detail);\n  };\n  const top_handler = () => {\n    editor.scrollTo(null, 0);\n    previewEl.scrollTo({ top: 0 });\n  };\n  function div5_binding($$value) {\n    binding_callbacks[$$value ? \"unshift\" : \"push\"](() => {\n      root = $$value;\n      $$invalidate(6, root);\n    });\n  }\n  $$self.$$set = ($$props2) => {\n    if (\"value\" in $$props2)\n      $$invalidate(0, value = $$props2.value);\n    if (\"plugins\" in $$props2)\n      $$invalidate(1, plugins = $$props2.plugins);\n    if (\"sanitize\" in $$props2)\n      $$invalidate(2, sanitize = $$props2.sanitize);\n    if (\"remarkRehype\" in $$props2)\n      $$invalidate(3, remarkRehype2 = $$props2.remarkRehype);\n    if (\"mode\" in $$props2)\n      $$invalidate(23, mode = $$props2.mode);\n    if (\"previewDebounce\" in $$props2)\n      $$invalidate(24, previewDebounce = $$props2.previewDebounce);\n    if (\"placeholder\" in $$props2)\n      $$invalidate(25, placeholder = $$props2.placeholder);\n    if (\"editorConfig\" in $$props2)\n      $$invalidate(26, editorConfig = $$props2.editorConfig);\n    if (\"locale\" in $$props2)\n      $$invalidate(27, locale = $$props2.locale);\n    if (\"uploadImages\" in $$props2)\n      $$invalidate(28, uploadImages = $$props2.uploadImages);\n    if (\"overridePreview\" in $$props2)\n      $$invalidate(4, overridePreview = $$props2.overridePreview);\n    if (\"maxLength\" in $$props2)\n      $$invalidate(5, maxLength = $$props2.maxLength);\n  };\n  $$self.$$.update = () => {\n    if ($$self.$$.dirty[0] & /*locale*/\n    134217728) {\n      $$invalidate(12, mergedLocale = { ...en, ...locale });\n    }\n    if ($$self.$$.dirty[0] & /*mergedLocale, plugins, uploadImages*/\n    268439554) {\n      $$invalidate(21, actions = getBuiltinActions(mergedLocale, plugins, uploadImages));\n    }\n    if ($$self.$$.dirty[0] & /*mode, containerWidth*/\n    545259520) {\n      $$invalidate(11, split = mode === \"split\" || mode === \"auto\" && containerWidth >= 800);\n    }\n    if ($$self.$$.dirty[0] & /*split*/\n    2048) {\n      ((_) => {\n        if (split)\n          $$invalidate(8, activeTab = false);\n      })();\n    }\n    if ($$self.$$.dirty[0] & /*split, activeTab, sidebar*/\n    2816) {\n      $$invalidate(22, styles = (() => {\n        let edit;\n        let preview2;\n        if (split && activeTab === false) {\n          if (sidebar) {\n            edit = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n            preview2 = `width:calc(50% - ${sidebar ? 140 : 0}px)`;\n          } else {\n            edit = \"width:50%\";\n            preview2 = \"width:50%\";\n          }\n        } else if (activeTab === \"preview\") {\n          edit = \"display:none\";\n          preview2 = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n        } else {\n          edit = `width:calc(100% - ${sidebar ? 280 : 0}px)`;\n          preview2 = \"display:none\";\n        }\n        return { edit, preview: preview2 };\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*codemirror, editor, root*/\n    1073742016) {\n      $$invalidate(10, context = (() => {\n        const context2 = {\n          // @ts-ignore\n          codemirror,\n          editor,\n          root,\n          // @ts-ignore\n          ...createEditorUtils(codemirror, editor)\n        };\n        return context2;\n      })());\n    }\n    if ($$self.$$.dirty[0] & /*value*/\n    1) {\n      setDebouncedValue(value);\n    }\n    if ($$self.$$.dirty[0] & /*editor, value*/\n    129) {\n      if (editor && value !== editor.getValue()) {\n        editor.setValue(value);\n      }\n    }\n    if ($$self.$$.dirty[0] & /*editor, plugins*/\n    130) {\n      if (editor && plugins) {\n        off();\n        tick().then(() => {\n          on();\n        });\n      }\n    }\n  };\n  return [\n    value,\n    plugins,\n    sanitize,\n    remarkRehype2,\n    overridePreview,\n    maxLength,\n    root,\n    editor,\n    activeTab,\n    sidebar,\n    context,\n    split,\n    mergedLocale,\n    editorEl,\n    previewEl,\n    fullscreen2,\n    debouncedValue,\n    syncEnabled,\n    hast,\n    vfile,\n    currentBlockIndex,\n    actions,\n    styles,\n    mode,\n    previewDebounce,\n    placeholder,\n    editorConfig,\n    locale,\n    uploadImages,\n    containerWidth,\n    codemirror,\n    key_handler,\n    tab_handler,\n    click_handler,\n    div0_binding,\n    hast_handler,\n    div1_binding,\n    click_handler_1,\n    keydown_handler,\n    click_handler_2,\n    sync_handler,\n    top_handler,\n    div5_binding\n  ];\n}\nclass Editor extends SvelteComponent {\n  constructor(options) {\n    super();\n    init(\n      this,\n      options,\n      instance,\n      create_fragment,\n      not_equal,\n      {\n        value: 0,\n        plugins: 1,\n        sanitize: 2,\n        remarkRehype: 3,\n        mode: 23,\n        previewDebounce: 24,\n        placeholder: 25,\n        editorConfig: 26,\n        locale: 27,\n        uploadImages: 28,\n        overridePreview: 4,\n        maxLength: 5\n      },\n      null,\n      [-1, -1]\n    );\n  }\n}\nexport {\n  Editor,\n  Viewer,\n  getProcessor\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}