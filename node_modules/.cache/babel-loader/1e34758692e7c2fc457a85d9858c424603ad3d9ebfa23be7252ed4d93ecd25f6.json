{"ast":null,"code":"import _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { getWindow, h, scheduleAtNextAnimationFrame as _scheduleAtNextAnimationFrame } from '../../../../base/browser/dom.js';\nimport { SmoothScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { findFirstMaxBy } from '../../../../base/common/arraysFind.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, derivedObservableWithCache, derivedWithStore, observableFromEvent, observableValue } from '../../../../base/common/observable.js';\nimport { disposableObservableValue, globalTransaction, transaction } from '../../../../base/common/observableInternal/base.js';\nimport { Scrollable } from '../../../../base/common/scrollable.js';\nimport './style.css';\nimport { ObservableElementSizeObserver } from '../diffEditor/utils.js';\nimport { OffsetRange } from '../../../common/core/offsetRange.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { DiffEditorItemTemplate, TemplateData } from './diffEditorItemTemplate.js';\nimport { ObjectPool } from './objectPool.js';\nvar MultiDiffEditorWidgetImpl = /*#__PURE__*/function (_Disposable) {\n  function MultiDiffEditorWidgetImpl(_element, _dimension, _viewModel, _workbenchUIElementFactory, _parentContextKeyService, _parentInstantiationService) {\n    var _this;\n    _classCallCheck(this, MultiDiffEditorWidgetImpl);\n    _this = _callSuper(this, MultiDiffEditorWidgetImpl);\n    _this._element = _element;\n    _this._dimension = _dimension;\n    _this._viewModel = _viewModel;\n    _this._workbenchUIElementFactory = _workbenchUIElementFactory;\n    _this._parentContextKeyService = _parentContextKeyService;\n    _this._parentInstantiationService = _parentInstantiationService;\n    _this._elements = h('div.monaco-component.multiDiffEditor', [h('div@content', {\n      style: {\n        overflow: 'hidden'\n      }\n    }), h('div.monaco-editor@overflowWidgetsDomNode', {})]);\n    _this._sizeObserver = _this._register(new ObservableElementSizeObserver(_this._element, undefined));\n    _this._objectPool = _this._register(new ObjectPool(function (data) {\n      var template = _this._instantiationService.createInstance(DiffEditorItemTemplate, _this._elements.content, _this._elements.overflowWidgetsDomNode, _this._workbenchUIElementFactory);\n      template.setData(data);\n      return template;\n    }));\n    _this._scrollable = _this._register(new Scrollable({\n      forceIntegerValues: false,\n      scheduleAtNextAnimationFrame: function scheduleAtNextAnimationFrame(cb) {\n        return _scheduleAtNextAnimationFrame(getWindow(_this._element), cb);\n      },\n      smoothScrollDuration: 100\n    }));\n    _this._scrollableElement = _this._register(new SmoothScrollableElement(_this._elements.root, {\n      vertical: 1 /* ScrollbarVisibility.Auto */,\n      horizontal: 1 /* ScrollbarVisibility.Auto */,\n      useShadows: false\n    }, _this._scrollable));\n    _this.scrollTop = observableFromEvent(_this._scrollableElement.onScroll, function () {\n      return /** @description scrollTop */_this._scrollableElement.getScrollPosition().scrollTop;\n    });\n    _this.scrollLeft = observableFromEvent(_this._scrollableElement.onScroll, function () {\n      return /** @description scrollLeft */_this._scrollableElement.getScrollPosition().scrollLeft;\n    });\n    _this._viewItems = derivedWithStore(_this, function (reader, store) {\n      var vm = _this._viewModel.read(reader);\n      if (!vm) {\n        return [];\n      }\n      var items = vm.items.read(reader);\n      return items.map(function (d) {\n        var _a;\n        var item = store.add(new VirtualizedViewItem(d, _this._objectPool, _this.scrollLeft, function (delta) {\n          _this._scrollableElement.setScrollPosition({\n            scrollTop: _this._scrollableElement.getScrollPosition().scrollTop + delta\n          });\n        }));\n        var data = (_a = _this._lastDocStates) === null || _a === void 0 ? void 0 : _a[item.getKey()];\n        if (data) {\n          transaction(function (tx) {\n            item.setViewState(data, tx);\n          });\n        }\n        return item;\n      });\n    });\n    _this._spaceBetweenPx = 0;\n    _this._totalHeight = _this._viewItems.map(_this, function (items, reader) {\n      return items.reduce(function (r, i) {\n        return r + i.contentHeight.read(reader) + _this._spaceBetweenPx;\n      }, 0);\n    });\n    _this.activeDiffItem = derived(_this, function (reader) {\n      return _this._viewItems.read(reader).find(function (i) {\n        var _a;\n        return (_a = i.template.read(reader)) === null || _a === void 0 ? void 0 : _a.isFocused.read(reader);\n      });\n    });\n    _this.lastActiveDiffItem = derivedObservableWithCache(function (reader, lastValue) {\n      var _a;\n      return (_a = _this.activeDiffItem.read(reader)) !== null && _a !== void 0 ? _a : lastValue;\n    });\n    _this._contextKeyService = _this._register(_this._parentContextKeyService.createScoped(_this._element));\n    _this._instantiationService = _this._parentInstantiationService.createChild(new ServiceCollection([IContextKeyService, _this._contextKeyService]));\n    /** This accounts for documents that are not loaded yet. */\n    _this._lastDocStates = {};\n    _this._contextKeyService.createKey(EditorContextKeys.inMultiDiffEditor.key, true);\n    _this._register(autorunWithStore(function (reader, store) {\n      var viewModel = _this._viewModel.read(reader);\n      if (viewModel && viewModel.contextKeys) {\n        var _loop = function _loop() {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n          var contextKey = _this._contextKeyService.createKey(key, undefined);\n          contextKey.set(value);\n          store.add(toDisposable(function () {\n            return contextKey.reset();\n          }));\n        };\n        for (var _i = 0, _Object$entries = Object.entries(viewModel.contextKeys); _i < _Object$entries.length; _i++) {\n          _loop();\n        }\n      }\n    }));\n    var ctxAllCollapsed = _this._parentContextKeyService.createKey(EditorContextKeys.multiDiffEditorAllCollapsed.key, false);\n    _this._register(autorun(function (reader) {\n      var viewModel = _this._viewModel.read(reader);\n      if (viewModel) {\n        var allCollapsed = viewModel.items.read(reader).every(function (item) {\n          return item.collapsed.read(reader);\n        });\n        ctxAllCollapsed.set(allCollapsed);\n      }\n    }));\n    _this._register(autorun(function (reader) {\n      var lastActiveDiffItem = _this.lastActiveDiffItem.read(reader);\n      transaction(function (tx) {\n        var _a;\n        (_a = _this._viewModel.read(reader)) === null || _a === void 0 ? void 0 : _a.activeDiffItem.set(lastActiveDiffItem === null || lastActiveDiffItem === void 0 ? void 0 : lastActiveDiffItem.viewModel, tx);\n      });\n    }));\n    _this._register(autorun(function (reader) {\n      /** @description Update widget dimension */\n      var dimension = _this._dimension.read(reader);\n      _this._sizeObserver.observe(dimension);\n    }));\n    _this._elements.content.style.position = 'relative';\n    _this._register(autorun(function (reader) {\n      /** @description Update scroll dimensions */\n      var height = _this._sizeObserver.height.read(reader);\n      _this._elements.root.style.height = \"\".concat(height, \"px\");\n      var totalHeight = _this._totalHeight.read(reader);\n      _this._elements.content.style.height = \"\".concat(totalHeight, \"px\");\n      var width = _this._sizeObserver.width.read(reader);\n      var scrollWidth = width;\n      var viewItems = _this._viewItems.read(reader);\n      var max = findFirstMaxBy(viewItems, function (i) {\n        return i.maxScroll.read(reader).maxScroll;\n      });\n      if (max) {\n        var maxScroll = max.maxScroll.read(reader);\n        scrollWidth = width + maxScroll.maxScroll;\n      }\n      _this._scrollableElement.setScrollDimensions({\n        width: width,\n        height: height,\n        scrollHeight: totalHeight,\n        scrollWidth: scrollWidth\n      });\n    }));\n    _element.replaceChildren(_this._scrollableElement.getDomNode());\n    _this._register(toDisposable(function () {\n      _element.replaceChildren();\n    }));\n    _this._register(_this._register(autorun(function (reader) {\n      /** @description Render all */\n      globalTransaction(function (tx) {\n        _this.render(reader);\n      });\n    })));\n    return _this;\n  }\n  _inherits(MultiDiffEditorWidgetImpl, _Disposable);\n  return _createClass(MultiDiffEditorWidgetImpl, [{\n    key: \"render\",\n    value: function render(reader) {\n      var scrollTop = this.scrollTop.read(reader);\n      var contentScrollOffsetToScrollOffset = 0;\n      var itemHeightSumBefore = 0;\n      var itemContentHeightSumBefore = 0;\n      var viewPortHeight = this._sizeObserver.height.read(reader);\n      var contentViewPort = OffsetRange.ofStartAndLength(scrollTop, viewPortHeight);\n      var width = this._sizeObserver.width.read(reader);\n      var _iterator = _createForOfIteratorHelper(this._viewItems.read(reader)),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var v = _step.value;\n          var itemContentHeight = v.contentHeight.read(reader);\n          var itemHeight = Math.min(itemContentHeight, viewPortHeight);\n          var itemRange = OffsetRange.ofStartAndLength(itemHeightSumBefore, itemHeight);\n          var itemContentRange = OffsetRange.ofStartAndLength(itemContentHeightSumBefore, itemContentHeight);\n          if (itemContentRange.isBefore(contentViewPort)) {\n            contentScrollOffsetToScrollOffset -= itemContentHeight - itemHeight;\n            v.hide();\n          } else if (itemContentRange.isAfter(contentViewPort)) {\n            v.hide();\n          } else {\n            var scroll = Math.max(0, Math.min(contentViewPort.start - itemContentRange.start, itemContentHeight - itemHeight));\n            contentScrollOffsetToScrollOffset -= scroll;\n            var viewPort = OffsetRange.ofStartAndLength(scrollTop + contentScrollOffsetToScrollOffset, viewPortHeight);\n            v.render(itemRange, scroll, width, viewPort);\n          }\n          itemHeightSumBefore += itemHeight + this._spaceBetweenPx;\n          itemContentHeightSumBefore += itemContentHeight + this._spaceBetweenPx;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this._elements.content.style.transform = \"translateY(\".concat(-(scrollTop + contentScrollOffsetToScrollOffset), \"px)\");\n    }\n  }]);\n}(Disposable);\nMultiDiffEditorWidgetImpl = __decorate([__param(4, IContextKeyService), __param(5, IInstantiationService)], MultiDiffEditorWidgetImpl);\nexport { MultiDiffEditorWidgetImpl };\nvar VirtualizedViewItem = /*#__PURE__*/function (_Disposable2) {\n  function VirtualizedViewItem(viewModel, _objectPool, _scrollLeft, _deltaScrollVertical) {\n    var _this2;\n    _classCallCheck(this, VirtualizedViewItem);\n    _this2 = _callSuper(this, VirtualizedViewItem);\n    _this2.viewModel = viewModel;\n    _this2._objectPool = _objectPool;\n    _this2._scrollLeft = _scrollLeft;\n    _this2._deltaScrollVertical = _deltaScrollVertical;\n    _this2._templateRef = _this2._register(disposableObservableValue(_this2, undefined));\n    _this2.contentHeight = derived(_this2, function (reader) {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = _this2._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.contentHeight) === null || _b === void 0 ? void 0 : _b.read(reader)) !== null && _c !== void 0 ? _c : _this2.viewModel.lastTemplateData.read(reader).contentHeight;\n    });\n    _this2.maxScroll = derived(_this2, function (reader) {\n      var _a, _b;\n      return (_b = (_a = _this2._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.maxScroll.read(reader)) !== null && _b !== void 0 ? _b : {\n        maxScroll: 0,\n        scrollWidth: 0\n      };\n    });\n    _this2.template = derived(_this2, function (reader) {\n      var _a;\n      return (_a = _this2._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object;\n    });\n    _this2._isHidden = observableValue(_this2, false);\n    _this2._register(autorun(function (reader) {\n      var _a;\n      var scrollLeft = _this2._scrollLeft.read(reader);\n      (_a = _this2._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.setScrollLeft(scrollLeft);\n    }));\n    _this2._register(autorun(function (reader) {\n      var ref = _this2._templateRef.read(reader);\n      if (!ref) {\n        return;\n      }\n      var isHidden = _this2._isHidden.read(reader);\n      if (!isHidden) {\n        return;\n      }\n      var isFocused = ref.object.isFocused.read(reader);\n      if (isFocused) {\n        return;\n      }\n      _this2._clear();\n    }));\n    return _this2;\n  }\n  _inherits(VirtualizedViewItem, _Disposable2);\n  return _createClass(VirtualizedViewItem, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._clear();\n      _get(_getPrototypeOf(VirtualizedViewItem.prototype), \"dispose\", this).call(this);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var _a;\n      return \"VirtualViewItem(\".concat((_a = this.viewModel.entry.value.modified) === null || _a === void 0 ? void 0 : _a.uri.toString(), \")\");\n    }\n  }, {\n    key: \"getKey\",\n    value: function getKey() {\n      return this.viewModel.getKey();\n    }\n  }, {\n    key: \"setViewState\",\n    value: function setViewState(viewState, tx) {\n      var _a;\n      this.viewModel.collapsed.set(viewState.collapsed, tx);\n      this._updateTemplateData(tx);\n      var data = this.viewModel.lastTemplateData.get();\n      var selections = (_a = viewState.selections) === null || _a === void 0 ? void 0 : _a.map(Selection.liftSelection);\n      this.viewModel.lastTemplateData.set(_objectSpread(_objectSpread({}, data), {}, {\n        selections: selections\n      }), tx);\n      var ref = this._templateRef.get();\n      if (ref) {\n        if (selections) {\n          ref.object.editor.setSelections(selections);\n        }\n      }\n    }\n  }, {\n    key: \"_updateTemplateData\",\n    value: function _updateTemplateData(tx) {\n      var _a;\n      var ref = this._templateRef.get();\n      if (!ref) {\n        return;\n      }\n      this.viewModel.lastTemplateData.set({\n        contentHeight: ref.object.contentHeight.get(),\n        selections: (_a = ref.object.editor.getSelections()) !== null && _a !== void 0 ? _a : undefined\n      }, tx);\n    }\n  }, {\n    key: \"_clear\",\n    value: function _clear() {\n      var _this3 = this;\n      var ref = this._templateRef.get();\n      if (!ref) {\n        return;\n      }\n      transaction(function (tx) {\n        _this3._updateTemplateData(tx);\n        ref.object.hide();\n        _this3._templateRef.set(undefined, tx);\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._isHidden.set(true, undefined);\n    }\n  }, {\n    key: \"render\",\n    value: function render(verticalSpace, offset, width, viewPort) {\n      this._isHidden.set(false, undefined);\n      var ref = this._templateRef.get();\n      if (!ref) {\n        ref = this._objectPool.getUnusedObj(new TemplateData(this.viewModel, this._deltaScrollVertical));\n        this._templateRef.set(ref, undefined);\n        var selections = this.viewModel.lastTemplateData.get().selections;\n        if (selections) {\n          ref.object.editor.setSelections(selections);\n        }\n      }\n      ref.object.render(verticalSpace, width, offset, viewPort);\n    }\n  }]);\n}(Disposable);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","getWindow","h","scheduleAtNextAnimationFrame","SmoothScrollableElement","findFirstMaxBy","Disposable","toDisposable","autorun","autorunWithStore","derived","derivedObservableWithCache","derivedWithStore","observableFromEvent","observableValue","disposableObservableValue","globalTransaction","transaction","Scrollable","ObservableElementSizeObserver","OffsetRange","Selection","EditorContextKeys","IContextKeyService","IInstantiationService","ServiceCollection","DiffEditorItemTemplate","TemplateData","ObjectPool","MultiDiffEditorWidgetImpl","_Disposable","_element","_dimension","_viewModel","_workbenchUIElementFactory","_parentContextKeyService","_parentInstantiationService","_this","_classCallCheck","_callSuper","_elements","style","overflow","_sizeObserver","_register","undefined","_objectPool","data","template","_instantiationService","createInstance","content","overflowWidgetsDomNode","setData","_scrollable","forceIntegerValues","cb","smoothScrollDuration","_scrollableElement","root","vertical","horizontal","useShadows","scrollTop","onScroll","getScrollPosition","scrollLeft","_viewItems","reader","store","vm","read","items","map","_a","item","add","VirtualizedViewItem","delta","setScrollPosition","_lastDocStates","getKey","tx","setViewState","_spaceBetweenPx","_totalHeight","reduce","contentHeight","activeDiffItem","find","isFocused","lastActiveDiffItem","lastValue","_contextKeyService","createScoped","createChild","createKey","inMultiDiffEditor","viewModel","contextKeys","_loop","_Object$entries$_i","_slicedToArray","_Object$entries","_i","value","contextKey","set","reset","entries","ctxAllCollapsed","multiDiffEditorAllCollapsed","allCollapsed","every","collapsed","dimension","observe","position","height","concat","totalHeight","width","scrollWidth","viewItems","max","maxScroll","setScrollDimensions","scrollHeight","replaceChildren","getDomNode","render","_inherits","_createClass","contentScrollOffsetToScrollOffset","itemHeightSumBefore","itemContentHeightSumBefore","viewPortHeight","contentViewPort","ofStartAndLength","_iterator","_createForOfIteratorHelper","_step","s","n","done","v","itemContentHeight","itemHeight","Math","min","itemRange","itemContentRange","isBefore","hide","isAfter","scroll","start","viewPort","err","e","f","transform","_Disposable2","_scrollLeft","_deltaScrollVertical","_this2","_templateRef","_b","_c","object","lastTemplateData","_isHidden","setScrollLeft","ref","isHidden","_clear","dispose","_get","_getPrototypeOf","prototype","call","toString","entry","modified","uri","viewState","_updateTemplateData","get","selections","liftSelection","_objectSpread","editor","setSelections","getSelections","_this3","verticalSpace","offset","getUnusedObj"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { getWindow, h, scheduleAtNextAnimationFrame } from '../../../../base/browser/dom.js';\nimport { SmoothScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { findFirstMaxBy } from '../../../../base/common/arraysFind.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, derivedObservableWithCache, derivedWithStore, observableFromEvent, observableValue } from '../../../../base/common/observable.js';\nimport { disposableObservableValue, globalTransaction, transaction } from '../../../../base/common/observableInternal/base.js';\nimport { Scrollable } from '../../../../base/common/scrollable.js';\nimport './style.css';\nimport { ObservableElementSizeObserver } from '../diffEditor/utils.js';\nimport { OffsetRange } from '../../../common/core/offsetRange.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { DiffEditorItemTemplate, TemplateData } from './diffEditorItemTemplate.js';\nimport { ObjectPool } from './objectPool.js';\nlet MultiDiffEditorWidgetImpl = class MultiDiffEditorWidgetImpl extends Disposable {\n    constructor(_element, _dimension, _viewModel, _workbenchUIElementFactory, _parentContextKeyService, _parentInstantiationService) {\n        super();\n        this._element = _element;\n        this._dimension = _dimension;\n        this._viewModel = _viewModel;\n        this._workbenchUIElementFactory = _workbenchUIElementFactory;\n        this._parentContextKeyService = _parentContextKeyService;\n        this._parentInstantiationService = _parentInstantiationService;\n        this._elements = h('div.monaco-component.multiDiffEditor', [\n            h('div@content', {\n                style: {\n                    overflow: 'hidden',\n                }\n            }),\n            h('div.monaco-editor@overflowWidgetsDomNode', {}),\n        ]);\n        this._sizeObserver = this._register(new ObservableElementSizeObserver(this._element, undefined));\n        this._objectPool = this._register(new ObjectPool((data) => {\n            const template = this._instantiationService.createInstance(DiffEditorItemTemplate, this._elements.content, this._elements.overflowWidgetsDomNode, this._workbenchUIElementFactory);\n            template.setData(data);\n            return template;\n        }));\n        this._scrollable = this._register(new Scrollable({\n            forceIntegerValues: false,\n            scheduleAtNextAnimationFrame: (cb) => scheduleAtNextAnimationFrame(getWindow(this._element), cb),\n            smoothScrollDuration: 100,\n        }));\n        this._scrollableElement = this._register(new SmoothScrollableElement(this._elements.root, {\n            vertical: 1 /* ScrollbarVisibility.Auto */,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            useShadows: false,\n        }, this._scrollable));\n        this.scrollTop = observableFromEvent(this._scrollableElement.onScroll, () => /** @description scrollTop */ this._scrollableElement.getScrollPosition().scrollTop);\n        this.scrollLeft = observableFromEvent(this._scrollableElement.onScroll, () => /** @description scrollLeft */ this._scrollableElement.getScrollPosition().scrollLeft);\n        this._viewItems = derivedWithStore(this, (reader, store) => {\n            const vm = this._viewModel.read(reader);\n            if (!vm) {\n                return [];\n            }\n            const items = vm.items.read(reader);\n            return items.map(d => {\n                var _a;\n                const item = store.add(new VirtualizedViewItem(d, this._objectPool, this.scrollLeft, delta => {\n                    this._scrollableElement.setScrollPosition({ scrollTop: this._scrollableElement.getScrollPosition().scrollTop + delta });\n                }));\n                const data = (_a = this._lastDocStates) === null || _a === void 0 ? void 0 : _a[item.getKey()];\n                if (data) {\n                    transaction(tx => {\n                        item.setViewState(data, tx);\n                    });\n                }\n                return item;\n            });\n        });\n        this._spaceBetweenPx = 0;\n        this._totalHeight = this._viewItems.map(this, (items, reader) => items.reduce((r, i) => r + i.contentHeight.read(reader) + this._spaceBetweenPx, 0));\n        this.activeDiffItem = derived(this, reader => this._viewItems.read(reader).find(i => { var _a; return (_a = i.template.read(reader)) === null || _a === void 0 ? void 0 : _a.isFocused.read(reader); }));\n        this.lastActiveDiffItem = derivedObservableWithCache((reader, lastValue) => { var _a; return (_a = this.activeDiffItem.read(reader)) !== null && _a !== void 0 ? _a : lastValue; });\n        this._contextKeyService = this._register(this._parentContextKeyService.createScoped(this._element));\n        this._instantiationService = this._parentInstantiationService.createChild(new ServiceCollection([IContextKeyService, this._contextKeyService]));\n        /** This accounts for documents that are not loaded yet. */\n        this._lastDocStates = {};\n        this._contextKeyService.createKey(EditorContextKeys.inMultiDiffEditor.key, true);\n        this._register(autorunWithStore((reader, store) => {\n            const viewModel = this._viewModel.read(reader);\n            if (viewModel && viewModel.contextKeys) {\n                for (const [key, value] of Object.entries(viewModel.contextKeys)) {\n                    const contextKey = this._contextKeyService.createKey(key, undefined);\n                    contextKey.set(value);\n                    store.add(toDisposable(() => contextKey.reset()));\n                }\n            }\n        }));\n        const ctxAllCollapsed = this._parentContextKeyService.createKey(EditorContextKeys.multiDiffEditorAllCollapsed.key, false);\n        this._register(autorun((reader) => {\n            const viewModel = this._viewModel.read(reader);\n            if (viewModel) {\n                const allCollapsed = viewModel.items.read(reader).every(item => item.collapsed.read(reader));\n                ctxAllCollapsed.set(allCollapsed);\n            }\n        }));\n        this._register(autorun((reader) => {\n            const lastActiveDiffItem = this.lastActiveDiffItem.read(reader);\n            transaction(tx => {\n                var _a;\n                (_a = this._viewModel.read(reader)) === null || _a === void 0 ? void 0 : _a.activeDiffItem.set(lastActiveDiffItem === null || lastActiveDiffItem === void 0 ? void 0 : lastActiveDiffItem.viewModel, tx);\n            });\n        }));\n        this._register(autorun((reader) => {\n            /** @description Update widget dimension */\n            const dimension = this._dimension.read(reader);\n            this._sizeObserver.observe(dimension);\n        }));\n        this._elements.content.style.position = 'relative';\n        this._register(autorun((reader) => {\n            /** @description Update scroll dimensions */\n            const height = this._sizeObserver.height.read(reader);\n            this._elements.root.style.height = `${height}px`;\n            const totalHeight = this._totalHeight.read(reader);\n            this._elements.content.style.height = `${totalHeight}px`;\n            const width = this._sizeObserver.width.read(reader);\n            let scrollWidth = width;\n            const viewItems = this._viewItems.read(reader);\n            const max = findFirstMaxBy(viewItems, i => i.maxScroll.read(reader).maxScroll);\n            if (max) {\n                const maxScroll = max.maxScroll.read(reader);\n                scrollWidth = width + maxScroll.maxScroll;\n            }\n            this._scrollableElement.setScrollDimensions({\n                width: width,\n                height: height,\n                scrollHeight: totalHeight,\n                scrollWidth,\n            });\n        }));\n        _element.replaceChildren(this._scrollableElement.getDomNode());\n        this._register(toDisposable(() => {\n            _element.replaceChildren();\n        }));\n        this._register(this._register(autorun(reader => {\n            /** @description Render all */\n            globalTransaction(tx => {\n                this.render(reader);\n            });\n        })));\n    }\n    render(reader) {\n        const scrollTop = this.scrollTop.read(reader);\n        let contentScrollOffsetToScrollOffset = 0;\n        let itemHeightSumBefore = 0;\n        let itemContentHeightSumBefore = 0;\n        const viewPortHeight = this._sizeObserver.height.read(reader);\n        const contentViewPort = OffsetRange.ofStartAndLength(scrollTop, viewPortHeight);\n        const width = this._sizeObserver.width.read(reader);\n        for (const v of this._viewItems.read(reader)) {\n            const itemContentHeight = v.contentHeight.read(reader);\n            const itemHeight = Math.min(itemContentHeight, viewPortHeight);\n            const itemRange = OffsetRange.ofStartAndLength(itemHeightSumBefore, itemHeight);\n            const itemContentRange = OffsetRange.ofStartAndLength(itemContentHeightSumBefore, itemContentHeight);\n            if (itemContentRange.isBefore(contentViewPort)) {\n                contentScrollOffsetToScrollOffset -= itemContentHeight - itemHeight;\n                v.hide();\n            }\n            else if (itemContentRange.isAfter(contentViewPort)) {\n                v.hide();\n            }\n            else {\n                const scroll = Math.max(0, Math.min(contentViewPort.start - itemContentRange.start, itemContentHeight - itemHeight));\n                contentScrollOffsetToScrollOffset -= scroll;\n                const viewPort = OffsetRange.ofStartAndLength(scrollTop + contentScrollOffsetToScrollOffset, viewPortHeight);\n                v.render(itemRange, scroll, width, viewPort);\n            }\n            itemHeightSumBefore += itemHeight + this._spaceBetweenPx;\n            itemContentHeightSumBefore += itemContentHeight + this._spaceBetweenPx;\n        }\n        this._elements.content.style.transform = `translateY(${-(scrollTop + contentScrollOffsetToScrollOffset)}px)`;\n    }\n};\nMultiDiffEditorWidgetImpl = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IInstantiationService)\n], MultiDiffEditorWidgetImpl);\nexport { MultiDiffEditorWidgetImpl };\nclass VirtualizedViewItem extends Disposable {\n    constructor(viewModel, _objectPool, _scrollLeft, _deltaScrollVertical) {\n        super();\n        this.viewModel = viewModel;\n        this._objectPool = _objectPool;\n        this._scrollLeft = _scrollLeft;\n        this._deltaScrollVertical = _deltaScrollVertical;\n        this._templateRef = this._register(disposableObservableValue(this, undefined));\n        this.contentHeight = derived(this, reader => { var _a, _b, _c; return (_c = (_b = (_a = this._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.contentHeight) === null || _b === void 0 ? void 0 : _b.read(reader)) !== null && _c !== void 0 ? _c : this.viewModel.lastTemplateData.read(reader).contentHeight; });\n        this.maxScroll = derived(this, reader => { var _a, _b; return (_b = (_a = this._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.maxScroll.read(reader)) !== null && _b !== void 0 ? _b : { maxScroll: 0, scrollWidth: 0 }; });\n        this.template = derived(this, reader => { var _a; return (_a = this._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object; });\n        this._isHidden = observableValue(this, false);\n        this._register(autorun((reader) => {\n            var _a;\n            const scrollLeft = this._scrollLeft.read(reader);\n            (_a = this._templateRef.read(reader)) === null || _a === void 0 ? void 0 : _a.object.setScrollLeft(scrollLeft);\n        }));\n        this._register(autorun(reader => {\n            const ref = this._templateRef.read(reader);\n            if (!ref) {\n                return;\n            }\n            const isHidden = this._isHidden.read(reader);\n            if (!isHidden) {\n                return;\n            }\n            const isFocused = ref.object.isFocused.read(reader);\n            if (isFocused) {\n                return;\n            }\n            this._clear();\n        }));\n    }\n    dispose() {\n        this._clear();\n        super.dispose();\n    }\n    toString() {\n        var _a;\n        return `VirtualViewItem(${(_a = this.viewModel.entry.value.modified) === null || _a === void 0 ? void 0 : _a.uri.toString()})`;\n    }\n    getKey() {\n        return this.viewModel.getKey();\n    }\n    setViewState(viewState, tx) {\n        var _a;\n        this.viewModel.collapsed.set(viewState.collapsed, tx);\n        this._updateTemplateData(tx);\n        const data = this.viewModel.lastTemplateData.get();\n        const selections = (_a = viewState.selections) === null || _a === void 0 ? void 0 : _a.map(Selection.liftSelection);\n        this.viewModel.lastTemplateData.set({\n            ...data,\n            selections,\n        }, tx);\n        const ref = this._templateRef.get();\n        if (ref) {\n            if (selections) {\n                ref.object.editor.setSelections(selections);\n            }\n        }\n    }\n    _updateTemplateData(tx) {\n        var _a;\n        const ref = this._templateRef.get();\n        if (!ref) {\n            return;\n        }\n        this.viewModel.lastTemplateData.set({\n            contentHeight: ref.object.contentHeight.get(),\n            selections: (_a = ref.object.editor.getSelections()) !== null && _a !== void 0 ? _a : undefined,\n        }, tx);\n    }\n    _clear() {\n        const ref = this._templateRef.get();\n        if (!ref) {\n            return;\n        }\n        transaction(tx => {\n            this._updateTemplateData(tx);\n            ref.object.hide();\n            this._templateRef.set(undefined, tx);\n        });\n    }\n    hide() {\n        this._isHidden.set(true, undefined);\n    }\n    render(verticalSpace, offset, width, viewPort) {\n        this._isHidden.set(false, undefined);\n        let ref = this._templateRef.get();\n        if (!ref) {\n            ref = this._objectPool.getUnusedObj(new TemplateData(this.viewModel, this._deltaScrollVertical));\n            this._templateRef.set(ref, undefined);\n            const selections = this.viewModel.lastTemplateData.get().selections;\n            if (selections) {\n                ref.object.editor.setSelections(selections);\n            }\n        }\n        ref.object.render(verticalSpace, width, offset, viewPort);\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}