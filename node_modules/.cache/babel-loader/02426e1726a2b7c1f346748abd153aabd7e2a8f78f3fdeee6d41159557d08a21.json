{"ast":null,"code":"import _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { h } from '../../../../base/browser/dom.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { autorun, derived, observableFromEvent } from '../../../../base/common/observable.js';\nimport { globalTransaction, observableValue } from '../../../../base/common/observableInternal/base.js';\nimport { DiffEditorWidget } from '../diffEditor/diffEditorWidget.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ActionRunnerWithContext } from './utils.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nexport var TemplateData = /*#__PURE__*/function () {\n  function TemplateData(viewModel, deltaScrollVertical) {\n    _classCallCheck(this, TemplateData);\n    this.viewModel = viewModel;\n    this.deltaScrollVertical = deltaScrollVertical;\n  }\n  return _createClass(TemplateData, [{\n    key: \"getId\",\n    value: function getId() {\n      return this.viewModel;\n    }\n  }]);\n}();\nvar DiffEditorItemTemplate = /*#__PURE__*/function (_Disposable) {\n  function DiffEditorItemTemplate(_container, _overflowWidgetsDomNode, _workbenchUIElementFactory, _instantiationService) {\n    var _this;\n    _classCallCheck(this, DiffEditorItemTemplate);\n    _this = _callSuper(this, DiffEditorItemTemplate);\n    _this._container = _container;\n    _this._overflowWidgetsDomNode = _overflowWidgetsDomNode;\n    _this._workbenchUIElementFactory = _workbenchUIElementFactory;\n    _this._instantiationService = _instantiationService;\n    _this._viewModel = observableValue(_this, undefined);\n    _this._collapsed = derived(_this, function (reader) {\n      var _a;\n      return (_a = _this._viewModel.read(reader)) === null || _a === void 0 ? void 0 : _a.collapsed.read(reader);\n    });\n    _this._editorContentHeight = observableValue(_this, 500);\n    _this.contentHeight = derived(_this, function (reader) {\n      var h = _this._collapsed.read(reader) ? 0 : _this._editorContentHeight.read(reader);\n      return h + _this._outerEditorHeight;\n    });\n    _this._modifiedContentWidth = observableValue(_this, 0);\n    _this._modifiedWidth = observableValue(_this, 0);\n    _this._originalContentWidth = observableValue(_this, 0);\n    _this._originalWidth = observableValue(_this, 0);\n    _this.maxScroll = derived(_this, function (reader) {\n      var scroll1 = _this._modifiedContentWidth.read(reader) - _this._modifiedWidth.read(reader);\n      var scroll2 = _this._originalContentWidth.read(reader) - _this._originalWidth.read(reader);\n      if (scroll1 > scroll2) {\n        return {\n          maxScroll: scroll1,\n          width: _this._modifiedWidth.read(reader)\n        };\n      } else {\n        return {\n          maxScroll: scroll2,\n          width: _this._originalWidth.read(reader)\n        };\n      }\n    });\n    _this._elements = h('div.multiDiffEntry', [h('div.header@header', [h('div.header-content', [h('div.collapse-button@collapseButton'), h('div.file-path', [h('div.title.modified.show-file-icons@primaryPath', []), h('div.status.deleted@status', ['R']), h('div.title.original.show-file-icons@secondaryPath', [])]), h('div.actions@actions')])]), h('div.editorParent', [h('div.editorContainer@editor')])]);\n    _this.editor = _this._register(_this._instantiationService.createInstance(DiffEditorWidget, _this._elements.editor, {\n      overflowWidgetsDomNode: _this._overflowWidgetsDomNode\n    }, {}));\n    _this.isModifedFocused = isFocused(_this.editor.getModifiedEditor());\n    _this.isOriginalFocused = isFocused(_this.editor.getOriginalEditor());\n    _this.isFocused = derived(_this, function (reader) {\n      return _this.isModifedFocused.read(reader) || _this.isOriginalFocused.read(reader);\n    });\n    _this._resourceLabel = _this._workbenchUIElementFactory.createResourceLabel ? _this._register(_this._workbenchUIElementFactory.createResourceLabel(_this._elements.primaryPath)) : undefined;\n    _this._resourceLabel2 = _this._workbenchUIElementFactory.createResourceLabel ? _this._register(_this._workbenchUIElementFactory.createResourceLabel(_this._elements.secondaryPath)) : undefined;\n    _this._dataStore = new DisposableStore();\n    _this._headerHeight = 40;\n    _this._lastScrollTop = -1;\n    _this._isSettingScrollTop = false;\n    var btn = new Button(_this._elements.collapseButton, {});\n    _this._register(autorun(function (reader) {\n      btn.element.className = '';\n      btn.icon = _this._collapsed.read(reader) ? Codicon.chevronRight : Codicon.chevronDown;\n    }));\n    _this._register(btn.onDidClick(function () {\n      var _a;\n      (_a = _this._viewModel.get()) === null || _a === void 0 ? void 0 : _a.collapsed.set(!_this._collapsed.get(), undefined);\n    }));\n    _this._register(autorun(function (reader) {\n      _this._elements.editor.style.display = _this._collapsed.read(reader) ? 'none' : 'block';\n    }));\n    _this._register(_this.editor.getModifiedEditor().onDidLayoutChange(function (e) {\n      var width = _this.editor.getModifiedEditor().getLayoutInfo().contentWidth;\n      _this._modifiedWidth.set(width, undefined);\n    }));\n    _this._register(_this.editor.getOriginalEditor().onDidLayoutChange(function (e) {\n      var width = _this.editor.getOriginalEditor().getLayoutInfo().contentWidth;\n      _this._originalWidth.set(width, undefined);\n    }));\n    _this._register(_this.editor.onDidContentSizeChange(function (e) {\n      globalTransaction(function (tx) {\n        _this._editorContentHeight.set(e.contentHeight, tx);\n        _this._modifiedContentWidth.set(_this.editor.getModifiedEditor().getContentWidth(), tx);\n        _this._originalContentWidth.set(_this.editor.getOriginalEditor().getContentWidth(), tx);\n      });\n    }));\n    _this._register(_this.editor.getOriginalEditor().onDidScrollChange(function (e) {\n      if (_this._isSettingScrollTop) {\n        return;\n      }\n      if (!e.scrollTopChanged || !_this._data) {\n        return;\n      }\n      var delta = e.scrollTop - _this._lastScrollTop;\n      _this._data.deltaScrollVertical(delta);\n    }));\n    _this._register(autorun(function (reader) {\n      var isFocused = _this.isFocused.read(reader);\n      _this._elements.root.classList.toggle('focused', isFocused);\n    }));\n    _this._container.appendChild(_this._elements.root);\n    _this._outerEditorHeight = _this._headerHeight;\n    _this._register(_this._instantiationService.createInstance(MenuWorkbenchToolBar, _this._elements.actions, MenuId.MultiDiffEditorFileToolbar, {\n      actionRunner: _this._register(new ActionRunnerWithContext(function () {\n        var _a;\n        return (_a = _this._viewModel.get()) === null || _a === void 0 ? void 0 : _a.modifiedUri;\n      })),\n      menuOptions: {\n        shouldForwardArgs: true\n      },\n      toolbarOptions: {\n        primaryGroup: function primaryGroup(g) {\n          return g.startsWith('navigation');\n        }\n      },\n      actionViewItemProvider: function actionViewItemProvider(action, options) {\n        return createActionViewItem(_instantiationService, action, options);\n      }\n    }));\n    return _this;\n  }\n  _inherits(DiffEditorItemTemplate, _Disposable);\n  return _createClass(DiffEditorItemTemplate, [{\n    key: \"setScrollLeft\",\n    value: function setScrollLeft(left) {\n      if (this._modifiedContentWidth.get() - this._modifiedWidth.get() > this._originalContentWidth.get() - this._originalWidth.get()) {\n        this.editor.getModifiedEditor().setScrollLeft(left);\n      } else {\n        this.editor.getOriginalEditor().setScrollLeft(left);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      var _this2 = this;\n      this._data = data;\n      function updateOptions(options) {\n        return _objectSpread(_objectSpread({}, options), {}, {\n          scrollBeyondLastLine: false,\n          hideUnchangedRegions: {\n            enabled: true\n          },\n          scrollbar: {\n            vertical: 'hidden',\n            horizontal: 'hidden',\n            handleMouseWheel: false,\n            useShadows: false\n          },\n          renderOverviewRuler: false,\n          fixedOverflowWidgets: true,\n          overviewRulerBorder: false\n        });\n      }\n      var value = data.viewModel.entry.value; // TODO\n      if (value.onOptionsDidChange) {\n        this._dataStore.add(value.onOptionsDidChange(function () {\n          var _a;\n          _this2.editor.updateOptions(updateOptions((_a = value.options) !== null && _a !== void 0 ? _a : {}));\n        }));\n      }\n      globalTransaction(function (tx) {\n        var _a, _b, _c, _d;\n        (_a = _this2._resourceLabel) === null || _a === void 0 ? void 0 : _a.setUri((_b = data.viewModel.modifiedUri) !== null && _b !== void 0 ? _b : data.viewModel.originalUri, {\n          strikethrough: data.viewModel.modifiedUri === undefined\n        });\n        var isRenamed = false;\n        var isDeleted = false;\n        var isAdded = false;\n        var flag = '';\n        if (data.viewModel.modifiedUri && data.viewModel.originalUri && data.viewModel.modifiedUri.path !== data.viewModel.originalUri.path) {\n          flag = 'R';\n          isRenamed = true;\n        } else if (!data.viewModel.modifiedUri) {\n          flag = 'D';\n          isDeleted = true;\n        } else if (!data.viewModel.originalUri) {\n          flag = 'A';\n          isAdded = true;\n        }\n        _this2._elements.status.classList.toggle('renamed', isRenamed);\n        _this2._elements.status.classList.toggle('deleted', isDeleted);\n        _this2._elements.status.classList.toggle('added', isAdded);\n        _this2._elements.status.innerText = flag;\n        (_c = _this2._resourceLabel2) === null || _c === void 0 ? void 0 : _c.setUri(isRenamed ? data.viewModel.originalUri : undefined, {\n          strikethrough: true\n        });\n        _this2._dataStore.clear();\n        _this2._viewModel.set(data.viewModel, tx);\n        _this2.editor.setModel(data.viewModel.diffEditorViewModel, tx);\n        _this2.editor.updateOptions(updateOptions((_d = value.options) !== null && _d !== void 0 ? _d : {}));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(verticalRange, width, editorScroll, viewPort) {\n      var _this3 = this;\n      this._elements.root.style.visibility = 'visible';\n      this._elements.root.style.top = \"\".concat(verticalRange.start, \"px\");\n      this._elements.root.style.height = \"\".concat(verticalRange.length, \"px\");\n      this._elements.root.style.width = \"\".concat(width, \"px\");\n      this._elements.root.style.position = 'absolute';\n      // For sticky scroll\n      var maxDelta = verticalRange.length - this._headerHeight;\n      var delta = Math.max(0, Math.min(viewPort.start - verticalRange.start, maxDelta));\n      this._elements.header.style.transform = \"translateY(\".concat(delta, \"px)\");\n      globalTransaction(function (tx) {\n        _this3.editor.layout({\n          width: width - 2 * 8 - 2 * 1,\n          height: verticalRange.length - _this3._outerEditorHeight\n        });\n      });\n      try {\n        this._isSettingScrollTop = true;\n        this._lastScrollTop = editorScroll;\n        this.editor.getOriginalEditor().setScrollTop(editorScroll);\n      } finally {\n        this._isSettingScrollTop = false;\n      }\n      this._elements.header.classList.toggle('shadow', delta > 0 || editorScroll > 0);\n      this._elements.header.classList.toggle('collapsed', delta === maxDelta);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._elements.root.style.top = \"-100000px\";\n      this._elements.root.style.visibility = 'hidden'; // Some editor parts are still visible\n    }\n  }]);\n}(Disposable);\nDiffEditorItemTemplate = __decorate([__param(3, IInstantiationService)], DiffEditorItemTemplate);\nexport { DiffEditorItemTemplate };\nfunction isFocused(editor) {\n  return observableFromEvent(function (h) {\n    var store = new DisposableStore();\n    store.add(editor.onDidFocusEditorWidget(function () {\n      return h(true);\n    }));\n    store.add(editor.onDidBlurEditorWidget(function () {\n      return h(false);\n    }));\n    return store;\n  }, function () {\n    return editor.hasTextFocus();\n  });\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","h","Button","Codicon","Disposable","DisposableStore","autorun","derived","observableFromEvent","globalTransaction","observableValue","DiffEditorWidget","MenuWorkbenchToolBar","MenuId","IInstantiationService","ActionRunnerWithContext","createActionViewItem","TemplateData","viewModel","deltaScrollVertical","_classCallCheck","_createClass","value","getId","DiffEditorItemTemplate","_Disposable","_container","_overflowWidgetsDomNode","_workbenchUIElementFactory","_instantiationService","_this","_callSuper","_viewModel","undefined","_collapsed","reader","_a","read","collapsed","_editorContentHeight","contentHeight","_outerEditorHeight","_modifiedContentWidth","_modifiedWidth","_originalContentWidth","_originalWidth","maxScroll","scroll1","scroll2","width","_elements","editor","_register","createInstance","overflowWidgetsDomNode","isModifedFocused","isFocused","getModifiedEditor","isOriginalFocused","getOriginalEditor","_resourceLabel","createResourceLabel","primaryPath","_resourceLabel2","secondaryPath","_dataStore","_headerHeight","_lastScrollTop","_isSettingScrollTop","btn","collapseButton","element","className","icon","chevronRight","chevronDown","onDidClick","get","set","style","display","onDidLayoutChange","e","getLayoutInfo","contentWidth","onDidContentSizeChange","tx","getContentWidth","onDidScrollChange","scrollTopChanged","_data","delta","scrollTop","root","classList","toggle","appendChild","actions","MultiDiffEditorFileToolbar","actionRunner","modifiedUri","menuOptions","shouldForwardArgs","toolbarOptions","primaryGroup","g","startsWith","actionViewItemProvider","action","options","_inherits","setScrollLeft","left","setData","data","_this2","updateOptions","_objectSpread","scrollBeyondLastLine","hideUnchangedRegions","enabled","scrollbar","vertical","horizontal","handleMouseWheel","useShadows","renderOverviewRuler","fixedOverflowWidgets","overviewRulerBorder","entry","onOptionsDidChange","add","_b","_c","_d","setUri","originalUri","strikethrough","isRenamed","isDeleted","isAdded","flag","path","status","innerText","clear","setModel","diffEditorViewModel","render","verticalRange","editorScroll","viewPort","_this3","visibility","top","concat","start","height","position","maxDelta","Math","max","min","header","transform","layout","setScrollTop","hide","store","onDidFocusEditorWidget","onDidBlurEditorWidget","hasTextFocus"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { h } from '../../../../base/browser/dom.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { autorun, derived, observableFromEvent } from '../../../../base/common/observable.js';\nimport { globalTransaction, observableValue } from '../../../../base/common/observableInternal/base.js';\nimport { DiffEditorWidget } from '../diffEditor/diffEditorWidget.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ActionRunnerWithContext } from './utils.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nexport class TemplateData {\n    constructor(viewModel, deltaScrollVertical) {\n        this.viewModel = viewModel;\n        this.deltaScrollVertical = deltaScrollVertical;\n    }\n    getId() {\n        return this.viewModel;\n    }\n}\nlet DiffEditorItemTemplate = class DiffEditorItemTemplate extends Disposable {\n    constructor(_container, _overflowWidgetsDomNode, _workbenchUIElementFactory, _instantiationService) {\n        super();\n        this._container = _container;\n        this._overflowWidgetsDomNode = _overflowWidgetsDomNode;\n        this._workbenchUIElementFactory = _workbenchUIElementFactory;\n        this._instantiationService = _instantiationService;\n        this._viewModel = observableValue(this, undefined);\n        this._collapsed = derived(this, reader => { var _a; return (_a = this._viewModel.read(reader)) === null || _a === void 0 ? void 0 : _a.collapsed.read(reader); });\n        this._editorContentHeight = observableValue(this, 500);\n        this.contentHeight = derived(this, reader => {\n            const h = this._collapsed.read(reader) ? 0 : this._editorContentHeight.read(reader);\n            return h + this._outerEditorHeight;\n        });\n        this._modifiedContentWidth = observableValue(this, 0);\n        this._modifiedWidth = observableValue(this, 0);\n        this._originalContentWidth = observableValue(this, 0);\n        this._originalWidth = observableValue(this, 0);\n        this.maxScroll = derived(this, reader => {\n            const scroll1 = this._modifiedContentWidth.read(reader) - this._modifiedWidth.read(reader);\n            const scroll2 = this._originalContentWidth.read(reader) - this._originalWidth.read(reader);\n            if (scroll1 > scroll2) {\n                return { maxScroll: scroll1, width: this._modifiedWidth.read(reader) };\n            }\n            else {\n                return { maxScroll: scroll2, width: this._originalWidth.read(reader) };\n            }\n        });\n        this._elements = h('div.multiDiffEntry', [\n            h('div.header@header', [\n                h('div.header-content', [\n                    h('div.collapse-button@collapseButton'),\n                    h('div.file-path', [\n                        h('div.title.modified.show-file-icons@primaryPath', []),\n                        h('div.status.deleted@status', ['R']),\n                        h('div.title.original.show-file-icons@secondaryPath', []),\n                    ]),\n                    h('div.actions@actions'),\n                ]),\n            ]),\n            h('div.editorParent', [\n                h('div.editorContainer@editor'),\n            ])\n        ]);\n        this.editor = this._register(this._instantiationService.createInstance(DiffEditorWidget, this._elements.editor, {\n            overflowWidgetsDomNode: this._overflowWidgetsDomNode,\n        }, {}));\n        this.isModifedFocused = isFocused(this.editor.getModifiedEditor());\n        this.isOriginalFocused = isFocused(this.editor.getOriginalEditor());\n        this.isFocused = derived(this, reader => this.isModifedFocused.read(reader) || this.isOriginalFocused.read(reader));\n        this._resourceLabel = this._workbenchUIElementFactory.createResourceLabel\n            ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath))\n            : undefined;\n        this._resourceLabel2 = this._workbenchUIElementFactory.createResourceLabel\n            ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath))\n            : undefined;\n        this._dataStore = new DisposableStore();\n        this._headerHeight = 40;\n        this._lastScrollTop = -1;\n        this._isSettingScrollTop = false;\n        const btn = new Button(this._elements.collapseButton, {});\n        this._register(autorun(reader => {\n            btn.element.className = '';\n            btn.icon = this._collapsed.read(reader) ? Codicon.chevronRight : Codicon.chevronDown;\n        }));\n        this._register(btn.onDidClick(() => {\n            var _a;\n            (_a = this._viewModel.get()) === null || _a === void 0 ? void 0 : _a.collapsed.set(!this._collapsed.get(), undefined);\n        }));\n        this._register(autorun(reader => {\n            this._elements.editor.style.display = this._collapsed.read(reader) ? 'none' : 'block';\n        }));\n        this._register(this.editor.getModifiedEditor().onDidLayoutChange(e => {\n            const width = this.editor.getModifiedEditor().getLayoutInfo().contentWidth;\n            this._modifiedWidth.set(width, undefined);\n        }));\n        this._register(this.editor.getOriginalEditor().onDidLayoutChange(e => {\n            const width = this.editor.getOriginalEditor().getLayoutInfo().contentWidth;\n            this._originalWidth.set(width, undefined);\n        }));\n        this._register(this.editor.onDidContentSizeChange(e => {\n            globalTransaction(tx => {\n                this._editorContentHeight.set(e.contentHeight, tx);\n                this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(), tx);\n                this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(), tx);\n            });\n        }));\n        this._register(this.editor.getOriginalEditor().onDidScrollChange(e => {\n            if (this._isSettingScrollTop) {\n                return;\n            }\n            if (!e.scrollTopChanged || !this._data) {\n                return;\n            }\n            const delta = e.scrollTop - this._lastScrollTop;\n            this._data.deltaScrollVertical(delta);\n        }));\n        this._register(autorun(reader => {\n            const isFocused = this.isFocused.read(reader);\n            this._elements.root.classList.toggle('focused', isFocused);\n        }));\n        this._container.appendChild(this._elements.root);\n        this._outerEditorHeight = this._headerHeight;\n        this._register(this._instantiationService.createInstance(MenuWorkbenchToolBar, this._elements.actions, MenuId.MultiDiffEditorFileToolbar, {\n            actionRunner: this._register(new ActionRunnerWithContext(() => { var _a; return ((_a = this._viewModel.get()) === null || _a === void 0 ? void 0 : _a.modifiedUri); })),\n            menuOptions: {\n                shouldForwardArgs: true,\n            },\n            toolbarOptions: { primaryGroup: g => g.startsWith('navigation') },\n            actionViewItemProvider: (action, options) => createActionViewItem(_instantiationService, action, options),\n        }));\n    }\n    setScrollLeft(left) {\n        if (this._modifiedContentWidth.get() - this._modifiedWidth.get() > this._originalContentWidth.get() - this._originalWidth.get()) {\n            this.editor.getModifiedEditor().setScrollLeft(left);\n        }\n        else {\n            this.editor.getOriginalEditor().setScrollLeft(left);\n        }\n    }\n    setData(data) {\n        this._data = data;\n        function updateOptions(options) {\n            return {\n                ...options,\n                scrollBeyondLastLine: false,\n                hideUnchangedRegions: {\n                    enabled: true,\n                },\n                scrollbar: {\n                    vertical: 'hidden',\n                    horizontal: 'hidden',\n                    handleMouseWheel: false,\n                    useShadows: false,\n                },\n                renderOverviewRuler: false,\n                fixedOverflowWidgets: true,\n                overviewRulerBorder: false,\n            };\n        }\n        const value = data.viewModel.entry.value; // TODO\n        if (value.onOptionsDidChange) {\n            this._dataStore.add(value.onOptionsDidChange(() => {\n                var _a;\n                this.editor.updateOptions(updateOptions((_a = value.options) !== null && _a !== void 0 ? _a : {}));\n            }));\n        }\n        globalTransaction(tx => {\n            var _a, _b, _c, _d;\n            (_a = this._resourceLabel) === null || _a === void 0 ? void 0 : _a.setUri((_b = data.viewModel.modifiedUri) !== null && _b !== void 0 ? _b : data.viewModel.originalUri, { strikethrough: data.viewModel.modifiedUri === undefined });\n            let isRenamed = false;\n            let isDeleted = false;\n            let isAdded = false;\n            let flag = '';\n            if (data.viewModel.modifiedUri && data.viewModel.originalUri && data.viewModel.modifiedUri.path !== data.viewModel.originalUri.path) {\n                flag = 'R';\n                isRenamed = true;\n            }\n            else if (!data.viewModel.modifiedUri) {\n                flag = 'D';\n                isDeleted = true;\n            }\n            else if (!data.viewModel.originalUri) {\n                flag = 'A';\n                isAdded = true;\n            }\n            this._elements.status.classList.toggle('renamed', isRenamed);\n            this._elements.status.classList.toggle('deleted', isDeleted);\n            this._elements.status.classList.toggle('added', isAdded);\n            this._elements.status.innerText = flag;\n            (_c = this._resourceLabel2) === null || _c === void 0 ? void 0 : _c.setUri(isRenamed ? data.viewModel.originalUri : undefined, { strikethrough: true });\n            this._dataStore.clear();\n            this._viewModel.set(data.viewModel, tx);\n            this.editor.setModel(data.viewModel.diffEditorViewModel, tx);\n            this.editor.updateOptions(updateOptions((_d = value.options) !== null && _d !== void 0 ? _d : {}));\n        });\n    }\n    render(verticalRange, width, editorScroll, viewPort) {\n        this._elements.root.style.visibility = 'visible';\n        this._elements.root.style.top = `${verticalRange.start}px`;\n        this._elements.root.style.height = `${verticalRange.length}px`;\n        this._elements.root.style.width = `${width}px`;\n        this._elements.root.style.position = 'absolute';\n        // For sticky scroll\n        const maxDelta = verticalRange.length - this._headerHeight;\n        const delta = Math.max(0, Math.min(viewPort.start - verticalRange.start, maxDelta));\n        this._elements.header.style.transform = `translateY(${delta}px)`;\n        globalTransaction(tx => {\n            this.editor.layout({\n                width: width - 2 * 8 - 2 * 1,\n                height: verticalRange.length - this._outerEditorHeight,\n            });\n        });\n        try {\n            this._isSettingScrollTop = true;\n            this._lastScrollTop = editorScroll;\n            this.editor.getOriginalEditor().setScrollTop(editorScroll);\n        }\n        finally {\n            this._isSettingScrollTop = false;\n        }\n        this._elements.header.classList.toggle('shadow', delta > 0 || editorScroll > 0);\n        this._elements.header.classList.toggle('collapsed', delta === maxDelta);\n    }\n    hide() {\n        this._elements.root.style.top = `-100000px`;\n        this._elements.root.style.visibility = 'hidden'; // Some editor parts are still visible\n    }\n};\nDiffEditorItemTemplate = __decorate([\n    __param(3, IInstantiationService)\n], DiffEditorItemTemplate);\nexport { DiffEditorItemTemplate };\nfunction isFocused(editor) {\n    return observableFromEvent(h => {\n        const store = new DisposableStore();\n        store.add(editor.onDidFocusEditorWidget(() => h(true)));\n        store.add(editor.onDidBlurEditorWidget(() => h(false)));\n        return store;\n    }, () => editor.hasTextFocus());\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}