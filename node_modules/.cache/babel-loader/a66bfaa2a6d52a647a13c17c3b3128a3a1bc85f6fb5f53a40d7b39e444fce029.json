{"ast":null,"code":"import _objectSpread from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _get from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _regeneratorRuntime from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _typeof from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar RenameController_1;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { raceCancellation } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { CancellationError, onUnexpectedError } from '../../../../base/common/errors.js';\nimport { isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { IBulkEditService } from '../../../browser/services/bulkEditService.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextResourceConfigurationService } from '../../../common/services/textResourceConfiguration.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { Extensions } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { CONTEXT_RENAME_INPUT_VISIBLE, RenameWidget } from './renameWidget.js';\nvar RenameSkeleton = /*#__PURE__*/function () {\n  function RenameSkeleton(model, position, registry) {\n    _classCallCheck(this, RenameSkeleton);\n    this.model = model;\n    this.position = position;\n    this._providerRenameIdx = 0;\n    this._providers = registry.ordered(model);\n  }\n  return _createClass(RenameSkeleton, [{\n    key: \"hasProvider\",\n    value: function hasProvider() {\n      return this._providers.length > 0;\n    }\n  }, {\n    key: \"resolveRenameLocation\",\n    value: function () {\n      var _resolveRenameLocation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(token) {\n        var rejects, provider, res, word;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              rejects = [];\n              this._providerRenameIdx = 0;\n            case 2:\n              if (!(this._providerRenameIdx < this._providers.length)) {\n                _context.next = 18;\n                break;\n              }\n              provider = this._providers[this._providerRenameIdx];\n              if (provider.resolveRenameLocation) {\n                _context.next = 6;\n                break;\n              }\n              return _context.abrupt(\"break\", 18);\n            case 6:\n              _context.next = 8;\n              return provider.resolveRenameLocation(this.model, this.position, token);\n            case 8:\n              res = _context.sent;\n              if (res) {\n                _context.next = 11;\n                break;\n              }\n              return _context.abrupt(\"continue\", 15);\n            case 11:\n              if (!res.rejectReason) {\n                _context.next = 14;\n                break;\n              }\n              rejects.push(res.rejectReason);\n              return _context.abrupt(\"continue\", 15);\n            case 14:\n              return _context.abrupt(\"return\", res);\n            case 15:\n              this._providerRenameIdx++;\n              _context.next = 2;\n              break;\n            case 18:\n              // we are here when no provider prepared a location which means we can\n              // just rely on the word under cursor and start with the first provider\n              this._providerRenameIdx = 0;\n              word = this.model.getWordAtPosition(this.position);\n              if (word) {\n                _context.next = 22;\n                break;\n              }\n              return _context.abrupt(\"return\", {\n                range: Range.fromPositions(this.position),\n                text: '',\n                rejectReason: rejects.length > 0 ? rejects.join('\\n') : undefined\n              });\n            case 22:\n              return _context.abrupt(\"return\", {\n                range: new Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),\n                text: word.word,\n                rejectReason: rejects.length > 0 ? rejects.join('\\n') : undefined\n              });\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function resolveRenameLocation(_x) {\n        return _resolveRenameLocation.apply(this, arguments);\n      }\n      return resolveRenameLocation;\n    }()\n  }, {\n    key: \"provideRenameEdits\",\n    value: function () {\n      var _provideRenameEdits2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(newName, token) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", this._provideRenameEdits(newName, this._providerRenameIdx, [], token));\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function provideRenameEdits(_x2, _x3) {\n        return _provideRenameEdits2.apply(this, arguments);\n      }\n      return provideRenameEdits;\n    }()\n  }, {\n    key: \"_provideRenameEdits\",\n    value: function () {\n      var _provideRenameEdits3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(newName, i, rejects, token) {\n        var provider, result;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              provider = this._providers[i];\n              if (provider) {\n                _context3.next = 3;\n                break;\n              }\n              return _context3.abrupt(\"return\", {\n                edits: [],\n                rejectReason: rejects.join('\\n')\n              });\n            case 3:\n              _context3.next = 5;\n              return provider.provideRenameEdits(this.model, this.position, newName, token);\n            case 5:\n              result = _context3.sent;\n              if (result) {\n                _context3.next = 10;\n                break;\n              }\n              return _context3.abrupt(\"return\", this._provideRenameEdits(newName, i + 1, rejects.concat(nls.localize('no result', \"No result.\")), token));\n            case 10:\n              if (!result.rejectReason) {\n                _context3.next = 12;\n                break;\n              }\n              return _context3.abrupt(\"return\", this._provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason), token));\n            case 12:\n              return _context3.abrupt(\"return\", result);\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function _provideRenameEdits(_x4, _x5, _x6, _x7) {\n        return _provideRenameEdits3.apply(this, arguments);\n      }\n      return _provideRenameEdits;\n    }()\n  }]);\n}();\nexport function rename(_x8, _x9, _x10, _x11) {\n  return _rename.apply(this, arguments);\n}\n// ---  register actions and commands\nfunction _rename() {\n  _rename = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(registry, model, position, newName) {\n    var skeleton, loc;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          skeleton = new RenameSkeleton(model, position, registry);\n          _context7.next = 3;\n          return skeleton.resolveRenameLocation(CancellationToken.None);\n        case 3:\n          loc = _context7.sent;\n          if (!(loc === null || loc === void 0 ? void 0 : loc.rejectReason)) {\n            _context7.next = 6;\n            break;\n          }\n          return _context7.abrupt(\"return\", {\n            edits: [],\n            rejectReason: loc.rejectReason\n          });\n        case 6:\n          return _context7.abrupt(\"return\", skeleton.provideRenameEdits(newName, CancellationToken.None));\n        case 7:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _rename.apply(this, arguments);\n}\nvar RenameController = RenameController_1 = /*#__PURE__*/function () {\n  function RenameController(editor, _instaService, _notificationService, _bulkEditService, _progressService, _logService, _configService, _languageFeaturesService, _telemetryService) {\n    _classCallCheck(this, RenameController);\n    this.editor = editor;\n    this._instaService = _instaService;\n    this._notificationService = _notificationService;\n    this._bulkEditService = _bulkEditService;\n    this._progressService = _progressService;\n    this._logService = _logService;\n    this._configService = _configService;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._telemetryService = _telemetryService;\n    this._disposableStore = new DisposableStore();\n    this._cts = new CancellationTokenSource();\n    this._renameWidget = this._disposableStore.add(this._instaService.createInstance(RenameWidget, this.editor, ['acceptRenameInput', 'acceptRenameInputWithPreview']));\n  }\n  return _createClass(RenameController, [{\n    key: \"dispose\",\n    value: function dispose() {\n      this._disposableStore.dispose();\n      this._cts.dispose(true);\n    }\n  }, {\n    key: \"run\",\n    value: function () {\n      var _run = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var _this = this;\n        var _a, _b, trace, position, skeleton, cts1, loc, resolveLocationOperation, cts2, model, newSymbolNamesProviders, requestRenameSuggestions, supportPreview, inputFieldResult, renameOperation;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              trace = this._logService.trace.bind(this._logService, '[rename]'); // set up cancellation token to prevent reentrant rename, this\n              // is the parent to the resolve- and rename-tokens\n              this._cts.dispose(true);\n              this._cts = new CancellationTokenSource();\n              if (this.editor.hasModel()) {\n                _context5.next = 6;\n                break;\n              }\n              trace('editor has no model');\n              return _context5.abrupt(\"return\", undefined);\n            case 6:\n              position = this.editor.getPosition();\n              skeleton = new RenameSkeleton(this.editor.getModel(), position, this._languageFeaturesService.renameProvider);\n              if (skeleton.hasProvider()) {\n                _context5.next = 11;\n                break;\n              }\n              trace('skeleton has no provider');\n              return _context5.abrupt(\"return\", undefined);\n            case 11:\n              // part 1 - resolve rename location\n              cts1 = new EditorStateCancellationTokenSource(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */, undefined, this._cts.token);\n              _context5.prev = 12;\n              trace('resolving rename location');\n              resolveLocationOperation = skeleton.resolveRenameLocation(cts1.token);\n              this._progressService.showWhile(resolveLocationOperation, 250);\n              _context5.next = 18;\n              return resolveLocationOperation;\n            case 18:\n              loc = _context5.sent;\n              trace('resolved rename location');\n              _context5.next = 26;\n              break;\n            case 22:\n              _context5.prev = 22;\n              _context5.t0 = _context5[\"catch\"](12);\n              if (_context5.t0 instanceof CancellationError) {\n                trace('resolve rename location cancelled', JSON.stringify(_context5.t0, null, '\\t'));\n              } else {\n                trace('resolve rename location failed', _context5.t0 instanceof Error ? _context5.t0 : JSON.stringify(_context5.t0, null, '\\t'));\n                if (typeof _context5.t0 === 'string' || isMarkdownString(_context5.t0)) {\n                  (_a = MessageController.get(this.editor)) === null || _a === void 0 ? void 0 : _a.showMessage(_context5.t0 || nls.localize('resolveRenameLocationFailed', \"An unknown error occurred while resolving rename location\"), position);\n                }\n              }\n              return _context5.abrupt(\"return\", undefined);\n            case 26:\n              _context5.prev = 26;\n              cts1.dispose();\n              return _context5.finish(26);\n            case 29:\n              if (loc) {\n                _context5.next = 32;\n                break;\n              }\n              trace('returning early - no loc');\n              return _context5.abrupt(\"return\", undefined);\n            case 32:\n              if (!loc.rejectReason) {\n                _context5.next = 36;\n                break;\n              }\n              trace(\"returning early - rejected with reason: \".concat(loc.rejectReason), loc.rejectReason);\n              (_b = MessageController.get(this.editor)) === null || _b === void 0 ? void 0 : _b.showMessage(loc.rejectReason, position);\n              return _context5.abrupt(\"return\", undefined);\n            case 36:\n              if (!cts1.token.isCancellationRequested) {\n                _context5.next = 39;\n                break;\n              }\n              trace('returning early - cts1 cancelled');\n              return _context5.abrupt(\"return\", undefined);\n            case 39:\n              // part 2 - do rename at location\n              cts2 = new EditorStateCancellationTokenSource(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */, loc.range, this._cts.token);\n              model = this.editor.getModel(); // @ulugbekna: assumes editor still has a model, otherwise, cts1 should've been cancelled\n              newSymbolNamesProviders = this._languageFeaturesService.newSymbolNamesProvider.all(model);\n              requestRenameSuggestions = function requestRenameSuggestions(cts) {\n                return newSymbolNamesProviders.map(function (p) {\n                  return p.provideNewSymbolNames(model, loc.range, cts);\n                });\n              };\n              trace('creating rename input field and awaiting its result');\n              supportPreview = this._bulkEditService.hasPreviewHandler() && this._configService.getValue(this.editor.getModel().uri, 'editor.rename.enablePreview');\n              _context5.next = 47;\n              return this._renameWidget.getInput(loc.range, loc.text, supportPreview, requestRenameSuggestions, cts2);\n            case 47:\n              inputFieldResult = _context5.sent;\n              trace('received response from rename input field');\n              if (newSymbolNamesProviders.length > 0) {\n                // @ulugbekna: we're interested only in telemetry for rename suggestions currently\n                this._reportTelemetry(newSymbolNamesProviders.length, model.getLanguageId(), inputFieldResult);\n              }\n              // no result, only hint to focus the editor or not\n              if (!(typeof inputFieldResult === 'boolean')) {\n                _context5.next = 55;\n                break;\n              }\n              trace(\"returning early - rename input field response - \".concat(inputFieldResult));\n              if (inputFieldResult) {\n                this.editor.focus();\n              }\n              cts2.dispose();\n              return _context5.abrupt(\"return\", undefined);\n            case 55:\n              this.editor.focus();\n              trace('requesting rename edits');\n              renameOperation = raceCancellation(skeleton.provideRenameEdits(inputFieldResult.newName, cts2.token), cts2.token).then( /*#__PURE__*/function () {\n                var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(renameResult) {\n                  return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                    while (1) switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (renameResult) {\n                          _context4.next = 3;\n                          break;\n                        }\n                        trace('returning early - no rename edits result');\n                        return _context4.abrupt(\"return\");\n                      case 3:\n                        if (_this.editor.hasModel()) {\n                          _context4.next = 6;\n                          break;\n                        }\n                        trace('returning early - no model after rename edits are provided');\n                        return _context4.abrupt(\"return\");\n                      case 6:\n                        if (!renameResult.rejectReason) {\n                          _context4.next = 10;\n                          break;\n                        }\n                        trace(\"returning early - rejected with reason: \".concat(renameResult.rejectReason));\n                        _this._notificationService.info(renameResult.rejectReason);\n                        return _context4.abrupt(\"return\");\n                      case 10:\n                        // collapse selection to active end\n                        _this.editor.setSelection(Range.fromPositions(_this.editor.getSelection().getPosition()));\n                        trace('applying edits');\n                        _this._bulkEditService.apply(renameResult, {\n                          editor: _this.editor,\n                          showPreview: inputFieldResult.wantsPreview,\n                          label: nls.localize('label', \"Renaming '{0}' to '{1}'\", loc === null || loc === void 0 ? void 0 : loc.text, inputFieldResult.newName),\n                          code: 'undoredo.rename',\n                          quotableLabel: nls.localize('quotableLabel', \"Renaming {0} to {1}\", loc === null || loc === void 0 ? void 0 : loc.text, inputFieldResult.newName),\n                          respectAutoSaveConfig: true\n                        }).then(function (result) {\n                          trace('edits applied');\n                          if (result.ariaSummary) {\n                            alert(nls.localize('aria', \"Successfully renamed '{0}' to '{1}'. Summary: {2}\", loc.text, inputFieldResult.newName, result.ariaSummary));\n                          }\n                        })[\"catch\"](function (err) {\n                          trace(\"error when applying edits \".concat(JSON.stringify(err, null, '\\t')));\n                          _this._notificationService.error(nls.localize('rename.failedApply', \"Rename failed to apply edits\"));\n                          _this._logService.error(err);\n                        });\n                      case 13:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }, _callee4);\n                }));\n                return function (_x12) {\n                  return _ref.apply(this, arguments);\n                };\n              }(), function (err) {\n                trace('error when providing rename edits', JSON.stringify(err, null, '\\t'));\n                _this._notificationService.error(nls.localize('rename.failed', \"Rename failed to compute edits\"));\n                _this._logService.error(err);\n              })[\"finally\"](function () {\n                cts2.dispose();\n              });\n              trace('returning rename operation');\n              this._progressService.showWhile(renameOperation, 250);\n              return _context5.abrupt(\"return\", renameOperation);\n            case 61:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this, [[12, 22, 26, 29]]);\n      }));\n      function run() {\n        return _run.apply(this, arguments);\n      }\n      return run;\n    }()\n  }, {\n    key: \"acceptRenameInput\",\n    value: function acceptRenameInput(wantsPreview) {\n      this._renameWidget.acceptInput(wantsPreview);\n    }\n  }, {\n    key: \"cancelRenameInput\",\n    value: function cancelRenameInput() {\n      this._renameWidget.cancelInput(true, 'cancelRenameInput command');\n    }\n  }, {\n    key: \"focusNextRenameSuggestion\",\n    value: function focusNextRenameSuggestion() {\n      this._renameWidget.focusNextRenameSuggestion();\n    }\n  }, {\n    key: \"focusPreviousRenameSuggestion\",\n    value: function focusPreviousRenameSuggestion() {\n      this._renameWidget.focusPreviousRenameSuggestion();\n    }\n  }, {\n    key: \"_reportTelemetry\",\n    value: function _reportTelemetry(nRenameSuggestionProviders, languageId, inputFieldResult) {\n      var value = typeof inputFieldResult === 'boolean' ? {\n        kind: 'cancelled',\n        languageId: languageId,\n        nRenameSuggestionProviders: nRenameSuggestionProviders\n      } : {\n        kind: 'accepted',\n        languageId: languageId,\n        nRenameSuggestionProviders: nRenameSuggestionProviders,\n        source: inputFieldResult.stats.source.k,\n        nRenameSuggestions: inputFieldResult.stats.nRenameSuggestions,\n        timeBeforeFirstInputFieldEdit: inputFieldResult.stats.timeBeforeFirstInputFieldEdit,\n        wantsPreview: inputFieldResult.wantsPreview\n      };\n      this._telemetryService.publicLog2('renameInvokedEvent', value);\n    }\n  }], [{\n    key: \"get\",\n    value: function get(editor) {\n      return editor.getContribution(RenameController_1.ID);\n    }\n  }]);\n}();\nRenameController.ID = 'editor.contrib.renameController';\nRenameController = RenameController_1 = __decorate([__param(1, IInstantiationService), __param(2, INotificationService), __param(3, IBulkEditService), __param(4, IEditorProgressService), __param(5, ILogService), __param(6, ITextResourceConfigurationService), __param(7, ILanguageFeaturesService), __param(8, ITelemetryService)], RenameController);\n// ---- action implementation\nexport var RenameAction = /*#__PURE__*/function (_EditorAction) {\n  function RenameAction() {\n    _classCallCheck(this, RenameAction);\n    return _callSuper(this, RenameAction, [{\n      id: 'editor.action.rename',\n      label: nls.localize('rename.label', \"Rename Symbol\"),\n      alias: 'Rename Symbol',\n      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 60 /* KeyCode.F2 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n      contextMenuOpts: {\n        group: '1_modification',\n        order: 1.1\n      }\n    }]);\n  }\n  _inherits(RenameAction, _EditorAction);\n  return _createClass(RenameAction, [{\n    key: \"runCommand\",\n    value: function runCommand(accessor, args) {\n      var _this2 = this;\n      var editorService = accessor.get(ICodeEditorService);\n      var _ref2 = Array.isArray(args) && args || [undefined, undefined],\n        _ref3 = _slicedToArray(_ref2, 2),\n        uri = _ref3[0],\n        pos = _ref3[1];\n      if (URI.isUri(uri) && Position.isIPosition(pos)) {\n        return editorService.openCodeEditor({\n          resource: uri\n        }, editorService.getActiveCodeEditor()).then(function (editor) {\n          if (!editor) {\n            return;\n          }\n          editor.setPosition(pos);\n          editor.invokeWithinContext(function (accessor) {\n            _this2.reportTelemetry(accessor, editor);\n            return _this2.run(accessor, editor);\n          });\n        }, onUnexpectedError);\n      }\n      return _get(_getPrototypeOf(RenameAction.prototype), \"runCommand\", this).call(this, accessor, args);\n    }\n  }, {\n    key: \"run\",\n    value: function run(accessor, editor) {\n      var logService = accessor.get(ILogService);\n      var controller = RenameController.get(editor);\n      if (controller) {\n        logService.trace('[RenameAction] got controller, running...');\n        return controller.run();\n      }\n      logService.trace('[RenameAction] returning early - controller missing');\n      return Promise.resolve();\n    }\n  }]);\n}(EditorAction);\nregisterEditorContribution(RenameController.ID, RenameController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(RenameAction);\nvar RenameCommand = EditorCommand.bindToContribution(RenameController.get);\nregisterEditorCommand(new RenameCommand({\n  id: 'acceptRenameInput',\n  precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n  handler: function handler(x) {\n    return x.acceptRenameInput(false);\n  },\n  kbOpts: {\n    weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n    primary: 3 /* KeyCode.Enter */\n  }\n}));\nregisterEditorCommand(new RenameCommand({\n  id: 'acceptRenameInputWithPreview',\n  precondition: ContextKeyExpr.and(CONTEXT_RENAME_INPUT_VISIBLE, ContextKeyExpr.has('config.editor.rename.enablePreview')),\n  handler: function handler(x) {\n    return x.acceptRenameInput(true);\n  },\n  kbOpts: {\n    weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n    primary: 2048 /* KeyMod.CtrlCmd */ + 3 /* KeyCode.Enter */\n  }\n}));\nregisterEditorCommand(new RenameCommand({\n  id: 'cancelRenameInput',\n  precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n  handler: function handler(x) {\n    return x.cancelRenameInput();\n  },\n  kbOpts: {\n    weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n    kbExpr: EditorContextKeys.focus,\n    primary: 9 /* KeyCode.Escape */,\n    secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n  }\n}));\nregisterAction2( /*#__PURE__*/function (_Action) {\n  function FocusNextRenameSuggestion() {\n    _classCallCheck(this, FocusNextRenameSuggestion);\n    return _callSuper(this, FocusNextRenameSuggestion, [{\n      id: 'focusNextRenameSuggestion',\n      title: _objectSpread({}, nls.localize2('focusNextRenameSuggestion', \"Focus Next Rename Suggestion\")),\n      precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n      keybinding: [{\n        primary: 2 /* KeyCode.Tab */,\n        secondary: [18 /* KeyCode.DownArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99\n      }]\n    }]);\n  }\n  _inherits(FocusNextRenameSuggestion, _Action);\n  return _createClass(FocusNextRenameSuggestion, [{\n    key: \"run\",\n    value: function run(accessor) {\n      var currentEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n      if (!currentEditor) {\n        return;\n      }\n      var controller = RenameController.get(currentEditor);\n      if (!controller) {\n        return;\n      }\n      controller.focusNextRenameSuggestion();\n    }\n  }]);\n}(Action2));\nregisterAction2( /*#__PURE__*/function (_Action2) {\n  function FocusPreviousRenameSuggestion() {\n    _classCallCheck(this, FocusPreviousRenameSuggestion);\n    return _callSuper(this, FocusPreviousRenameSuggestion, [{\n      id: 'focusPreviousRenameSuggestion',\n      title: _objectSpread({}, nls.localize2('focusPreviousRenameSuggestion', \"Focus Previous Rename Suggestion\")),\n      precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n      keybinding: [{\n        primary: 1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */,\n        secondary: [16 /* KeyCode.UpArrow */],\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99\n      }]\n    }]);\n  }\n  _inherits(FocusPreviousRenameSuggestion, _Action2);\n  return _createClass(FocusPreviousRenameSuggestion, [{\n    key: \"run\",\n    value: function run(accessor) {\n      var currentEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n      if (!currentEditor) {\n        return;\n      }\n      var controller = RenameController.get(currentEditor);\n      if (!controller) {\n        return;\n      }\n      controller.focusPreviousRenameSuggestion();\n    }\n  }]);\n}(Action2));\n// ---- api bridge command\nregisterModelAndPositionCommand('_executeDocumentRenameProvider', function (accessor, model, position) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var newName = args[0];\n  assertType(typeof newName === 'string');\n  var _accessor$get = accessor.get(ILanguageFeaturesService),\n    renameProvider = _accessor$get.renameProvider;\n  return rename(renameProvider, model, position, newName);\n});\nregisterModelAndPositionCommand('_executePrepareRename', /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(accessor, model, position) {\n    var _accessor$get2, renameProvider, skeleton, loc;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _accessor$get2 = accessor.get(ILanguageFeaturesService), renameProvider = _accessor$get2.renameProvider;\n          skeleton = new RenameSkeleton(model, position, renameProvider);\n          _context6.next = 4;\n          return skeleton.resolveRenameLocation(CancellationToken.None);\n        case 4:\n          loc = _context6.sent;\n          if (!(loc === null || loc === void 0 ? void 0 : loc.rejectReason)) {\n            _context6.next = 7;\n            break;\n          }\n          throw new Error(loc.rejectReason);\n        case 7:\n          return _context6.abrupt(\"return\", loc);\n        case 8:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function (_x13, _x14, _x15) {\n    return _ref4.apply(this, arguments);\n  };\n}());\n//todo@jrieken use editor options world\nRegistry.as(Extensions.Configuration).registerConfiguration({\n  id: 'editor',\n  properties: {\n    'editor.rename.enablePreview': {\n      scope: 5 /* ConfigurationScope.LANGUAGE_OVERRIDABLE */,\n      description: nls.localize('enablePreview', \"Enable/disable the ability to preview changes before renaming\"),\n      \"default\": true,\n      type: 'boolean'\n    }\n  }\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","_typeof","decorate","i","defineProperty","__param","paramIndex","decorator","RenameController_1","alert","raceCancellation","CancellationToken","CancellationTokenSource","CancellationError","onUnexpectedError","isMarkdownString","DisposableStore","assertType","URI","EditorAction","EditorCommand","registerEditorAction","registerEditorCommand","registerEditorContribution","registerModelAndPositionCommand","IBulkEditService","ICodeEditorService","Position","Range","EditorContextKeys","ILanguageFeaturesService","ITextResourceConfigurationService","EditorStateCancellationTokenSource","MessageController","nls","Action2","registerAction2","Extensions","ContextKeyExpr","IInstantiationService","ILogService","INotificationService","IEditorProgressService","Registry","ITelemetryService","CONTEXT_RENAME_INPUT_VISIBLE","RenameWidget","RenameSkeleton","model","position","registry","_classCallCheck","_providerRenameIdx","_providers","ordered","_createClass","value","hasProvider","_resolveRenameLocation","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","rejects","provider","res","word","wrap","_callee$","_context","prev","next","resolveRenameLocation","abrupt","sent","rejectReason","push","getWordAtPosition","range","fromPositions","text","join","undefined","lineNumber","startColumn","endColumn","stop","_x","apply","_provideRenameEdits2","_callee2","newName","_callee2$","_context2","_provideRenameEdits","provideRenameEdits","_x2","_x3","_provideRenameEdits3","_callee3","result","_callee3$","_context3","edits","concat","localize","_x4","_x5","_x6","_x7","rename","_x8","_x9","_x10","_x11","_rename","_callee7","skeleton","loc","_callee7$","_context7","None","RenameController","editor","_instaService","_notificationService","_bulkEditService","_progressService","_logService","_configService","_languageFeaturesService","_telemetryService","_disposableStore","_cts","_renameWidget","add","createInstance","dispose","_run","_callee5","_this","_a","_b","trace","cts1","resolveLocationOperation","cts2","newSymbolNamesProviders","requestRenameSuggestions","supportPreview","inputFieldResult","renameOperation","_callee5$","_context5","bind","hasModel","getPosition","getModel","renameProvider","showWhile","t0","JSON","stringify","Error","get","showMessage","finish","isCancellationRequested","newSymbolNamesProvider","all","cts","map","p","provideNewSymbolNames","hasPreviewHandler","getValue","uri","getInput","_reportTelemetry","getLanguageId","focus","then","_ref","_callee4","renameResult","_callee4$","_context4","info","setSelection","getSelection","showPreview","wantsPreview","label","code","quotableLabel","respectAutoSaveConfig","ariaSummary","err","error","_x12","run","acceptRenameInput","acceptInput","cancelRenameInput","cancelInput","focusNextRenameSuggestion","focusPreviousRenameSuggestion","nRenameSuggestionProviders","languageId","kind","source","stats","k","nRenameSuggestions","timeBeforeFirstInputFieldEdit","publicLog2","getContribution","ID","RenameAction","_EditorAction","_callSuper","id","alias","precondition","and","writable","hasRenameProvider","kbOpts","kbExpr","editorTextFocus","primary","weight","contextMenuOpts","group","order","_inherits","runCommand","accessor","args","_this2","editorService","_ref2","Array","isArray","_ref3","_slicedToArray","pos","isUri","isIPosition","openCodeEditor","resource","getActiveCodeEditor","setPosition","invokeWithinContext","reportTelemetry","_get","_getPrototypeOf","prototype","call","logService","controller","Promise","resolve","RenameCommand","bindToContribution","handler","x","not","has","secondary","_Action","FocusNextRenameSuggestion","title","_objectSpread","localize2","keybinding","currentEditor","getFocusedCodeEditor","_Action2","FocusPreviousRenameSuggestion","_len","_key","_accessor$get","_ref4","_callee6","_accessor$get2","_callee6$","_context6","_x13","_x14","_x15","as","Configuration","registerConfiguration","properties","scope","description","type"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/rename/browser/rename.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar RenameController_1;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { raceCancellation } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { CancellationError, onUnexpectedError } from '../../../../base/common/errors.js';\nimport { isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { IBulkEditService } from '../../../browser/services/bulkEditService.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextResourceConfigurationService } from '../../../common/services/textResourceConfiguration.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { Extensions } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { CONTEXT_RENAME_INPUT_VISIBLE, RenameWidget } from './renameWidget.js';\nclass RenameSkeleton {\n    constructor(model, position, registry) {\n        this.model = model;\n        this.position = position;\n        this._providerRenameIdx = 0;\n        this._providers = registry.ordered(model);\n    }\n    hasProvider() {\n        return this._providers.length > 0;\n    }\n    async resolveRenameLocation(token) {\n        const rejects = [];\n        for (this._providerRenameIdx = 0; this._providerRenameIdx < this._providers.length; this._providerRenameIdx++) {\n            const provider = this._providers[this._providerRenameIdx];\n            if (!provider.resolveRenameLocation) {\n                break;\n            }\n            const res = await provider.resolveRenameLocation(this.model, this.position, token);\n            if (!res) {\n                continue;\n            }\n            if (res.rejectReason) {\n                rejects.push(res.rejectReason);\n                continue;\n            }\n            return res;\n        }\n        // we are here when no provider prepared a location which means we can\n        // just rely on the word under cursor and start with the first provider\n        this._providerRenameIdx = 0;\n        const word = this.model.getWordAtPosition(this.position);\n        if (!word) {\n            return {\n                range: Range.fromPositions(this.position),\n                text: '',\n                rejectReason: rejects.length > 0 ? rejects.join('\\n') : undefined\n            };\n        }\n        return {\n            range: new Range(this.position.lineNumber, word.startColumn, this.position.lineNumber, word.endColumn),\n            text: word.word,\n            rejectReason: rejects.length > 0 ? rejects.join('\\n') : undefined\n        };\n    }\n    async provideRenameEdits(newName, token) {\n        return this._provideRenameEdits(newName, this._providerRenameIdx, [], token);\n    }\n    async _provideRenameEdits(newName, i, rejects, token) {\n        const provider = this._providers[i];\n        if (!provider) {\n            return {\n                edits: [],\n                rejectReason: rejects.join('\\n')\n            };\n        }\n        const result = await provider.provideRenameEdits(this.model, this.position, newName, token);\n        if (!result) {\n            return this._provideRenameEdits(newName, i + 1, rejects.concat(nls.localize('no result', \"No result.\")), token);\n        }\n        else if (result.rejectReason) {\n            return this._provideRenameEdits(newName, i + 1, rejects.concat(result.rejectReason), token);\n        }\n        return result;\n    }\n}\nexport async function rename(registry, model, position, newName) {\n    const skeleton = new RenameSkeleton(model, position, registry);\n    const loc = await skeleton.resolveRenameLocation(CancellationToken.None);\n    if (loc === null || loc === void 0 ? void 0 : loc.rejectReason) {\n        return { edits: [], rejectReason: loc.rejectReason };\n    }\n    return skeleton.provideRenameEdits(newName, CancellationToken.None);\n}\n// ---  register actions and commands\nlet RenameController = RenameController_1 = class RenameController {\n    static get(editor) {\n        return editor.getContribution(RenameController_1.ID);\n    }\n    constructor(editor, _instaService, _notificationService, _bulkEditService, _progressService, _logService, _configService, _languageFeaturesService, _telemetryService) {\n        this.editor = editor;\n        this._instaService = _instaService;\n        this._notificationService = _notificationService;\n        this._bulkEditService = _bulkEditService;\n        this._progressService = _progressService;\n        this._logService = _logService;\n        this._configService = _configService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._telemetryService = _telemetryService;\n        this._disposableStore = new DisposableStore();\n        this._cts = new CancellationTokenSource();\n        this._renameWidget = this._disposableStore.add(this._instaService.createInstance(RenameWidget, this.editor, ['acceptRenameInput', 'acceptRenameInputWithPreview']));\n    }\n    dispose() {\n        this._disposableStore.dispose();\n        this._cts.dispose(true);\n    }\n    async run() {\n        var _a, _b;\n        const trace = this._logService.trace.bind(this._logService, '[rename]');\n        // set up cancellation token to prevent reentrant rename, this\n        // is the parent to the resolve- and rename-tokens\n        this._cts.dispose(true);\n        this._cts = new CancellationTokenSource();\n        if (!this.editor.hasModel()) {\n            trace('editor has no model');\n            return undefined;\n        }\n        const position = this.editor.getPosition();\n        const skeleton = new RenameSkeleton(this.editor.getModel(), position, this._languageFeaturesService.renameProvider);\n        if (!skeleton.hasProvider()) {\n            trace('skeleton has no provider');\n            return undefined;\n        }\n        // part 1 - resolve rename location\n        const cts1 = new EditorStateCancellationTokenSource(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */, undefined, this._cts.token);\n        let loc;\n        try {\n            trace('resolving rename location');\n            const resolveLocationOperation = skeleton.resolveRenameLocation(cts1.token);\n            this._progressService.showWhile(resolveLocationOperation, 250);\n            loc = await resolveLocationOperation;\n            trace('resolved rename location');\n        }\n        catch (e) {\n            if (e instanceof CancellationError) {\n                trace('resolve rename location cancelled', JSON.stringify(e, null, '\\t'));\n            }\n            else {\n                trace('resolve rename location failed', e instanceof Error ? e : JSON.stringify(e, null, '\\t'));\n                if (typeof e === 'string' || isMarkdownString(e)) {\n                    (_a = MessageController.get(this.editor)) === null || _a === void 0 ? void 0 : _a.showMessage(e || nls.localize('resolveRenameLocationFailed', \"An unknown error occurred while resolving rename location\"), position);\n                }\n            }\n            return undefined;\n        }\n        finally {\n            cts1.dispose();\n        }\n        if (!loc) {\n            trace('returning early - no loc');\n            return undefined;\n        }\n        if (loc.rejectReason) {\n            trace(`returning early - rejected with reason: ${loc.rejectReason}`, loc.rejectReason);\n            (_b = MessageController.get(this.editor)) === null || _b === void 0 ? void 0 : _b.showMessage(loc.rejectReason, position);\n            return undefined;\n        }\n        if (cts1.token.isCancellationRequested) {\n            trace('returning early - cts1 cancelled');\n            return undefined;\n        }\n        // part 2 - do rename at location\n        const cts2 = new EditorStateCancellationTokenSource(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */, loc.range, this._cts.token);\n        const model = this.editor.getModel(); // @ulugbekna: assumes editor still has a model, otherwise, cts1 should've been cancelled\n        const newSymbolNamesProviders = this._languageFeaturesService.newSymbolNamesProvider.all(model);\n        const requestRenameSuggestions = (cts) => newSymbolNamesProviders.map(p => p.provideNewSymbolNames(model, loc.range, cts));\n        trace('creating rename input field and awaiting its result');\n        const supportPreview = this._bulkEditService.hasPreviewHandler() && this._configService.getValue(this.editor.getModel().uri, 'editor.rename.enablePreview');\n        const inputFieldResult = await this._renameWidget.getInput(loc.range, loc.text, supportPreview, requestRenameSuggestions, cts2);\n        trace('received response from rename input field');\n        if (newSymbolNamesProviders.length > 0) { // @ulugbekna: we're interested only in telemetry for rename suggestions currently\n            this._reportTelemetry(newSymbolNamesProviders.length, model.getLanguageId(), inputFieldResult);\n        }\n        // no result, only hint to focus the editor or not\n        if (typeof inputFieldResult === 'boolean') {\n            trace(`returning early - rename input field response - ${inputFieldResult}`);\n            if (inputFieldResult) {\n                this.editor.focus();\n            }\n            cts2.dispose();\n            return undefined;\n        }\n        this.editor.focus();\n        trace('requesting rename edits');\n        const renameOperation = raceCancellation(skeleton.provideRenameEdits(inputFieldResult.newName, cts2.token), cts2.token).then(async (renameResult) => {\n            if (!renameResult) {\n                trace('returning early - no rename edits result');\n                return;\n            }\n            if (!this.editor.hasModel()) {\n                trace('returning early - no model after rename edits are provided');\n                return;\n            }\n            if (renameResult.rejectReason) {\n                trace(`returning early - rejected with reason: ${renameResult.rejectReason}`);\n                this._notificationService.info(renameResult.rejectReason);\n                return;\n            }\n            // collapse selection to active end\n            this.editor.setSelection(Range.fromPositions(this.editor.getSelection().getPosition()));\n            trace('applying edits');\n            this._bulkEditService.apply(renameResult, {\n                editor: this.editor,\n                showPreview: inputFieldResult.wantsPreview,\n                label: nls.localize('label', \"Renaming '{0}' to '{1}'\", loc === null || loc === void 0 ? void 0 : loc.text, inputFieldResult.newName),\n                code: 'undoredo.rename',\n                quotableLabel: nls.localize('quotableLabel', \"Renaming {0} to {1}\", loc === null || loc === void 0 ? void 0 : loc.text, inputFieldResult.newName),\n                respectAutoSaveConfig: true\n            }).then(result => {\n                trace('edits applied');\n                if (result.ariaSummary) {\n                    alert(nls.localize('aria', \"Successfully renamed '{0}' to '{1}'. Summary: {2}\", loc.text, inputFieldResult.newName, result.ariaSummary));\n                }\n            }).catch(err => {\n                trace(`error when applying edits ${JSON.stringify(err, null, '\\t')}`);\n                this._notificationService.error(nls.localize('rename.failedApply', \"Rename failed to apply edits\"));\n                this._logService.error(err);\n            });\n        }, err => {\n            trace('error when providing rename edits', JSON.stringify(err, null, '\\t'));\n            this._notificationService.error(nls.localize('rename.failed', \"Rename failed to compute edits\"));\n            this._logService.error(err);\n        }).finally(() => {\n            cts2.dispose();\n        });\n        trace('returning rename operation');\n        this._progressService.showWhile(renameOperation, 250);\n        return renameOperation;\n    }\n    acceptRenameInput(wantsPreview) {\n        this._renameWidget.acceptInput(wantsPreview);\n    }\n    cancelRenameInput() {\n        this._renameWidget.cancelInput(true, 'cancelRenameInput command');\n    }\n    focusNextRenameSuggestion() {\n        this._renameWidget.focusNextRenameSuggestion();\n    }\n    focusPreviousRenameSuggestion() {\n        this._renameWidget.focusPreviousRenameSuggestion();\n    }\n    _reportTelemetry(nRenameSuggestionProviders, languageId, inputFieldResult) {\n        const value = typeof inputFieldResult === 'boolean'\n            ? {\n                kind: 'cancelled',\n                languageId,\n                nRenameSuggestionProviders,\n            }\n            : {\n                kind: 'accepted',\n                languageId,\n                nRenameSuggestionProviders,\n                source: inputFieldResult.stats.source.k,\n                nRenameSuggestions: inputFieldResult.stats.nRenameSuggestions,\n                timeBeforeFirstInputFieldEdit: inputFieldResult.stats.timeBeforeFirstInputFieldEdit,\n                wantsPreview: inputFieldResult.wantsPreview,\n            };\n        this._telemetryService.publicLog2('renameInvokedEvent', value);\n    }\n};\nRenameController.ID = 'editor.contrib.renameController';\nRenameController = RenameController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, INotificationService),\n    __param(3, IBulkEditService),\n    __param(4, IEditorProgressService),\n    __param(5, ILogService),\n    __param(6, ITextResourceConfigurationService),\n    __param(7, ILanguageFeaturesService),\n    __param(8, ITelemetryService)\n], RenameController);\n// ---- action implementation\nexport class RenameAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.rename',\n            label: nls.localize('rename.label', \"Rename Symbol\"),\n            alias: 'Rename Symbol',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 60 /* KeyCode.F2 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: '1_modification',\n                order: 1.1\n            }\n        });\n    }\n    runCommand(accessor, args) {\n        const editorService = accessor.get(ICodeEditorService);\n        const [uri, pos] = Array.isArray(args) && args || [undefined, undefined];\n        if (URI.isUri(uri) && Position.isIPosition(pos)) {\n            return editorService.openCodeEditor({ resource: uri }, editorService.getActiveCodeEditor()).then(editor => {\n                if (!editor) {\n                    return;\n                }\n                editor.setPosition(pos);\n                editor.invokeWithinContext(accessor => {\n                    this.reportTelemetry(accessor, editor);\n                    return this.run(accessor, editor);\n                });\n            }, onUnexpectedError);\n        }\n        return super.runCommand(accessor, args);\n    }\n    run(accessor, editor) {\n        const logService = accessor.get(ILogService);\n        const controller = RenameController.get(editor);\n        if (controller) {\n            logService.trace('[RenameAction] got controller, running...');\n            return controller.run();\n        }\n        logService.trace('[RenameAction] returning early - controller missing');\n        return Promise.resolve();\n    }\n}\nregisterEditorContribution(RenameController.ID, RenameController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(RenameAction);\nconst RenameCommand = EditorCommand.bindToContribution(RenameController.get);\nregisterEditorCommand(new RenameCommand({\n    id: 'acceptRenameInput',\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n    handler: x => x.acceptRenameInput(false),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n        primary: 3 /* KeyCode.Enter */\n    }\n}));\nregisterEditorCommand(new RenameCommand({\n    id: 'acceptRenameInputWithPreview',\n    precondition: ContextKeyExpr.and(CONTEXT_RENAME_INPUT_VISIBLE, ContextKeyExpr.has('config.editor.rename.enablePreview')),\n    handler: x => x.acceptRenameInput(true),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n        primary: 2048 /* KeyMod.CtrlCmd */ + 3 /* KeyCode.Enter */\n    }\n}));\nregisterEditorCommand(new RenameCommand({\n    id: 'cancelRenameInput',\n    precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n    handler: x => x.cancelRenameInput(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nregisterAction2(class FocusNextRenameSuggestion extends Action2 {\n    constructor() {\n        super({\n            id: 'focusNextRenameSuggestion',\n            title: {\n                ...nls.localize2('focusNextRenameSuggestion', \"Focus Next Rename Suggestion\"),\n            },\n            precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n            keybinding: [\n                {\n                    primary: 2 /* KeyCode.Tab */,\n                    secondary: [18 /* KeyCode.DownArrow */],\n                    weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n                }\n            ]\n        });\n    }\n    run(accessor) {\n        const currentEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n        if (!currentEditor) {\n            return;\n        }\n        const controller = RenameController.get(currentEditor);\n        if (!controller) {\n            return;\n        }\n        controller.focusNextRenameSuggestion();\n    }\n});\nregisterAction2(class FocusPreviousRenameSuggestion extends Action2 {\n    constructor() {\n        super({\n            id: 'focusPreviousRenameSuggestion',\n            title: {\n                ...nls.localize2('focusPreviousRenameSuggestion', \"Focus Previous Rename Suggestion\"),\n            },\n            precondition: CONTEXT_RENAME_INPUT_VISIBLE,\n            keybinding: [\n                {\n                    primary: 1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */,\n                    secondary: [16 /* KeyCode.UpArrow */],\n                    weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n                }\n            ]\n        });\n    }\n    run(accessor) {\n        const currentEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n        if (!currentEditor) {\n            return;\n        }\n        const controller = RenameController.get(currentEditor);\n        if (!controller) {\n            return;\n        }\n        controller.focusPreviousRenameSuggestion();\n    }\n});\n// ---- api bridge command\nregisterModelAndPositionCommand('_executeDocumentRenameProvider', function (accessor, model, position, ...args) {\n    const [newName] = args;\n    assertType(typeof newName === 'string');\n    const { renameProvider } = accessor.get(ILanguageFeaturesService);\n    return rename(renameProvider, model, position, newName);\n});\nregisterModelAndPositionCommand('_executePrepareRename', async function (accessor, model, position) {\n    const { renameProvider } = accessor.get(ILanguageFeaturesService);\n    const skeleton = new RenameSkeleton(model, position, renameProvider);\n    const loc = await skeleton.resolveRenameLocation(CancellationToken.None);\n    if (loc === null || loc === void 0 ? void 0 : loc.rejectReason) {\n        throw new Error(loc.rejectReason);\n    }\n    return loc;\n});\n//todo@jrieken use editor options world\nRegistry.as(Extensions.Configuration).registerConfiguration({\n    id: 'editor',\n    properties: {\n        'editor.rename.enablePreview': {\n            scope: 5 /* ConfigurationScope.LANGUAGE_OVERRIDABLE */,\n            description: nls.localize('enablePreview', \"Enable/disable the ability to preview changes before renaming\"),\n            default: true,\n            type: 'boolean'\n        }\n    }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}