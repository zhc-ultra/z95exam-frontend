{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"/Users/yinger/Desktop/algo_evaluator_front/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport './bracketMatching.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', {\n  dark: '#A0A0A0',\n  light: '#A0A0A0',\n  hcDark: '#A0A0A0',\n  hcLight: '#A0A0A0'\n}, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\nvar JumpToBracketAction = /*#__PURE__*/function (_EditorAction) {\n  function JumpToBracketAction() {\n    _classCallCheck(this, JumpToBracketAction);\n    return _callSuper(this, JumpToBracketAction, [{\n      id: 'editor.action.jumpToBracket',\n      label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\n      alias: 'Go to Bracket',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 93 /* KeyCode.Backslash */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    }]);\n  }\n  _inherits(JumpToBracketAction, _EditorAction);\n  return _createClass(JumpToBracketAction, [{\n    key: \"run\",\n    value: function run(accessor, editor) {\n      var _a;\n      (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.jumpToBracket();\n    }\n  }]);\n}(EditorAction);\nvar SelectToBracketAction = /*#__PURE__*/function (_EditorAction2) {\n  function SelectToBracketAction() {\n    _classCallCheck(this, SelectToBracketAction);\n    return _callSuper(this, SelectToBracketAction, [{\n      id: 'editor.action.selectToBracket',\n      label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\n      alias: 'Select to Bracket',\n      precondition: undefined,\n      metadata: {\n        description: nls.localize2('smartSelect.selectToBracketDescription', \"Select the text inside and including the brackets or curly braces\"),\n        args: [{\n          name: 'args',\n          schema: {\n            type: 'object',\n            properties: {\n              'selectBrackets': {\n                type: 'boolean',\n                \"default\": true\n              }\n            }\n          }\n        }]\n      }\n    }]);\n  }\n  _inherits(SelectToBracketAction, _EditorAction2);\n  return _createClass(SelectToBracketAction, [{\n    key: \"run\",\n    value: function run(accessor, editor, args) {\n      var _a;\n      var selectBrackets = true;\n      if (args && args.selectBrackets === false) {\n        selectBrackets = false;\n      }\n      (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.selectToBracket(selectBrackets);\n    }\n  }]);\n}(EditorAction);\nvar RemoveBracketsAction = /*#__PURE__*/function (_EditorAction3) {\n  function RemoveBracketsAction() {\n    _classCallCheck(this, RemoveBracketsAction);\n    return _callSuper(this, RemoveBracketsAction, [{\n      id: 'editor.action.removeBrackets',\n      label: nls.localize('smartSelect.removeBrackets', \"Remove Brackets\"),\n      alias: 'Remove Brackets',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    }]);\n  }\n  _inherits(RemoveBracketsAction, _EditorAction3);\n  return _createClass(RemoveBracketsAction, [{\n    key: \"run\",\n    value: function run(accessor, editor) {\n      var _a;\n      (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.removeBrackets(this.id);\n    }\n  }]);\n}(EditorAction);\nvar BracketsData = /*#__PURE__*/_createClass(function BracketsData(position, brackets, options) {\n  _classCallCheck(this, BracketsData);\n  this.position = position;\n  this.brackets = brackets;\n  this.options = options;\n});\nexport var BracketMatchingController = /*#__PURE__*/function (_Disposable) {\n  function BracketMatchingController(editor) {\n    var _this;\n    _classCallCheck(this, BracketMatchingController);\n    _this = _callSuper(this, BracketMatchingController);\n    _this._editor = editor;\n    _this._lastBracketsData = [];\n    _this._lastVersionId = 0;\n    _this._decorations = _this._editor.createDecorationsCollection();\n    _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () {\n      return _this._updateBrackets();\n    }, 50));\n    _this._matchBrackets = _this._editor.getOption(72 /* EditorOption.matchBrackets */);\n    _this._updateBracketsSoon.schedule();\n    _this._register(editor.onDidChangeCursorPosition(function (e) {\n      if (_this._matchBrackets === 'never') {\n        // Early exit if nothing needs to be done!\n        // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n        return;\n      }\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModelContent(function (e) {\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModel(function (e) {\n      _this._lastBracketsData = [];\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\n      _this._lastBracketsData = [];\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidChangeConfiguration(function (e) {\n      if (e.hasChanged(72 /* EditorOption.matchBrackets */)) {\n        _this._matchBrackets = _this._editor.getOption(72 /* EditorOption.matchBrackets */);\n        _this._decorations.clear();\n        _this._lastBracketsData = [];\n        _this._lastVersionId = 0;\n        _this._updateBracketsSoon.schedule();\n      }\n    }));\n    _this._register(editor.onDidBlurEditorWidget(function () {\n      _this._updateBracketsSoon.schedule();\n    }));\n    _this._register(editor.onDidFocusEditorWidget(function () {\n      _this._updateBracketsSoon.schedule();\n    }));\n    return _this;\n  }\n  _inherits(BracketMatchingController, _Disposable);\n  return _createClass(BracketMatchingController, [{\n    key: \"jumpToBracket\",\n    value: function jumpToBracket() {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      var model = this._editor.getModel();\n      var newSelections = this._editor.getSelections().map(function (selection) {\n        var position = selection.getStartPosition();\n        // find matching brackets if position is on a bracket\n        var brackets = model.bracketPairs.matchBracket(position);\n        var newCursorPosition = null;\n        if (brackets) {\n          if (brackets[0].containsPosition(position) && !brackets[1].containsPosition(position)) {\n            newCursorPosition = brackets[1].getStartPosition();\n          } else if (brackets[1].containsPosition(position)) {\n            newCursorPosition = brackets[0].getStartPosition();\n          }\n        } else {\n          // find the enclosing brackets if the position isn't on a matching bracket\n          var enclosingBrackets = model.bracketPairs.findEnclosingBrackets(position);\n          if (enclosingBrackets) {\n            newCursorPosition = enclosingBrackets[1].getStartPosition();\n          } else {\n            // no enclosing brackets, try the very first next bracket\n            var nextBracket = model.bracketPairs.findNextBracket(position);\n            if (nextBracket && nextBracket.range) {\n              newCursorPosition = nextBracket.range.getStartPosition();\n            }\n          }\n        }\n        if (newCursorPosition) {\n          return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n        }\n        return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\n      });\n      this._editor.setSelections(newSelections);\n      this._editor.revealRange(newSelections[0]);\n    }\n  }, {\n    key: \"selectToBracket\",\n    value: function selectToBracket(selectBrackets) {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      var model = this._editor.getModel();\n      var newSelections = [];\n      this._editor.getSelections().forEach(function (selection) {\n        var position = selection.getStartPosition();\n        var brackets = model.bracketPairs.matchBracket(position);\n        if (!brackets) {\n          brackets = model.bracketPairs.findEnclosingBrackets(position);\n          if (!brackets) {\n            var nextBracket = model.bracketPairs.findNextBracket(position);\n            if (nextBracket && nextBracket.range) {\n              brackets = model.bracketPairs.matchBracket(nextBracket.range.getStartPosition());\n            }\n          }\n        }\n        var selectFrom = null;\n        var selectTo = null;\n        if (brackets) {\n          brackets.sort(Range.compareRangesUsingStarts);\n          var _brackets = brackets,\n            _brackets2 = _slicedToArray(_brackets, 2),\n            open = _brackets2[0],\n            close = _brackets2[1];\n          selectFrom = selectBrackets ? open.getStartPosition() : open.getEndPosition();\n          selectTo = selectBrackets ? close.getEndPosition() : close.getStartPosition();\n          if (close.containsPosition(position)) {\n            // select backwards if the cursor was on the closing bracket\n            var tmp = selectFrom;\n            selectFrom = selectTo;\n            selectTo = tmp;\n          }\n        }\n        if (selectFrom && selectTo) {\n          newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\n        }\n      });\n      if (newSelections.length > 0) {\n        this._editor.setSelections(newSelections);\n        this._editor.revealRange(newSelections[0]);\n      }\n    }\n  }, {\n    key: \"removeBrackets\",\n    value: function removeBrackets(editSource) {\n      var _this2 = this;\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      var model = this._editor.getModel();\n      this._editor.getSelections().forEach(function (selection) {\n        var position = selection.getPosition();\n        var brackets = model.bracketPairs.matchBracket(position);\n        if (!brackets) {\n          brackets = model.bracketPairs.findEnclosingBrackets(position);\n        }\n        if (brackets) {\n          _this2._editor.pushUndoStop();\n          _this2._editor.executeEdits(editSource, [{\n            range: brackets[0],\n            text: ''\n          }, {\n            range: brackets[1],\n            text: ''\n          }]);\n          _this2._editor.pushUndoStop();\n        }\n      });\n    }\n  }, {\n    key: \"_updateBrackets\",\n    value: function _updateBrackets() {\n      if (this._matchBrackets === 'never') {\n        return;\n      }\n      this._recomputeBrackets();\n      var newDecorations = [];\n      var newDecorationsLen = 0;\n      var _iterator = _createForOfIteratorHelper(this._lastBracketsData),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var bracketData = _step.value;\n          var brackets = bracketData.brackets;\n          if (brackets) {\n            newDecorations[newDecorationsLen++] = {\n              range: brackets[0],\n              options: bracketData.options\n            };\n            newDecorations[newDecorationsLen++] = {\n              range: brackets[1],\n              options: bracketData.options\n            };\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this._decorations.set(newDecorations);\n    }\n  }, {\n    key: \"_recomputeBrackets\",\n    value: function _recomputeBrackets() {\n      if (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {\n        // no model or no focus => no brackets!\n        this._lastBracketsData = [];\n        this._lastVersionId = 0;\n        return;\n      }\n      var selections = this._editor.getSelections();\n      if (selections.length > 100) {\n        // no bracket matching for high numbers of selections\n        this._lastBracketsData = [];\n        this._lastVersionId = 0;\n        return;\n      }\n      var model = this._editor.getModel();\n      var versionId = model.getVersionId();\n      var previousData = [];\n      if (this._lastVersionId === versionId) {\n        // use the previous data only if the model is at the same version id\n        previousData = this._lastBracketsData;\n      }\n      var positions = [];\n      var positionsLen = 0;\n      for (var i = 0, len = selections.length; i < len; i++) {\n        var selection = selections[i];\n        if (selection.isEmpty()) {\n          // will bracket match a cursor only if the selection is collapsed\n          positions[positionsLen++] = selection.getStartPosition();\n        }\n      }\n      // sort positions for `previousData` cache hits\n      if (positions.length > 1) {\n        positions.sort(Position.compare);\n      }\n      var newData = [];\n      var newDataLen = 0;\n      var previousIndex = 0;\n      var previousLen = previousData.length;\n      for (var _i = 0, _len = positions.length; _i < _len; _i++) {\n        var position = positions[_i];\n        while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\n          previousIndex++;\n        }\n        if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\n          newData[newDataLen++] = previousData[previousIndex];\n        } else {\n          var brackets = model.bracketPairs.matchBracket(position, 20 /* give at most 20ms to compute */);\n          var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\n          if (!brackets && this._matchBrackets === 'always') {\n            brackets = model.bracketPairs.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\n            options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\n          }\n          newData[newDataLen++] = new BracketsData(position, brackets, options);\n        }\n      }\n      this._lastBracketsData = newData;\n      this._lastVersionId = versionId;\n    }\n  }], [{\n    key: \"get\",\n    value: function get(editor) {\n      return editor.getContribution(BracketMatchingController.ID);\n    }\n  }]);\n}(Disposable);\nBracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\nBracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\n  description: 'bracket-match-overview',\n  stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n  className: 'bracket-match',\n  overviewRuler: {\n    color: themeColorFromId(overviewRulerBracketMatchForeground),\n    position: OverviewRulerLane.Center\n  }\n});\nBracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\n  description: 'bracket-match-no-overview',\n  stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n  className: 'bracket-match'\n});\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(SelectToBracketAction);\nregisterEditorAction(JumpToBracketAction);\nregisterEditorAction(RemoveBracketsAction);\n// Go to menu\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n  group: '5_infile_nav',\n  command: {\n    id: 'editor.action.jumpToBracket',\n    title: nls.localize({\n      key: 'miGoToBracket',\n      comment: ['&& denotes a mnemonic']\n    }, \"Go to &&Bracket\")\n  },\n  order: 2\n});","map":{"version":3,"names":["RunOnceScheduler","Disposable","EditorAction","registerEditorAction","registerEditorContribution","Position","Range","Selection","EditorContextKeys","OverviewRulerLane","ModelDecorationOptions","nls","MenuId","MenuRegistry","registerColor","themeColorFromId","overviewRulerBracketMatchForeground","dark","light","hcDark","hcLight","localize","JumpToBracketAction","_EditorAction","_classCallCheck","_callSuper","id","label","alias","precondition","undefined","kbOpts","kbExpr","editorTextFocus","primary","weight","_inherits","_createClass","key","value","run","accessor","editor","_a","BracketMatchingController","get","jumpToBracket","SelectToBracketAction","_EditorAction2","metadata","description","localize2","args","name","schema","type","properties","selectBrackets","selectToBracket","RemoveBracketsAction","_EditorAction3","removeBrackets","BracketsData","position","brackets","options","_Disposable","_this","_editor","_lastBracketsData","_lastVersionId","_decorations","createDecorationsCollection","_updateBracketsSoon","_register","_updateBrackets","_matchBrackets","getOption","schedule","onDidChangeCursorPosition","e","onDidChangeModelContent","onDidChangeModel","onDidChangeModelLanguageConfiguration","onDidChangeConfiguration","hasChanged","clear","onDidBlurEditorWidget","onDidFocusEditorWidget","hasModel","model","getModel","newSelections","getSelections","map","selection","getStartPosition","bracketPairs","matchBracket","newCursorPosition","containsPosition","enclosingBrackets","findEnclosingBrackets","nextBracket","findNextBracket","range","lineNumber","column","setSelections","revealRange","forEach","selectFrom","selectTo","sort","compareRangesUsingStarts","_brackets","_brackets2","_slicedToArray","open","close","getEndPosition","tmp","push","length","editSource","_this2","getPosition","pushUndoStop","executeEdits","text","_recomputeBrackets","newDecorations","newDecorationsLen","_iterator","_createForOfIteratorHelper","_step","s","n","done","bracketData","err","f","set","hasWidgetFocus","selections","versionId","getVersionId","previousData","positions","positionsLen","i","len","isEmpty","compare","newData","newDataLen","previousIndex","previousLen","isBefore","equals","_DECORATION_OPTIONS_WITH_OVERVIEW_RULER","_DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER","getContribution","ID","register","stickiness","className","overviewRuler","color","Center","appendMenuItem","MenubarGoMenu","group","command","title","comment","order"],"sources":["/Users/yinger/Desktop/algo_evaluator_front/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/browser/bracketMatching.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport './bracketMatching.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hcDark: '#A0A0A0', hcLight: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\nclass JumpToBracketAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.jumpToBracket',\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\n            alias: 'Go to Bracket',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 93 /* KeyCode.Backslash */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        var _a;\n        (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.jumpToBracket();\n    }\n}\nclass SelectToBracketAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectToBracket',\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\n            alias: 'Select to Bracket',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('smartSelect.selectToBracketDescription', \"Select the text inside and including the brackets or curly braces\"),\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'selectBrackets': {\n                                    type: 'boolean',\n                                    default: true\n                                }\n                            },\n                        }\n                    }]\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        var _a;\n        let selectBrackets = true;\n        if (args && args.selectBrackets === false) {\n            selectBrackets = false;\n        }\n        (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.selectToBracket(selectBrackets);\n    }\n}\nclass RemoveBracketsAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.removeBrackets',\n            label: nls.localize('smartSelect.removeBrackets', \"Remove Brackets\"),\n            alias: 'Remove Brackets',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        var _a;\n        (_a = BracketMatchingController.get(editor)) === null || _a === void 0 ? void 0 : _a.removeBrackets(this.id);\n    }\n}\nclass BracketsData {\n    constructor(position, brackets, options) {\n        this.position = position;\n        this.brackets = brackets;\n        this.options = options;\n    }\n}\nexport class BracketMatchingController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(BracketMatchingController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._lastBracketsData = [];\n        this._lastVersionId = 0;\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateBracketsSoon = this._register(new RunOnceScheduler(() => this._updateBrackets(), 50));\n        this._matchBrackets = this._editor.getOption(72 /* EditorOption.matchBrackets */);\n        this._updateBracketsSoon.schedule();\n        this._register(editor.onDidChangeCursorPosition((e) => {\n            if (this._matchBrackets === 'never') {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this._lastBracketsData = [];\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModelLanguageConfiguration((e) => {\n            this._lastBracketsData = [];\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(72 /* EditorOption.matchBrackets */)) {\n                this._matchBrackets = this._editor.getOption(72 /* EditorOption.matchBrackets */);\n                this._decorations.clear();\n                this._lastBracketsData = [];\n                this._lastVersionId = 0;\n                this._updateBracketsSoon.schedule();\n            }\n        }));\n        this._register(editor.onDidBlurEditorWidget(() => {\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidFocusEditorWidget(() => {\n            this._updateBracketsSoon.schedule();\n        }));\n    }\n    jumpToBracket() {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const newSelections = this._editor.getSelections().map(selection => {\n            const position = selection.getStartPosition();\n            // find matching brackets if position is on a bracket\n            const brackets = model.bracketPairs.matchBracket(position);\n            let newCursorPosition = null;\n            if (brackets) {\n                if (brackets[0].containsPosition(position) && !brackets[1].containsPosition(position)) {\n                    newCursorPosition = brackets[1].getStartPosition();\n                }\n                else if (brackets[1].containsPosition(position)) {\n                    newCursorPosition = brackets[0].getStartPosition();\n                }\n            }\n            else {\n                // find the enclosing brackets if the position isn't on a matching bracket\n                const enclosingBrackets = model.bracketPairs.findEnclosingBrackets(position);\n                if (enclosingBrackets) {\n                    newCursorPosition = enclosingBrackets[1].getStartPosition();\n                }\n                else {\n                    // no enclosing brackets, try the very first next bracket\n                    const nextBracket = model.bracketPairs.findNextBracket(position);\n                    if (nextBracket && nextBracket.range) {\n                        newCursorPosition = nextBracket.range.getStartPosition();\n                    }\n                }\n            }\n            if (newCursorPosition) {\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n            }\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\n        });\n        this._editor.setSelections(newSelections);\n        this._editor.revealRange(newSelections[0]);\n    }\n    selectToBracket(selectBrackets) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const newSelections = [];\n        this._editor.getSelections().forEach(selection => {\n            const position = selection.getStartPosition();\n            let brackets = model.bracketPairs.matchBracket(position);\n            if (!brackets) {\n                brackets = model.bracketPairs.findEnclosingBrackets(position);\n                if (!brackets) {\n                    const nextBracket = model.bracketPairs.findNextBracket(position);\n                    if (nextBracket && nextBracket.range) {\n                        brackets = model.bracketPairs.matchBracket(nextBracket.range.getStartPosition());\n                    }\n                }\n            }\n            let selectFrom = null;\n            let selectTo = null;\n            if (brackets) {\n                brackets.sort(Range.compareRangesUsingStarts);\n                const [open, close] = brackets;\n                selectFrom = selectBrackets ? open.getStartPosition() : open.getEndPosition();\n                selectTo = selectBrackets ? close.getEndPosition() : close.getStartPosition();\n                if (close.containsPosition(position)) {\n                    // select backwards if the cursor was on the closing bracket\n                    const tmp = selectFrom;\n                    selectFrom = selectTo;\n                    selectTo = tmp;\n                }\n            }\n            if (selectFrom && selectTo) {\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\n            }\n        });\n        if (newSelections.length > 0) {\n            this._editor.setSelections(newSelections);\n            this._editor.revealRange(newSelections[0]);\n        }\n    }\n    removeBrackets(editSource) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        this._editor.getSelections().forEach((selection) => {\n            const position = selection.getPosition();\n            let brackets = model.bracketPairs.matchBracket(position);\n            if (!brackets) {\n                brackets = model.bracketPairs.findEnclosingBrackets(position);\n            }\n            if (brackets) {\n                this._editor.pushUndoStop();\n                this._editor.executeEdits(editSource, [\n                    { range: brackets[0], text: '' },\n                    { range: brackets[1], text: '' }\n                ]);\n                this._editor.pushUndoStop();\n            }\n        });\n    }\n    _updateBrackets() {\n        if (this._matchBrackets === 'never') {\n            return;\n        }\n        this._recomputeBrackets();\n        const newDecorations = [];\n        let newDecorationsLen = 0;\n        for (const bracketData of this._lastBracketsData) {\n            const brackets = bracketData.brackets;\n            if (brackets) {\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\n            }\n        }\n        this._decorations.set(newDecorations);\n    }\n    _recomputeBrackets() {\n        if (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {\n            // no model or no focus => no brackets!\n            this._lastBracketsData = [];\n            this._lastVersionId = 0;\n            return;\n        }\n        const selections = this._editor.getSelections();\n        if (selections.length > 100) {\n            // no bracket matching for high numbers of selections\n            this._lastBracketsData = [];\n            this._lastVersionId = 0;\n            return;\n        }\n        const model = this._editor.getModel();\n        const versionId = model.getVersionId();\n        let previousData = [];\n        if (this._lastVersionId === versionId) {\n            // use the previous data only if the model is at the same version id\n            previousData = this._lastBracketsData;\n        }\n        const positions = [];\n        let positionsLen = 0;\n        for (let i = 0, len = selections.length; i < len; i++) {\n            const selection = selections[i];\n            if (selection.isEmpty()) {\n                // will bracket match a cursor only if the selection is collapsed\n                positions[positionsLen++] = selection.getStartPosition();\n            }\n        }\n        // sort positions for `previousData` cache hits\n        if (positions.length > 1) {\n            positions.sort(Position.compare);\n        }\n        const newData = [];\n        let newDataLen = 0;\n        let previousIndex = 0;\n        const previousLen = previousData.length;\n        for (let i = 0, len = positions.length; i < len; i++) {\n            const position = positions[i];\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\n                previousIndex++;\n            }\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\n                newData[newDataLen++] = previousData[previousIndex];\n            }\n            else {\n                let brackets = model.bracketPairs.matchBracket(position, 20 /* give at most 20ms to compute */);\n                let options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\n                if (!brackets && this._matchBrackets === 'always') {\n                    brackets = model.bracketPairs.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\n                }\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\n            }\n        }\n        this._lastBracketsData = newData;\n        this._lastVersionId = versionId;\n    }\n}\nBracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\nBracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\n    description: 'bracket-match-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'bracket-match',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerBracketMatchForeground),\n        position: OverviewRulerLane.Center\n    }\n});\nBracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\n    description: 'bracket-match-no-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'bracket-match'\n});\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(SelectToBracketAction);\nregisterEditorAction(JumpToBracketAction);\nregisterEditorAction(RemoveBracketsAction);\n// Go to menu\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n    group: '5_infile_nav',\n    command: {\n        id: 'editor.action.jumpToBracket',\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\n    },\n    order: 2\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}